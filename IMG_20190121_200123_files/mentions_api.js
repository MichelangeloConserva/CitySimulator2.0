define(["require","exports","tslib","external/lodash","modules/clean/contacts/bloodhound_contacts_v2","modules/clean/contacts/data_v2","modules/clean/react/comments2/transforms"],function(t,e,n,c,a,o,r){"use strict";function s(t){return t?new i(t):{cache:{},query:function(){},getMatchesWithStarterSuggestions:function(){return{}}}}Object.defineProperty(e,"__esModule",{value:!0}),c=n.__importStar(c);var i=(function(){function t(t){var e=this;this.cache={},this.filterContact=function(t){var n=!!t.group_id,c=t.email===e.user.email;return!(n||c)},this.user=t,this.dataSource=new o.ContactsDataSourceV2(t,this.filterContact)}return t.prototype.query=function(t,e){var c=this,a=function(a){c.cache=n.__assign({},c.cache,(o={},o[t]=a.map(r.contactToIMentionUser),o)),e(c.cache);var o};this.dataSource.search(t,a,a)},t.prototype.getMatchesWithStarterSuggestions=function(){var t=a.BloodhoundContactsV2.getAll(this.user).map(r.contactToIMentionUser),e=c.sortBy(t.slice(0,50),function(t){return t.name||t.email});return this.cache=n.__assign({},this.cache,{"":e}),this.cache},t})();e.MentionsApiImpl=i,e.mentionsApi=s});
//# sourceMappingURL=mentions_api.min.js-vfl3eb0ci.map