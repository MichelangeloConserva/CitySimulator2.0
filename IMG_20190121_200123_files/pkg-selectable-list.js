define("modules/clean/react/selectable_list",["require","exports","tslib","external/immutable","external/keymaster","react","external/lodash","external/react-dom","modules/core/browser_detection"],function(e,t,n,l,a,i,o,s,r){"use strict";function c(e,t,n,l,a,i){if(void 0===i&&(i=!1),t<0||t>=n)return 0;a&&0!==a.length||(a=[0]);var s=o.sortedIndex(a,t),r=a[s]===t,c=r?s:s-1,d=a[c],u=(t-d)%l;switch(e){case h.NEXT_ROW:var p=a.length;if(c===p-1&&t+l>=n){var f=(t-d)%l,m=(n-d)%l;if(f<m||0===m)return i?n-1:t}var S=c+1,E=S<a.length?a[S]:n;if(t+l-(l-((E-d)%l||l))<E){var _=E-1;return Math.min(t+l,_)}var b=S+1<p?a[S+1]-1:n-1;return Math.min(E+u,b);case h.PREV_ROW:if(0===c&&t-l<0)return i?0:t;if(t-l>=d)return t-l;var v=a[c-1],x=d-1,g=d-v,y=v+g-(g%l||l);return Math.min(y+u,x)}}function d(e,t,n,l,a,i){switch(e){case h.PREV:return Math.max(0,t-1);case h.NEXT:return Math.min(n-1,t+1);case h.PREV_ROW:case h.NEXT_ROW:return c(e,t,n,l,a,i)}}function u(e,t,n,l,a,i,o,s,r){switch(e){case h.PREV:case h.PREV_ROW:if(0===t)return o;for(var c=d(e,t,s.length,n,r,!0),u=Math.min(t,l)-c,p=t-Math.max(c,l),f=i;f>i-p;f--){var m=o.indexOf(s[f]);o.splice(m,1)}for(var f=a-1;f>=a-u;f--)o.push(s[f]);break;case h.NEXT:case h.NEXT_ROW:if(t===s.length)return o;for(var S=d(e,t,s.length,n,r,!0),p=Math.min(S,l)-a,u=S-Math.max(t,l),f=a;f<a+p;f++){var m=o.indexOf(s[f]);o.splice(m,1)}for(var f=i+1;f<=i+u;f++)o.push(s[f])}return o}Object.defineProperty(t,"__esModule",{value:!0}),l=n.__importStar(l),a=n.__importDefault(a),i=n.__importDefault(i),o=n.__importStar(o),s=n.__importStar(s),r=n.__importStar(r),t.SELECTABLE_LIST_KEY_SCOPE="SelectableList",t.SELECTABLE_TILE_GRID_KEY_SCOPE="SelectableTileGrid";var h,p="";(function(e){e[e.PREV=0]="PREV",e[e.NEXT=1]="NEXT",e[e.PREV_ROW=2]="PREV_ROW",e[e.NEXT_ROW=3]="NEXT_ROW"})(h=t.SelectDirection||(t.SelectDirection={})),t.findNeighboringItem=d,t.findSelectionRange=u;var f=(function(e){function o(t){var n=e.call(this,t)||this;return n.isFocused=!1,n.handleSelectPrevious=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.selectNeighboringItem(h.PREV))},n.handleSelectPreviousRow=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.selectNeighboringItem(h.PREV_ROW))},n.handleExtendSelectionToPrevious=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.extendSelectionRange(h.PREV))},n.handleExtendSelectionToPreviousRow=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.extendSelectionRange(h.PREV_ROW))},n.handleSelectNext=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.selectNeighboringItem(h.NEXT))},n.handleSelectNextRow=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.selectNeighboringItem(h.NEXT_ROW))},n.handleExtendSelectionToNext=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.extendSelectionRange(h.NEXT))},n.handleExtendSelectionToNextRow=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.extendSelectionRange(h.NEXT_ROW))},n.handleDeselectAll=function(e){var t=n.props.selection;if((!e||n.isGlobalEvent(e))&&t.selected.size&&(n.updateSelection([],!0),s.findDOMNode(n).contains(document.activeElement))){var l=document.activeElement;l.blur&&l.blur()}},n.handleSelectAll=function(e){var t=n.props,l=t.itemIds,a=t.selection;e&&!n.isGlobalEvent(e)||a.selected.size===l.length||n.updateSelection(n.props.itemIds,!0)},n.handleDeselect=function(e,t){if(t)return n.extendOrShrinkSelectionByFile(e);n.updateSelectionById(e,"delete")},n.handleSelect=function(e,t){if(t)return n.extendOrShrinkSelectionByFile(e);n.updateSelectionById(e,"add")},n.handleFocusFile=function(e){n.setState({focusedFileId:e})},n.isSelectableListEvent=function(){return n.isFocused},n.handleFocus=function(){n.isFocused=!0},n.handleBlur=function(){n.isFocused=!1},n.state={focusedFileId:null,selection:t.selection,keyScope:t.keyScope},n}return n.__extends(o,e),o.prototype.componentWillReceiveProps=function(e){this.props.keyScope!==e.keyScope&&(this.setState({keyScope:e.keyScope}),this.isFocused=!1)},o.prototype.componentDidMount=function(){this.setupKeyboardShortcuts(),this.setFocusedIdFromSelection(this.props.selection)},o.prototype.componentDidUpdate=function(e,t){e.selection&&this.props.selection&&e.selection.anchor!==this.props.selection.anchor&&this.setFocusedIdFromSelection(this.props.selection),this.state.keyScope!==t.keyScope&&this.setupKeyboardShortcuts()},o.prototype.componentWillUnmount=function(){this.cleanupKeyboardShortcuts()},o.prototype.setupKeyboardShortcuts=function(){var e=this,n=this.state.keyScope;p=a.default.getScope(),p!==n&&a.default.setScope(n);var l=a.default.filter||function(e){var t=e.target||e.srcElement;if(!(t instanceof Element))return!0;var n=t.tagName;return!("INPUT"===n||"SELECT"===n||"TEXTAREA"===n)};a.default.filter=function(t){var n=t.target||t.srcElement,a=n.tagName;return(!e.isSelectableListEvent()||"BUTTON"!==a)&&(n instanceof HTMLInputElement&&"checkbox"===n.type||l.call(e,t))},n===t.SELECTABLE_LIST_KEY_SCOPE?(a.default("up",n,this.handleSelectPrevious),a.default("shift+up",n,this.handleExtendSelectionToPrevious),a.default("down",n,this.handleSelectNext),a.default("shift+down",n,this.handleExtendSelectionToNext)):n===t.SELECTABLE_TILE_GRID_KEY_SCOPE&&(a.default("left",n,this.handleSelectPrevious),a.default("shift+left",n,this.handleExtendSelectionToPrevious),a.default("right",n,this.handleSelectNext),a.default("shift+right",n,this.handleExtendSelectionToNext),a.default("up",n,this.handleSelectPreviousRow),a.default("shift+up",n,this.handleExtendSelectionToPreviousRow),a.default("down",n,this.handleSelectNextRow),a.default("shift+down",n,this.handleExtendSelectionToNextRow)),a.default("escape",n,this.handleDeselectAll),r.mac?a.default("command+a",n,this.handleSelectAll):a.default("ctrl+a",n,this.handleSelectAll)},o.prototype.cleanupKeyboardShortcuts=function(){a.default.clearScope(this.state.keyScope),p&&a.default.setScope(p),a.default.resetFilter()},o.prototype.setFocusedIdFromSelection=function(e){e.anchor&&0!==e.selected.size&&this.setState({focusedFileId:e.anchor})},o.prototype.handleTabbingStart=function(){document.body.classList.add("tabbing"),this.props.onTabbingStart()},o.prototype.updateSelection=function(e,t){void 0===t&&(t=!1);var n=this.props.selection,a=t?e.length?e[0]:this.props.itemIds[0]:n.anchor,i=n.merge({selected:l.OrderedSet(e),anchor:a});this.props.onSelectionChange(i)},o.prototype.selectNeighboringItem=function(e){var t=this.props,n=t.itemIds,l=t.selection,a=t.tilesPerRow,i=t.sectionStartIndices,o=n.indexOf(l.selected.last()),s=d(e,o,n.length,a,i),r=n[s];this.setState({focusedFileId:r}),this.updateSelection([r],!0),this.handleTabbingStart()},o.prototype.extendSelectionRange=function(e){var t=this.props,n=t.itemIds,l=t.selection,a=t.tilesPerRow,i=t.sectionStartIndices,o=l.anchor||n[0];if(o){var s=n.indexOf(l.selected.last()),r=l.selected.toArray(),c=n.indexOf(o),d=this.getRangeOfSelectedBlock(o);r=u(e,s,a,c,d.startIndex,d.endIndex,r,n,i),this.setState({focusedFileId:r[r.length-1]}),this.updateSelection(r),this.handleTabbingStart()}},o.prototype.getRangeOfSelectedBlock=function(e){for(var t=this.props,n=t.itemIds,l=t.selection,a=n.indexOf(e),i=0,o=0;i=a,a--,!(a<0)&&l.selected.has(n[a]););for(a=i;;){var s=n[a];if(!s||!l.selected.has(s))break;o=a,a++}return{startIndex:i,endIndex:o}},o.prototype.extendOrShrinkSelectionByFile=function(e){var t=this.props,n=t.itemIds,l=t.selection,a=l.anchor||n[0];if(a){var i=n.indexOf(a),o=n.indexOf(e),s=this.getRangeOfSelectedBlock(a),r=s.startIndex,c=s.endIndex;if(o!==c){var d=[],u=[];n.forEach(function(e,t){r<=t&&t<=c&&d.push(e),(o<=t&&t<=i||i<=t&&t<=o)&&u.push(e)}),o<i&&u.reverse();var h=l.update("selected",function(e){return e.subtract(d).union(u)});this.setState({focusedFileId:e}),this.props.onSelectionChange(h),this.handleTabbingStart()}}},o.prototype.updateSelectionById=function(e,t){var n=this.props.selection,l="add"===t?e:n.anchor,a=n.selected[t](e),i=n.merge({selected:a,anchor:l||null});this.props.onSelectionChange(i)},o.prototype.isGlobalEvent=function(e){var t=e.target instanceof HTMLInputElement,n=t&&"checkbox"===e.target.type;return!document.activeElement||document.activeElement===document.body||e.target instanceof Element&&(s.findDOMNode(this).contains(e.target)&&(!t||n))},o.prototype.render=function(){var e=this.props.children,t=this.state.focusedFileId;if(!e)return null;var n=e;return"function"==typeof e&&(n=e({focusedFileId:t,handleDeselect:this.handleDeselect,handleDeselectAll:this.handleDeselectAll,handleFocusFile:this.handleFocusFile,handleSelect:this.handleSelect,handleSelectAll:this.handleSelectAll,isSelectableListEvent:this.isSelectableListEvent})),i.default.createElement("div",{onBlur:this.handleBlur,onFocus:this.handleFocus},n)},o})(i.default.PureComponent);t.SelectableList=f}),define("spectrum/media_table_skeleton",["require","exports","tslib","spectrum/media_table_skeleton/media_icon","spectrum/media_table_skeleton/media_table_skeleton","spectrum/media_table_skeleton/media_table_skeleton_row"],function(e,t,n,l,a,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(l,t),n.__exportStar(a,t),n.__exportStar(i,t)}),define("spectrum/media_table_skeleton/media_icon",["require","exports","tslib","react"],function(e,t,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l=n.__importStar(l),t.MediaIcon=function(){return l.createElement("svg",{width:"24",height:"29",viewBox:"0 0 24 29"},l.createElement("g",{fill:"none"},l.createElement("polyline",{points:"0 0 16 0 16 8 24 8 24 29 0 29",fill:"#F7F8F9"}),l.createElement("polygon",{points:"16 0 24 8 16 8",fill:"#EFF1F3"})))},t.MediaIcon.displayName="MediaIcon"}),define("spectrum/media_table_skeleton/media_table_skeleton",["require","exports","tslib","classnames","react","spectrum/media_table_skeleton/media_table_skeleton_row"],function(e,t,n,l,a,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l=n.__importDefault(l),a=n.__importStar(a),t.MediaTableSkeleton=function(e){for(var t=e.numRows,n=e.className,o=[],s=0;s<t;s++)o.push(a.createElement(i.MediaTableSkeletonRow,{key:s}));var r=l.default("media-table-skeleton",n);return a.createElement("table",{className:r},a.createElement("thead",{className:"media-table-skeleton-head"},a.createElement("tr",{className:"media-table-skeleton-head-row"},a.createElement("th",{className:"media-table-skeleton-head-cell"},a.createElement("div",{className:"media-table-skeleton-placeholder-head"})))),a.createElement("tbody",{className:"media-table-skeleton-body"},o))},t.MediaTableSkeleton.displayName="MediaTableSkeleton"}),define("spectrum/media_table_skeleton/media_table_skeleton_row",["require","exports","tslib","react","spectrum/media_table_skeleton/media_icon"],function(e,t,n,l,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l=n.__importStar(l),t.MediaTableSkeletonRow=function(){return l.createElement("tr",{className:"media-table-skeleton-row"},l.createElement("td",{className:"media-table-skeleton-cell-content"},l.createElement("div",{className:"media-table-skeleton-icon"},l.createElement(a.MediaIcon,null)),l.createElement("div",{className:"media-table-skeleton-placeholder-content"})),l.createElement("td",{className:"media-table-skeleton-cell-detail"},l.createElement("div",{className:"media-table-skeleton-placeholder-detail"})))},t.MediaTableSkeletonRow.displayName="MediaTableSkeletonRow"});
//# sourceMappingURL=pkg-selectable-list.min.js-vflmRlFmX.map