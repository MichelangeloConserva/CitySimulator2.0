define(["require","exports","tslib","react","modules/core/i18n","modules/clean/react/css","modules/clean/components/loading_indicator","modules/clean/react/file_sidebar/file_sidebar_connect","modules/clean/react/file_sidebar/store/file_activity/actions","modules/clean/react/file_sidebar/store/file_activity/selectors","modules/clean/react/file_activity_stream/file_activity_stream_card_factory"],function(e,t,i,a,r,l,n,s,c,o,d){"use strict";function u(e){var t=o.getActivitiesMetadata(e);return{activities:i.__assign({},t)}}Object.defineProperty(t,"__esModule",{value:!0}),a=i.__importDefault(a),c=i.__importStar(c),o=i.__importStar(o);var _=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onRefreshClick=function(e){var i=t.props,a=i.dispatch,r=i.file,l=i.user;e.preventDefault(),a(c.reset()),a(c.getActivityStream(l.id,r))},t}return i.__extends(t,e),t.prototype.renderDebug=function(){return null},t.prototype.renderLoading=function(){return a.default.createElement("div",{className:"file_activity_stream file_activity_stream-overlay"},a.default.createElement(n.LoadingIndicator,{style:n.LoadingIndicator.LoadingIndicatorStyle.BLUE_SPINNER}))},t.prototype.renderError=function(){return a.default.createElement("div",{className:"file_activity_stream file_activity_stream-overlay"},a.default.createElement("div",{className:"file_activity_stream__centered_panel"},r._("Oops, we had an issue."),a.default.createElement("a",{href:"",onClick:this.onRefreshClick},r._("Try again"))))},t.prototype.renderNoLogs=function(){return a.default.createElement("div",{className:"file_activity_stream"},a.default.createElement("div",{className:"file_activity_stream__empty_state"},a.default.createElement("h4",null,r._("No recent activity")),a.default.createElement("p",null,r._("Once people start doing things with this file, you’ll see their activity here."))))},t.prototype.renderOldFile=function(){return a.default.createElement("div",{className:"file_activity_stream"},a.default.createElement("div",{className:"file_activity_stream__empty_state"},a.default.createElement("h4",null,r._("No recent activity")),a.default.createElement("p",null,r._("This file hasn’t been updated in the past year."))))},t.prototype.render=function(){var e=this.props,t=e.activities,i=e.file,r=e.user;return t?!t.loaded&&t.loading?this.renderLoading():0===t.value.length?t.error?this.renderError():"number"==typeof i.ts&&Math.floor(Date.now()/1e3)-i.ts>=7776e3?this.renderOldFile():this.renderNoLogs():a.default.createElement("div",{className:"file_activity_stream"},t.value.map(function(e){return a.default.createElement(d.FileActivityStreamCardFactory,{key:e.id,activity:e,file:i,viewingUser:r})}),this.renderDebug()):null},t})(a.default.Component);t.FileActivityStream=s.fileSidebarConnect(u)(l.requireCssWithComponent(_,["/static/css/file_activity_stream-vflDnObwq.css"]))});
//# sourceMappingURL=file_activity_stream.min.js-vfljuiGks.map