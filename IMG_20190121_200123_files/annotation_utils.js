define(["require","exports","modules/clean/annotations/annotation","modules/core/exception"],function(t,o,e,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=function(t,o){var e=t.getBoundingBox(),n=window.getComputedStyle(o),r=n.width,l=n.height;return e.top>=l||e.left>=r||e.right<0||e.bottom<0};o.isAnnotationOffscreen=r;var l=function(t,o){var r,l,i,u,a=o.getBoundingClientRect(),d=a.width,c=a.height,p=function(t,o,e){return void 0===o&&(o=null),void 0===e&&(e=null),n.assert(null!==o||null!==e,"doesBubbleFitOnScreen needs a top or bottom value"),e&&(o=-e-120),t>=0&&t<d-320&&o>=0&&o<c-120},f=function(t,o){return"down"===o?c-t-75:-t-10},s=a.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop),b=a.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft),m=t.getClampedBoundingBox(d,c,b,s),g=e.Annotation.getCenterPosition(m),w=m.bottom-m.top,h={up:2*m.top,down:c-m.bottom,left:m.left,right:d-m.right},x=0,y="up";for(var v in h){var B=h[v];B>x&&(y=v,x=B)}if("up"===y&&(l=g.x-160,u=-m.bottom+w+10,r="bottom",p(l,null,u)))return[r,{x:l,y:u},f(u,"up")];if("down"===y&&(l=g.x-160,i=m.bottom+10,r="top",p(l,i)))return[r,{x:l,y:i},f(i,"down")];h.left>h.right?(r="right",l=m.left-320-10):(r="left",l=m.right+10);var k="down",O=c-m.top,C=m.bottom;return C>O&&(k="up"),"down"===k&&O<320&&C>O&&(k="up"),"down"===k&&(r+="-top",i=g.y-28,i=Math.max(0,i),p(l,i))?[r,{x:l,y:i},f(i,"down")]:(r+="-bottom",u=-g.y-28,u=Math.max(-c+1,u),p(l,null,u)?[r,{x:l,y:u},f(u,"up")]:(l=g.x-160,i=g.y+10,p(l,i)?["top",{x:l,y:i},f(i,"down")]:(i=10,p(l,i)?["top",{x:l,y:i},f(i,"down")]:(l=0,i=10,p(l,i)?["top",{x:l,y:i},f(i,"down")]:[null,{x:null,y:null},null]))))};o.getBubblePosition=l;var i=function(t,o,e){var n=0,r=0,l=t;switch(t){case"top":n=141;break;case"left-top":l="left",r=15;break;case"right-top":n=282,r=15,l="right";break;case"left-bottom":l="left",r=15;break;case"right-bottom":n=282,r=15,l="right";break;case"bottom":n=141}return[l,{x:o+n,y:e+r}]};o.getExpandBubblePosition=i});
//# sourceMappingURL=annotation_utils.min.js-vflgG9FEO.map