define(["require","exports","tslib","react","modules/core/i18n","modules/clean/react_format","modules/clean/react/file_activity_stream/display_name","modules/clean/react/file_activity_stream/utils","modules/clean/react/file_viewer/share_helpers","modules/clean/react/file_activity_stream/file_activity_stream_card","modules/clean/react/file_activity_stream/utils"],function(e,t,r,n,a,i,s,o,l,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importDefault(n),l=r.__importStar(l);var m=a._("Can view",{comment:"used to explain what permissions a user has on a file"}),d=a._("Can comment",{comment:"used to explain what permissions a user has on a file"}),g=a._("Can edit",{comment:"used to explain what permissions a user has on a file"}),h={view_name_only:m,traverse:m,reader_no_comment:m,reader:d,writer:g,owner:g},p=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onShareSettingsClick=function(){l.share(t.props.file,t.props.viewingUser,null,"PREVIEW_PAGE")},t}return r.__extends(t,e),t.prototype.message=function(e){var t=this.props.activity.user;if(c.isViewingUser(this.props)){if(1===e.length)return i.reactFormat(a._("<strong>You</strong> shared this file with <strong>%(entity)s</strong>"),{strong:n.default.createElement("strong",null),entity:e[0]});if(e.length>1)return i.reactFormat(a.ungettext("<strong>You</strong> shared this file with <strong>%(entity)s</strong> and <strong>1 other</strong>","<strong>You</strong> shared this file with <strong>%(entity)s</strong> and <strong>%(count)s others</strong>",e.length-1),{strong:n.default.createElement("strong",null),entity:e[0],count:e.length-1})}else{if(1===e.length)return i.reactFormat(a._("<strong>%(name)s</strong> shared this file with <strong>%(entity)s</strong>"),{strong:n.default.createElement("strong",null),entity:e[0],name:t.display_name});if(e.length>1)return i.reactFormat(a.ungettext("<strong>%(name)s</strong> shared this file with <strong>%(entity)s</strong> and <strong>1 other</strong>","<strong>%(name)s</strong> shared this file with <strong>%(entity)s</strong> and <strong>%(count)s others</strong>",e.length-1),{strong:n.default.createElement("strong",null),entity:e[0],count:e.length-1,name:t.display_name})}return null},t.prototype.renderSharedUser=function(e,t){return n.default.createElement(u.FileActivityStreamCard.Detail,{key:e.id,user:e},n.default.createElement(u.FileActivityStreamCard.Detail.Entity,{title:n.default.createElement(s.DisplayName,{user:e}),detail:h[t]}))},t.prototype.renderSharedGroup=function(e,t){return n.default.createElement(u.FileActivityStreamCard.Detail,{key:e.id,group:e},n.default.createElement(u.FileActivityStreamCard.Detail.Entity,{title:e.name,detail:h[t]}))},t.prototype.renderSharedEmail=function(e,t){return n.default.createElement(u.FileActivityStreamCard.Detail,{key:e,email:e},n.default.createElement(u.FileActivityStreamCard.Detail.Entity,{title:e,detail:h[t]}))},t.prototype.render=function(){var e=this,t=this.props.activity,r=t.shared_users.slice(),i=t.shared_emails.slice(),s=t.shared_groups.slice();r.sort(function(e,t){return o.userDisplayName(e).localeCompare(o.userDisplayName(t))}),i.sort(),s.sort(function(e,t){return e.name.localeCompare(t.name)});var l=r.map(function(e){return o.userDisplayName(e)}).concat(i,s.map(function(e){return e.name})),c=this.message(l);return n.default.createElement(u.FileActivityStreamCard,{user:t.user,timestamp:t.timestamp,action:{text:a._("Sharing settings"),onClick:this.onShareSettingsClick},message:c},r.map(function(r){return e.renderSharedUser(r,t.access_type)}),i.map(function(r){return e.renderSharedEmail(r,t.access_type)}),s.map(function(r){return e.renderSharedGroup(r,t.access_type)}))},t})(n.default.Component);t.FileSharedContentInviteActivityCard=p});
//# sourceMappingURL=file_shared_content_invite_activity_card.min.js-vflzugXU5.map