define(["require","exports","tslib","react","modules/clean/react/file_viewer/constants","modules/clean/react/file_viewer/logging","modules/clean/react/file_viewer/utils","modules/clean/react/share_download/models","modules/clean/react/title_bar/overflow_menu","modules/clean/share_download/types","modules/clean/viewer"],function(e,o,n,t,i,r,l,a,c,s,u){"use strict";function d(e,o,n,t){var i=e.canDownloadRoles,r=e.canCopyToDropboxRoles,l=a.ShareDownloadActionOption.buildDirectOption,c=a.ShareDownloadActionOption.buildToDropboxOption,d=[];if(s.isPendingEntry(t))return d;if(i.length>0&&d.push(l(o)),r.length>0){var p=u.Viewer.get_viewer(),f=p.get_users(!0),m=function(e,o){var i=r.indexOf(o)===-1;d.push(c(n,t,p,e,o,i))};f.forEach(function(e){m(e,e.role)}),r.indexOf("anonymous")>-1&&m(void 0,"anonymous")}return d}function p(e,o,n,t){return function(i){n&&n(),e.handler&&e.handler(),r.logUserAction(e.userAction,l.getSplitButtonUserActionContext(o,t))}}function f(e,o,n,r){return d(e,o,n,r).map(function(e){return t.default.createElement(c.PopoverOrMobileItem,{key:e.userAction,disabled:e.isDisabled,onSelect:p(e,i.SplitButtonActionLocation.Split)},e.text)})}Object.defineProperty(o,"__esModule",{value:!0}),t=n.__importDefault(t),o.getDownloadOptions=d,o.callOptionHandler=p,o.getDownloadOptionsAsPopoverOrMobileItems=f});
//# sourceMappingURL=util.min.js-vfl7sL5ML.map