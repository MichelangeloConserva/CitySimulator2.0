define(["require","exports","tslib","external/lodash","react","modules/clean/ajax","modules/clean/browse_interface","modules/clean/filepath","modules/clean/filetypes","modules/clean/logging/hive/schemas/web-modal-activity","modules/clean/react/app_actions/app_actions_menu","modules/clean/react/async_file_modal_controller","modules/clean/react/async_fileops_modals","modules/clean/react/async_overquota_modal_controller","modules/clean/react/browse/action_logger","modules/clean/react/browse/actions","modules/clean/react/browse/client_download_modal","modules/clean/react/browse/logger_util","modules/clean/react/browse/models","modules/clean/react/browse/nav_actions","modules/clean/react/fileops_actions","modules/clean/react/files_view/types","modules/clean/react/folder_dialog/api","modules/clean/react/folder_dialog/constants","modules/clean/react/search_success_banner/util","modules/clean/react/starred/browse_exports","modules/clean/search/search_results/log_helper","modules/clean/sharing/browse_exports","modules/clean/sharing/constants","modules/clean/sharing/views/exp_showcase_share_interstitial","modules/clean/viewer","modules/clean/web_user_action_events","modules/core/browser","modules/core/i18n","modules/core/uri","modules/clean/unity/check_file_cache","modules/clean/unity/features"],function(e,o,s,r,i,n,t,a,l,c,d,u,h,f,_,w,p,m,S,v,F,y,g,A,b,M,E,T,N,C,D,R,O,P,I,L,U){"use strict";function x(e){return e.isDeleted||e.is_unmounted}function W(e){var o=e.toArray().map(function(e){return e.fq_path});return a.inSameDirectory(o)}function z(e){var o=e.result,s=e.files,r=e.user,i=e.action_type,n=e.isSearchMode,t=e.view_type,a=e.source,l=m.countFilesAndFolders(s),c=l.num_files_selected,d=l.num_folders_selected;n&&E.recordSearchResultsAction({result:o,user:r,action_type:i,view_type:t}),_.logBrowseAction(r.id,a,i,c,d,t,o)}function k(e){var o=e.context,r=e.files,i=e.user,n=e.viewType,t=e.fileIdToExtensionsConfigs,a=e.canDisplayFolderSizes,l=void 0!==a&&a,c=e.isSearchMode,d=void 0!==c&&c,u=e.isQueryingFolderSizes,h=e.showAddToShowcase,f=void 0!==h&&h,_=e.showAddFolderToShowcase,w=void 0!==_&&_,p=e.hasShowcaseFreemium,m=void 0!==p&&p,S=e.isSidebar,v=e.showFolderCalcSize,F=void 0!==v&&v,y=s.__assign({},G);if(o.isInsideArchivedTeamFolder)return y.showDownload=!0,y;var g=r.every(function(e){return!x(e)}),A=!g&&r.every(function(e){return x(e)});return g?q({actions:y,canDisplayFolderSizes:l,context:o,files:r,fileIdToExtensionsConfigs:t,isQueryingFolderSizes:u,isSearchMode:d,showAddToShowcase:f,showAddFolderToShowcase:w,hasShowcaseFreemium:m,isSidebar:S,showFolderCalcSize:F,user:i,viewType:n}):A?B({actions:y,files:r,context:o,user:i}):y}function q(e){var o,s=e.actions,r=e.context,i=e.files,n=e.user,t=e.viewType,a=e.fileIdToExtensionsConfigs,c=e.canDisplayFolderSizes,d=void 0!==c&&c,u=e.isQueryingFolderSizes,h=void 0!==u&&u,f=e.isSearchMode,_=void 0!==f&&f,w=e.showAddToShowcase,p=void 0!==w&&w,m=e.showAddFolderToShowcase,v=void 0!==m&&m,F=e.hasShowcaseFreemium,g=void 0!==F&&F,A=(e.isSidebar,e.showFolderCalcSize),b=void 0!==A&&A,E=i.first(),N=1===i.count(),C=N&&!E.is_dir,R=N&&E.is_dir,O=i.every(function(e){return e.type===l.FileTypes.FILE}),P=i.some(function(e){return e.type===l.FileTypes.TEAM_SHARED_FOLDER}),I=i.some(function(e){return e.type===l.FileTypes.TEAM_MEMBER_FOLDER}),x=i.some(function(e){return e.type===l.FileTypes.SANDBOX}),z=!1;if(P||I||(s.showCopy=!0,s.showDelete=!0,s.showMove=!0,s.showRename=N),P&&R&&n&&T.GoldenGate.hasContentManagerAndSuperAdmin(n.id)&&(s.showRenameTeamFolder=!0,s.showArchive=!0),!D.Viewer.get_viewer().is_assume_user_session&&n&&T.GoldenGate.hasContentManagerAndSuperAdmin(n.id)&&T.GoldenGate.hasNewOwnershipModel(n.id)&&r.isInsideTeamFolderTree&&(s.showManageAsAdmin=!0),N){var k=i.first();o=T.shouldUsePublicFolderSharing(r.config,k.fq_path),o||I||x||(s.showTiburonShare=!0),z=U.UnityFeatures.isUnitySupported()&&null!=L.default&&L.default.is_cached_and_locally_available(k.ns_id,k.ns_path),z&&(s.showOpen=!0),a&&a[k.file_id]&&a[k.file_id].showMenu&&(s.showOpenWith=!0)}if(s.showShowInFolder=_&&W(i),C&&(s.showComment=!0,s.showVersions=!0,r.isInFolderMode?s.showCopyPublicFolderFileLink=!!o:s.showCopyPublicFolderFileLink=!1),z||(C?E.is_cloud_doc?s.showDownload=!1:s.showDownload=!0:s.showDownload=r.isInFolderMode||_),(O||v&&R)&&r.isCurrentPathWriteable()&&p&&!g&&(s.showProfessionalCollectionShare=!0),N){var q=i.first().type;q!==l.FileTypes.SHARED_FOLDER&&q!==l.FileTypes.TEAM_SHARED_FOLDER||(s.showSharedFolderEvents=!0),R&&null==i.first().fetchFolderSizesStatus&&!h&&!_&&t!==y.ViewType.Grid&&d&&(s.showCalculateFolderSize=!0)}if(b){var B=i.every(function(e){return null==e.fetchFolderSizesStatus}),V=i.every(function(e){return e.is_dir}),H=i.some(function(e){return!S.File.canViewFileMembers(e,r)});B&&V&&!H&&!h&&!_&&t!==y.ViewType.Grid&&d&&(s.showCalculateFolderSize=!0)}if(N){var G={id:i.first().file_id,type:M.HOME_RESOURCE_ID_TYPE.ENCODED_FILE_OBJ_ID},Q=M.StarredStore.getIsLoading(G),Y=M.StarredStore.getIsStarred(G);s.showStar=Y===!1,s.showUnstar=Y===!0,s.showLoadingStar=Q}return s}function B(e){var o=e.actions,s=e.files,r=e.context,i=e.user,n=s.first();if(s.some(function(e){return e.is_unmounted||e.ns_id!==n.ns_id}))return o;1===s.count()&&n.is_dir&&r.inactiveNSIDByFQPath[n.fq_path.toLowerCase()]&&!r.isInsideTeamFolderTree?o.showReadd=!0:o.showRestore=!0;var t;if(r.isInFolderMode)t=r.permanentDeletionDisabledStateByNSID[r.currentNSID];else{t=s.map(function(e){return e.ns_id}).some(function(e){return r.permanentDeletionDisabledStateByNSID[e]})}return!D.Viewer.get_viewer().is_assume_user_session&&i&&T.GoldenGate.hasContentManagerAndSuperAdmin(i.id)&&T.GoldenGate.hasNewOwnershipModel(i.id)&&r.isInsideTeamFolderTree&&(o.showManageAsAdmin=!0),t||(o.showPermanentDelete=!0),o}function V(e,o){var s=o.user,r=o.context,i=o.firstFile,t=o.files,l=o.isSearchMode,c=o.source,d=o.viewType;if(z({result:i,files:t,user:s,action_type:R.WebUserActionLogEvent.SHARE,view_type:d,isSearchMode:l,source:c}),e.autoShareLink){var u=new I.URI({path:"/sm/create"+a.normalize(i.fq_path)});u.updateQuery("_subject_uid",s.id.toString()),u.updateQuery("redirect","0");var h=function(e){O.redirect(e)};n.WebRequest({url:u.toString(),type:"POST",success:h})}else{var f=function(){T.asyncShowShareModal(s,i,{browseContext:r,origin:N.SHARE_ACTION_ORIGIN_TYPE.BROWSE_FILE_ACTIONS},v.browseNavActions.setPath,v.browseNavActions.setUrl)};o.showShowcaseInterstitialExp?C.showShowcaseInterstitial({user:s,onClickShare:f,onClickShowcase:j(o,o.hasCreatedShowcase,o.hasShowcaseFreemium,!0)}):f()}}function H(e){var o=e.files,s=e.context,r=e.user,n=e.responsive,t=e.fileIdToExtensionsConfigs,a=e.canDisplayFolderSizes,l=void 0!==a&&a,c=e.actionHandlers,u=e.skipSharing,h=void 0!==u&&u,f=e.source,_=e.viewType,w=e.isOverFreeQuota,p=void 0!==w&&w,m=e.isSearchMode,v=void 0!==m&&m,F=e.isQueryingFolderSizes,y=void 0!==F&&F,g=e.canShowUJPopup,A=void 0!==g&&g,b=e.showAddToShowcase,M=void 0!==b&&b,E=e.showAddFolderToShowcase,T=void 0!==E&&E,N=e.hasCreatedShowcase,C=void 0!==N&&N,D=e.hasShowcaseFreemium,R=void 0!==D&&D,O=e.isSidebar,I=void 0!==O&&O,L=e.showShowcaseInterstitialExp,U=void 0!==L&&L,x=e.showFolderSuggestion,W=void 0!==x&&x,z=e.showPrepareForSignature,q=void 0!==z&&z,B=e.showFolderCalcSize,V=void 0!==B&&B,H=e.createNewFolderInMoveDialog,G=void 0!==H&&H,pe=e.useMetaserverDownloads,me=void 0!==pe&&pe,Se=e.useSearchSuccessBanner,ve=void 0!==Se&&Se,Fe=o.first(),ye=!s.isCurrentPathWriteable()||o.some(function(e){return e.read_only}),ge=ye,Ae=ye,be=ye,Me=ye,Ee=o.some(function(e){return!S.File.canViewFileMembers(e,s)}),Te=Ee,Ne=Ee,Ce=o.every(S.File.isNoAccessSharedFolder),De=Ce,Re=Ce,Oe=Ce,Pe=!n.isMatchedMedium&&!n.isMatchedLarge,Ie=k({files:o,context:s,user:r,viewType:_,fileIdToExtensionsConfigs:t,canDisplayFolderSizes:l,isQueryingFolderSizes:y,isSearchMode:v,showAddToShowcase:M,showAddFolderToShowcase:T,hasShowcaseFreemium:R,isSidebar:I,showFolderCalcSize:V}),Le=new Array,Ue={user:r,context:s,actionHandlers:c,files:o,firstFile:Fe,isSearchMode:v,source:f,viewType:_,hasCreatedShowcase:C,hasShowcaseFreemium:R,showShowcaseInterstitialExp:U,useMetaserverDownloads:me,useSearchSuccessBanner:ve};if(!h&&Ie.showTiburonShare){var xe=Te;Pe?Le.push({label:P._("Share link"),performAction:J(Ue),disabled:xe,className:"action-share-link",iconName:"link"}):Le.push({label:P._("Share"),iconName:"link",performAction:Y(Ue),disabled:xe,className:"action-share"})}if(Ie.showCopyPublicFolderFileLink&&Le.push({label:P._("Copy public link"),iconName:"link",className:"action-world-link",performAction:K(Ue)}),Ie.showOpen&&Le.push({label:P._("Open"),performAction:X(Ue),iconName:"open-in-app",className:"action-open-in-app"}),Ie.showShowInFolder&&Le.push({label:P._("Show in folder"),performAction:Q(Ue),iconName:"open-in-app",className:"action-show-in-folder"}),Ie.showDownload&&Le.push({label:P._("Download"),performAction:Z({canShowUJPopup:A,args:Ue}),disabled:De,iconName:"download",className:"action-download"}),q&&null!=Ue.actionHandlers.onPrepareForSignature&&"pdf"===S.File.getExtension(Fe)&&Le.push({label:P._("Prepare for signature"),iconName:"link",performAction:$(Ue),disabled:!1,className:"action-share"}),Ie.showOpenWith&&t&&Le.push(function(){return i.default.createElement(d.AppActionsMenu,{user:r,buttonText:P._("Open with"),file:Fe,triggerType:"sidebar-link",extensionsConfig:t[Fe.file_id]})}),Ie.showProfessionalCollectionShare){var We=P._("Add to showcase");Le.push({label:We,iconName:"add-to-collection",performAction:j(Ue,C),className:"action-add-to-collection",badge:void 0})}if(Ie.showComment&&Le.push({label:P._("Add comment"),performAction:ee(Ue),iconName:"add-comment",className:"action-add-comment"}),Ie.showStar&&Le.push({label:P._("Star",{comment:'Verb describing the "starring" action, not the noun.'}),performAction:oe({isStarred:!0,args:Ue}),disabled:Ie.showLoadingStar,iconName:"star",className:"action-star"}),Ie.showUnstar&&Le.push({label:P._("Unstar",{comment:'Verb describing the "unstarring" action.'}),performAction:oe({isStarred:!1,args:Ue}),disabled:Ie.showLoadingStar,iconName:"unstar",className:"action-unstar"}),Ie.showVersions&&!Ue.firstFile.is_cloud_doc&&Le.push({label:P._("Version history"),performAction:de(Ue),iconName:"view-version-history",className:"action-view-version-history"}),Ie.showRename&&Le.push({label:P._("Rename"),performAction:se(Ue),iconName:"rename",className:"action-rename",disabled:Ae}),Ie.showRenameTeamFolder&&Le.push({label:P._("Rename"),performAction:re(Ue),iconName:"rename",className:"action-rename"}),Ie.showArchive&&Le.push({label:P._("Archive"),performAction:ie(Ue),iconName:"delete",className:"action-delete"}),Ie.showMove){var ze=p?ae():ne(Ue,{showFolderSuggestion:W,createNewFolderInMoveDialog:G});Le.push({label:P._("Move"),performAction:ze,disabled:be,iconName:"move",className:"action-move"})}if(Ie.showCopy){var ke=p?ae():te(Ue,{showFolderSuggestion:W,createNewFolderInMoveDialog:G});Le.push({label:P._("Copy"),performAction:ke,disabled:Re,iconName:"copy",className:"action-copy"})}return Ie.showDelete&&Le.push({label:P._("Delete"),performAction:ue(Ue),disabled:ge,iconName:"delete",className:"action-delete"}),Ie.showRestore&&Le.push({label:P._("Restore"),className:"action-restore",performAction:le({args:Ue}),disabled:Me}),Ie.showReadd&&Le.push({label:P._("Re-add shared folder"),className:"action-re-add",performAction:ce(Ue),disabled:Me}),Ie.showPermanentDelete&&Le.push({label:P._("Permanently delete"),iconName:"delete",className:"action-permanently-delete",performAction:he(Ue)}),Ie.showSharedFolderEvents&&Le.push({label:P._("Events"),performAction:fe(Ue),disabled:Ne,iconName:"events",className:"action-events"}),Ie.showCalculateFolderSize&&Le.push({label:P._("Calculate size"),performAction:_e(Ue,{showFolderCalcSize:V}),disabled:Oe,iconName:"calculate",className:"action-calculate-folder-size"}),Ie.showManageAsAdmin&&Le.push({label:P._("View in admin console"),performAction:we(Ue),iconName:"settings-gear"}),Le}Object.defineProperty(o,"__esModule",{value:!0}),r=s.__importStar(r),i=s.__importDefault(i),n=s.__importStar(n),a=s.__importStar(a),u=s.__importStar(u),h=s.__importStar(h),f=s.__importStar(f),_=s.__importStar(_),m=s.__importStar(m),F=s.__importStar(F),O=s.__importStar(O),L=s.__importDefault(L);var G={showProfessionalCollectionShare:!1,showTiburonShare:!1,showCopyPublicFolderFileLink:!1,showOpen:!1,showOpenWith:!1,showDownload:!1,showComment:!1,showDelete:!1,showArchive:!1,showRemove:!1,showRename:!1,showRenameTeamFolder:!1,showMove:!1,showCopy:!1,showVersions:!1,showRestore:!1,showReadd:!1,showPermanentDelete:!1,showRemoveAccess:!1,showShowInFolder:!1,showStar:!1,showUnstar:!1,showLoadingStar:!1,showSharedFolderEvents:!1,showCalculateFolderSize:!1,showManageAsAdmin:!1},Q=function(e){var o=e.user,s=e.files,r=e.firstFile,i=e.isSearchMode,n=e.source,l=e.viewType,c=s.map(function(e){return e.fq_path}).toArray();return function(){var e=c.map(function(e){return a.filename(e)}),d=a.parent_dir(c[0]),u=t.browse_uri_for_fq_path(o,d);e.length>1?u.updateQuery({select_multi:JSON.stringify(e)}):u.updateQuery({select:e[0]}),z({result:r,files:s,user:o,action_type:R.WebUserActionLogEvent.SHOW_IN_FOLDER,view_type:l,isSearchMode:i,source:n}),window.open(u.toString(),"_blank")}},Y=function(e){return function(){V({autoShareLink:!1},e)}},J=function(e){return function(){V({autoShareLink:!0},e)}},j=function(o,r,i,n){return function(){var n=o.user,t=o.files,a=o.firstFile,l=o.source,c=o.viewType,d=m.countFilesAndFolders(o.files),u=d.num_files_selected,h=d.num_folders_selected;if(_.logOpenAddToCollectionModal({uid:n.id,source:l,view_type:c,result:a,num_files_selected:u,num_folders_selected:h}),t.count()>=1){var f=t.map(function(e){return{ns_id:e.ns_id,ns_path:e.ns_path,fq_path:e.fq_path}}).toArray();new Promise(function(o,s){e(["modules/clean/react/professional_collection/add_to_collection_modal_controller"],o,s)}).then(s.__importStar).then(function(e){(0,e.showAddToCollectionModal)(f,n,r,i)})}}},K=function(e){return function(){var o=e.user,s=e.context,r=e.firstFile;if(s.config&&r&&r.fq_path){var i=T.makePublicFolderLink(o.id,s.config,r.fq_path,r.is_dir);i&&T.showPublicFolderLinkModal(i)}}},X=function(e){return function(){var o=e.user,s=e.firstFile,r=e.files,i=e.isSearchMode,n=e.source,t=e.viewType;z({result:s,files:r,user:o,action_type:R.WebUserActionLogEvent.OPEN_DESKTOP,view_type:t,isSearchMode:i,source:n}),U.UnityFeatures.open_file(s.ns_id,s.ns_path,o.id,U.UnityFeatures.standard_open_file_handler,function(){return U.UnityFeatures.standard_open_file_handler(!1)})}},Z=function(e){var o=e.canShowUJPopup,s=e.args;return function(){var e=s.user,r=s.context,i=s.files,n=s.firstFile,t=s.isSearchMode,a=s.source,l=s.viewType,c=s.useMetaserverDownloads,d=s.useSearchSuccessBanner;z({result:n,files:i,user:e,action_type:R.WebUserActionLogEvent.DOWNLOAD,view_type:l,isSearchMode:t,source:a}),d&&t&&b.doSearchResultActionClickBroadcast(!0),w.browseActions.downloadFiles({files:i,context:r,user:e,useMetaserverDownloads:c}),o&&p.maybeShowClientDownloadModal(!0)}},$=function(e){return function(){var o=e.user,s=e.firstFile,r=e.files,i=e.isSearchMode,n=e.source,t=e.viewType;z({result:s,files:r,user:o,action_type:R.WebUserActionLogEvent.PREPARE_FOR_SIGNATURE,view_type:t,isSearchMode:i,source:n}),e.actionHandlers.onPrepareForSignature(s)}},ee=function(e){return function(){var o=e.user,s=e.firstFile,r=e.files,i=e.isSearchMode,n=e.source,t=e.viewType;z({result:s,files:r,user:o,action_type:R.WebUserActionLogEvent.ADD_COMMENT,view_type:t,isSearchMode:i,source:n}),e.actionHandlers.onShowComment(s)}},oe=function(e){var o=e.isStarred,s=e.args;return function(){var e=s.user,r=s.firstFile,i=s.files,n=s.isSearchMode,t=s.source,a=s.viewType;z({result:r,files:i,user:e,action_type:R.WebUserActionLogEvent.STAR,view_type:a,isSearchMode:n,source:t}),M.StarredActions.update(e.role,r.file_id,M.HOME_RESOURCE_ID_TYPE.ENCODED_FILE_OBJ_ID,o)}},se=function(e){return function(){var o=e.user,s=e.actionHandlers,r=e.firstFile,i=e.files,n=e.isSearchMode,t=e.source,a=e.viewType;z({result:r,files:i,user:o,action_type:R.WebUserActionLogEvent.RENAME,view_type:a,isSearchMode:n,source:t}),s.onShowRename(r)}},re=function(e){return function(){var o=e.user,s=e.files,r=e.firstFile,i=e.isSearchMode,n=e.source,t=e.viewType;z({result:r,files:s,user:o,action_type:R.WebUserActionLogEvent.RENAME,view_type:t,isSearchMode:i,source:n}),u.showContentManagerBridge(s.toArray(),"rename",D.Viewer.get_viewer().team_is_limited)}},ie=function(e){return function(){var o=e.user,s=e.files,r=e.firstFile,i=e.isSearchMode,n=e.source,t=e.viewType;z({result:r,files:s,user:o,action_type:R.WebUserActionLogEvent.ARCHIVE,view_type:t,isSearchMode:i,source:n}),u.showContentManagerBridge(s.toArray(),"archive",D.Viewer.get_viewer().team_is_limited)}},ne=function(e,o){return function(){var i=e.user,n=e.context,t=e.files,a=e.firstFile,l=e.source,d=e.isSearchMode,u=e.viewType,f=t.toArray();z({result:a,files:t,user:i,action_type:R.WebUserActionLogEvent.OPEN_MOVE_MODAL,view_type:u,isSearchMode:d,source:l});var p={user:i,files:f,path:n.currentFQPath,onSuccess:function(){var e=m.countFilesAndFolders(t),o=e.num_files_selected,s=e.num_folders_selected;_.logMoveFiles({uid:i.id,source:l,view_type:u,result:a,num_files_selected:o,num_folders_selected:s})},onRequestNotSent:function(){w.browseActions.selectFilesByFqPath({fqPathsToSelect:f.map(function(e){return e.fq_path})})},onUndo:function(){w.browseActions.selectRowsFromBoltClient(f)}};h.showMoveDialog({operation:A.Operation.MOVE,modalName:c.ModalName.MOVE,user:i,apiClient:{moveToFolder:function(e){var o=s.__assign({},p,{newPath:e,checkFSWs:!0});return F.moveFiles(o),Promise.resolve()},getFolderContents:g.getFolderContents,getFolderSuggestion:g.getFolderSuggestion},entries:f,initialFolderSelection:n.currentFQPath,onSuccess:r.noop,onCancel:r.noop,showFolderSuggestion:o.showFolderSuggestion,createNewFolderInMoveDialog:o.createNewFolderInMoveDialog})}},te=function(e,o){return function(){var i=e.user,n=e.files,t=e.firstFile,a=e.isSearchMode,l=e.source,d=e.viewType,u=e.context,f=n.toArray();z({result:t,files:n,user:i,action_type:R.WebUserActionLogEvent.OPEN_COPY_MODAL,view_type:d,isSearchMode:a,source:l});var p={user:i,files:f,onSuccess:function(e){var o=m.countFilesAndFolders(n),s=o.num_files_selected,r=o.num_folders_selected;_.logCopyFiles({uid:i.id,source:l,view_type:d,result:t,num_files_selected:s,num_folders_selected:r}),w.browseActions.selectRowsFromBoltClient(e)},onRequestNotSent:function(){w.browseActions.selectFilesByFqPath({fqPathsToSelect:f.map(function(e){return e.fq_path})})},onUndo:function(){w.browseActions.selectRowsFromBoltClient(f)}};h.showMoveDialog({operation:A.Operation.COPY,modalName:c.ModalName.COPY,user:i,entries:f,initialFolderSelection:u.currentFQPath,apiClient:{moveToFolder:function(e){var o=s.__assign({},p,{newPath:e,checkFSWs:!0});return F.copyFiles(o),Promise.resolve()},getFolderContents:g.getFolderContents,getFolderSuggestion:g.getFolderSuggestion},onSuccess:r.noop,onCancel:r.noop,showFolderSuggestion:o.showFolderSuggestion,createNewFolderInMoveDialog:o.createNewFolderInMoveDialog})}},ae=function(){return function(){f.showOverquota("wb_oq_mv_cp")}},le=function(e){var o=e.args;return function(){var e=o.user,s=o.files,r=o.firstFile,i=o.isSearchMode,n=o.source,t=o.viewType,a=s.toArray();z({result:r,files:s,user:e,action_type:R.WebUserActionLogEvent.RESTORE,view_type:t,isSearchMode:i,source:n}),w.browseActions.doRestoreFilesWithUnifiedTrashModal({files:a})}},ce=function(e){return function(){var o=e.user,s=e.context,r=e.firstFile,i=r.fq_path.toLowerCase(),n=s.inactiveNSIDByFQPath[i];n&&T.asyncMountSharedFolder(n,o.role,N.SHARE_ACTION_ORIGIN_TYPE.BROWSE_FILE_ACTIONS,!1,null,!0)}},de=function(e){return function(){var o=e.user,s=e.firstFile,r=e.files,i=e.isSearchMode,n=e.source,a=e.viewType;z({result:s,files:r,user:o,action_type:R.WebUserActionLogEvent.VERSIONS,view_type:a,isSearchMode:i,source:n});var l=t.getFileHistoryUrl({fqPath:s.fq_path,userId:o.id});O.redirect(l)}},ue=function(e){return function(){var o=e.user,s=e.actionHandlers,r=e.firstFile,i=e.files,n=e.isSearchMode,t=e.source,a=e.viewType;z({result:r,files:i,user:o,action_type:R.WebUserActionLogEvent.DELETE,view_type:a,isSearchMode:n,source:t}),s.onDelete(i.toArray())}},he=function(e){return function(){var o=e.user,s=e.actionHandlers,r=e.files,i=e.firstFile,n=e.isSearchMode,t=e.source,a=e.viewType;z({result:i,files:r,user:o,action_type:R.WebUserActionLogEvent.PERMANENT_DELETE,view_type:a,isSearchMode:n,source:t}),s.onPermanentDelete(r.toArray())}},fe=function(e){return function(){var o=e.user,s=e.firstFile,r=e.files,i=e.isSearchMode,n=e.source,t=e.viewType;z({result:s,files:r,user:o,action_type:R.WebUserActionLogEvent.EVENTS,view_type:t,isSearchMode:i,source:n}),O.redirect("/events?ns="+s.target_ns)}},_e=function(e,o){return function(){var s=e.user,r=e.firstFile,i=e.files,n=e.isSearchMode,t=e.source,a=e.viewType;z({result:r,files:i,user:s,action_type:R.WebUserActionLogEvent.CALCULATE_SIZE,view_type:a,isSearchMode:n,source:t}),o.showFolderCalcSize?w.browseActions.fetchMultipleFolderSizes({files:i}):w.browseActions.fetchFolderSizes({file:r})}},we=function(e){return function(){var o=e.user,s=e.context;T.asyncGoToContentManagerForPath({isLimitedTeam:D.Viewer.get_viewer().team_is_limited,containingFolder:s.currentFQPath,isCDM:o.is_cdm_member})}};o.getActionsForFileCollection=H});
//# sourceMappingURL=file_actions.min.js-vfll-Gb07.map