define(["require","exports","tslib","external/classnames","react","spectrum/button","spectrum/colorized_icon","spectrum/icon_action","spectrum/icon_content","spectrum/icon_form","spectrum/icon_global","spectrum/toggle","modules/clean/browse_interface","modules/clean/em_string","modules/clean/filename_highlights","modules/clean/filepath","modules/clean/static_urls","modules/clean/paper_formatting_utils","modules/clean/react/badge","modules/clean/react/browse/models","modules/clean/react/files_view/star","modules/clean/react/icon/file_folder_icon","modules/clean/react/image","modules/clean/react/title_bubble","modules/clean/react_format","modules/clean/search/logger","modules/clean/search/models","modules/clean/search/search_bar/chips","modules/clean/search/search_bar/experiments","modules/clean/search/search_bar/preview","modules/clean/search/types","modules/clean/search/search_helpers","modules/clean/react/search_success_banner/util","modules/core/browser","modules/core/browser_detection","modules/core/i18n","modules/core/accessible_announce","modules/clean/search/search_bar/experiments","modules/clean/search/constants"],function(e,t,r,o,a,n,s,i,l,c,p,h,d,u,_,m,f,g,w,y,b,E,S,C,D,v,k,x,I,H,M,T,N,R,O,P,B,F,L){"use strict";function q(e){var t=e.deletedChip,o=e.query,n=e.searchPath,i=e.searchSessionId,l=e.user,c=P._("Search for %(query)s").format({query:o.rawQuery}),h={"search-bar__recent_search":!0},d=a.default.createElement("div",{className:"mc-media-cell-icon search-bar__dropdown-item-cell-icon"},a.default.createElement(s.ColorizedIcon,{color:"#6A7C8F"},a.default.createElement(p.IconGlobal,{name:"search-small",className:"search-bar__recent_search-icon--search"}))),u=T.buildSearchURL({user:l,searchPath:n,normalizedQuery:o.normalizedQuery,searchSessionId:i,searchToken:T.getSearchCsrfToken(),qargs:{d:t?"1":void 0}}).toString(),_=W;return a.default.createElement(_,r.__assign({},e,{data:o,titleText:o.rawQuery,ariaLabel:c,classes:h,icon:d,href:u,noTopBorder:!0}))}function A(e){var t=e.suggestion,o=e.searchPath,n=e.searchSessionId,i=e.user,l=P._("Search for %(query)s").format({query:t.query}),c={"search-bar__dropdown-item":!0,"search-bar__dropdown-item--query-suggestion":!0},h=a.default.createElement("div",{className:"mc-media-cell-icon search-bar__dropdown-item-cell-icon"},a.default.createElement(s.ColorizedIcon,{color:"#6A7C8F"},a.default.createElement(p.IconGlobal,{name:"search-small",className:"search-bar__query-suggestion-icon--search"}))),d=T.buildSearchURL({user:i,searchPath:o,normalizedQuery:t.query,searchSessionId:n,searchToken:T.getSearchCsrfToken(),qargs:{d:e.deletedChip?"1":void 0}}).toString(),u=W;return a.default.createElement(u,r.__assign({},e,{ariaLabel:l,classes:c,href:d,icon:h,data:t,titleText:t.query,highlightRanges:t.highlight_spans}))}Object.defineProperty(t,"__esModule",{value:!0}),o=r.__importDefault(o),a=r.__importDefault(a),_=r.__importStar(_),m=r.__importStar(m),g=r.__importStar(g),v=r.__importStar(v),x=r.__importStar(x),T=r.__importStar(T),R=r.__importStar(R),O=r.__importStar(O);var Q=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._announceLoading=function(){B.AccessibleAnnounce.polite(P._("Loading search…"))},t._ignoreMouseDown=function(e){e.stopPropagation(),e.preventDefault()},t._onClearAllHistoryMouseDown=function(e){e.stopPropagation(),e.preventDefault(),t.props.onHistoryClearAllClick&&T.shouldHandleClick(e)&&t.props.onHistoryClearAllClick()},t._renderHistoryHeader=function(){var e=P._("RECENT SEARCHES"),r=P._("CLEAR ALL");return a.default.createElement(K,{className:"search-bar__history-header search-bar__dropdown-item--border-top",id:"search-dropdown-history-header",onMouseDown:t._ignoreMouseDown,"aria-label":e,"aria-selected":!1},a.default.createElement("div",null,e),a.default.createElement(n.Button,{tagName:"a",variant:"styleless",onClick:t._onClearAllHistoryMouseDown},r))},t._renderEmptyState=function(){return a.default.createElement("div",{className:"u-font-center u-pad-top-xl"},a.default.createElement(S.Image,{src:f.static_url("/static/images/empty_states/search-vflHMNVT9.png"),srcHiRes:f.static_url("/static/images/empty_states/search@2x-vfly2B3kk.png"),alt:"",width:200,height:200}),a.default.createElement("h2",{className:"u-font-strong empty-folder-table-title"},P._("Begin typing to search")),a.default.createElement("span",null,P._("Search for files, folders, and content")))},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.searchBarLoading&&this._announceLoading(),this._shouldShowRecentHistory(this.props)&&v.logRecentHistoryDisplayed({searchSessionId:this.props.searchSessionId,user:this.props.user,history:this.props.searchHistory})},t.prototype.componentWillReceiveProps=function(e){this._willShowRecentHistoryOnPropsChange(e)&&v.logRecentHistoryDisplayed({searchSessionId:e.searchSessionId,user:e.user,history:e.searchHistory})},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.searchBarLoading,o=t.normalizedQuery,a=t.searchResults,n=t.onDropdownTTI;r&&!e.searchBarLoading&&this._announceLoading(),o&&e.searchBarLoading&&!r&&(B.AccessibleAnnounce.polite(P.ungettext("Found %(num)s search result","Found %(num)s search results",a.length).format({num:a.length})),n&&n())},t.prototype._shouldShowRecentHistory=function(e){return e.isOpen&&!e.normalizedQuery&&e.searchHistory.length>0},t.prototype._shouldShowEmptyState=function(){var e=this.props,t=e.isOpen,r=e.normalizedQuery,o=e.searchHistory,a=e.searchBarExperiments;return t&&!r&&0===o.length&&I.isInSinglePageSearchExperiment(a)},t.prototype._willShowRecentHistoryOnPropsChange=function(e){return this._shouldShowRecentHistory(e)&&(this.props.normalizedQuery!==e.normalizedQuery||0===this.props.searchHistory.length&&e.searchHistory.length>0||!this.props.isOpen&&e.isOpen)},t.prototype.renderScopeChipDropdown=function(e,t){var r=this.props,o=r.searchBarExperiments,n=r.highlightedRow,s=r.onHighlightDropdownItem,i=r.browseScope,l=r.scopeChip,c=r.onSearchChipInteraction,p=m.child_dir(i),h=u.Emstring.em_snippet(p,16,.6),d=D.reactFormat(P._("Filter to <strong>%(folder_name)s</strong>"),{folder_name:h,strong:a.default.createElement("strong",{key:"title"})}),_=a.default.createElement("span",null,d),f=h!==p;return a.default.createElement(j,{row:e,searchBarExperiments:o,highlightedRow:n,onHighlightDropdownItem:s,isOn:x.isValidPathForChip(l),text:_,tooltip:f?p:void 0,onInteraction:c,className:"search-bar__dropdown_chip-toggle--scope",showDesktopTraySearchNotification:t})},t.prototype.renderDeletedChipDropdown=function(e,t){var r=this.props,o=r.searchBarExperiments,n=r.highlightedRow,s=r.onHighlightDropdownItem,i=r.deletedChip,l=r.onDeletedChipInteraction;return a.default.createElement(j,{row:e,searchBarExperiments:o,highlightedRow:n,onHighlightDropdownItem:s,isOn:i,text:P._("Filter to Deleted files"),onInteraction:l,className:"search-bar__dropdown_chip-toggle--deleted",showDesktopTraySearchNotification:t})},t.prototype.renderDesktopTraySearchNotificationHeader=function(e){var t=this.props,r=t.highlightedRow,o=t.onHighlightDropdownItem,n=t.onDesktopTraySearchNotificationClick,s=t.onDesktopTraySearchNotificationDismiss;return a.default.createElement(Y,{row:e,highlightedRow:r,onHighlightDropdownItem:o,onDesktopTraySearchNotificationClick:n,onDesktopTraySearchNotificationDismiss:s})},t.prototype.render=function(){var e=[],t=this._shouldShowRecentHistory(this.props),n=this.props.dropdownHeaderItems,s=n.length,i=M.SearchBarDropdownHeaderItemType.SEARCH_ALL,l=this.props.showLinkToResultsPage&&!t&&n.indexOf(i)!==-1,c=M.SearchBarDropdownHeaderItemType.DESKTOP_TRAY_SEARCH_NOTIFICATION,p=this.props.showDesktopTraySearchNotification&&n.indexOf(c)!==-1,h=r.__assign({},this.props,{showDesktopTraySearchNotification:p}),d=M.SearchBarDropdownHeaderItemType.SCOPE_CHIPS,u=this.props.scopeChip&&n.indexOf(d)!==-1,_=n.indexOf(M.SearchBarDropdownHeaderItemType.DELETED_FILES)!==-1,m=this.props,f=m.deletedChip,g=m.highlightedRow,w=m.onHighlightDropdownItem,b=m.searchPath,E=m.searchSessionId,S=m.user,C={deletedChip:f,highlightedRow:g,onHighlightDropdownItem:w,searchPath:b,searchSessionId:E,user:S};if(t)for(var D=0;D<this.props.searchHistory.length;D++){var v=this.props.searchHistory[D];e.push(a.default.createElement(q,r.__assign({},C,{indexOffset:s,key:v.rawQuery,onClick:this.props.onHistoryItemClick,onContextMenuCapture:this.props.onRecentSearchContextMenuCapture,query:v,row:D+s})))}else{for(var x=this.props.querySuggestions||[],I=F.isInQuerySuggestionsExperiment(this.props.searchBarExperiments)?Math.min(x.length,L.MaxResults.MAX_QUERY_SUGGESTIONS):0,D=0;D<I;D++){var H=x[D];e.push(a.default.createElement(A,r.__assign({},C,{suggestion:H,indexOffset:s,key:H.query,onClick:this.props.onQuerySuggestionClick,onContextMenuCapture:this.props.onQuerySuggestionContextMenuCapture,row:D+s})))}for(var T=Math.min(I>0?L.MaxResults.MAX_SEARCH_SUGGESTIONS_WITH_QUERY_SUGGESTIONS:L.MaxResults.MAX_SEARCH_SUGGESTIONS,this.props.searchResults.length),N=s+I,D=0;D<T;D++){var R=this.props.searchResults[D],O=r.__assign({},this.props,{row:D+N,indexOffset:N,resultCount:T});R instanceof k.SlimFileSearchResult||R instanceof y.File?e.push(a.default.createElement(V,r.__assign({},O,{resultObject:R,key:R.fq_path}))):R instanceof y.Paper?e.push(a.default.createElement(U,r.__assign({},O,{resultObject:R,key:R.pad_id}))):R instanceof y.PaperFolder&&e.push(a.default.createElement(G,r.__assign({},O,{resultObject:R,key:R.folder_id})))}}var B,Q={"search-bar__dropdown":!0,"is-expanded":this.props.isOpen};return B="function"==typeof this.props.children?this.props.children():a.default.createElement("noscript",null),a.default.createElement("div",{className:o.default(Q),"aria-hidden":!this.props.isOpen},a.default.createElement("ol",{className:"search-bar__dropdown-items",id:"search-bar__dropdown-items",role:"listbox","aria-label":P._("search dropdown")},l&&a.default.createElement(z,r.__assign({},h)),u&&this.renderScopeChipDropdown(n.indexOf(d),p),_&&this.renderDeletedChipDropdown(n.indexOf(M.SearchBarDropdownHeaderItemType.DELETED_FILES),p),p&&this.renderDesktopTraySearchNotificationHeader(n.indexOf(c)),t&&this._renderHistoryHeader(),this._shouldShowEmptyState()&&this._renderEmptyState(),e,B),this.props.searchBarLoading&&a.default.createElement("div",{className:"search-bar__loading"},a.default.createElement("span",{className:"ax-visually-hidden"},P._("Loading search..."))))},t.defaultProps={showLinkToResultsPage:!0},t})(a.default.Component);t.SearchBarDropdown=Q;var j=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onMouseEnter=function(){return t.props.onHighlightDropdownItem(t.props.row)},t._onMouseDown=function(e){e.stopPropagation(),e.preventDefault(),T.shouldHandleClick(e)&&t.props.onInteraction&&t.props.onInteraction(!t.props.isOn)},t._onToggleClick=function(e){e.stopPropagation(),e.preventDefault()},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.row,r=e.highlightedRow,n=e.isOn,l=e.text,c=e.tooltip,p=e.className,d=this.props.row===r,u={"search-bar__dropdown-item":!0,"search-bar__dropdown-item--border-top":!0,"search-bar__full_search_suggestion":!0,"search-bar__dropdown_chip-toggle":!0,"search-bar__dropdown-item--is-highlighted":d};p&&(u[p]=!0);var _=n?P._("On"):P._("Off"),m=P._("%(header_text)s: %(toggle_description)s",{comment:"format string for aria label for the search bar chip toggle"}).format({header_text:l,toggle_description:_});return a.default.createElement(K,{id:"search-dropdown-item"+t,className:o.default(u),onMouseEnter:this._onMouseEnter,onMouseDown:this._onMouseDown,"aria-selected":d,"aria-label":m},a.default.createElement("div",{className:"mc-media-cell-icon search-bar__dropdown-item-cell-icon"},a.default.createElement(s.ColorizedIcon,{color:"#6A7C8F"},a.default.createElement(i.IconAction,{name:"sort",className:"search-bar__chip-icon--sort"}))),a.default.createElement("div",{className:"search-bar__header-text"},c?a.default.createElement(C.TitleBubble,{content:c,position:C.TitleBubble.POSITIONS.BOTTOM},l):l),a.default.createElement("div",{className:"search-bar__chip_toggle"},a.default.createElement(h.Toggle,{onClick:this._onToggleClick,interactive:!1,labelContent:_,ariaLabel:_,checked:n})))},t})(a.default.Component),z=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderTitle=function(){var e=t.props,r=e.searchPath;return e.deletedChip?D.reactFormat(P._("View all results for <span>“%(query)s”</span> in <strong>Deleted files</strong>"),{query:t.props.normalizedQuery,span:a.default.createElement("span",{key:"title"}),strong:a.default.createElement("strong",{key:"path"})}):m.paths_are_equal(r,"/")?D.reactFormat(P._("View all results for “%(query)s”"),{query:t.props.normalizedQuery,strong:a.default.createElement("strong",{key:"title"})}):D.reactFormat(P._("View all results for <span>“%(query)s”</span> in <strong>%(current_path)s</strong>"),{current_path:m.filename(r),query:t.props.normalizedQuery,span:a.default.createElement("span",{key:"title"}),strong:a.default.createElement("strong",{key:"path"})})},t._onMouseDown=function(e){e.stopPropagation(),e.preventDefault(),T.shouldHandleClick(e)&&t.props.onSearch(t.props.normalizedQuery)},t._onMouseEnter=function(){return t.props.onHighlightDropdownItem(0)},t}return r.__extends(t,e),t.prototype.render=function(){var e=0===this.props.highlightedRow,t=F.isInQuerySuggestionsExperiment(this.props.searchBarExperiments),r={"search-bar__dropdown-item":!0,"search-bar__dropdown-item--border-top":!0,"search-bar__dropdown-item--header":!0,"search-bar__dropdown-item--is-highlighted":e,"search-bar__full_search_suggestion":!0,"js-search-bar__view-all-results":!0};return a.default.createElement(K,{className:o.default(r),id:"search-dropdown-item0",onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,"aria-selected":e,"aria-label":P._("View all results")},!t&&a.default.createElement("div",{className:"mc-media-cell-icon search-bar__dropdown-item-cell-icon"},a.default.createElement(s.ColorizedIcon,{color:"#6A7C8F"},a.default.createElement(p.IconGlobal,{name:"search-small",className:"search-bar__dropdown-item-icon--search"}))),a.default.createElement("div",{className:"search-bar__header-text"},this._renderTitle()))},t})(a.default.Component),U=(function(e){function t(t){var r=e.call(this,t)||this;return r.state=r._calcState(t),r}return r.__extends(t,e),t.prototype._calcState=function(e){return{titleParts:g.getPaperDocTitleParts(e.resultObject,"search-bar__dropdown-item-icon","search-bar__dropdown-item-icon-emoji")}},t.prototype.componentWillReceiveProps=function(e){if(this.props.resultObject.title!==e.resultObject.title){var t=this._calcState(e);this.setState(t)}},t.prototype.render=function(){var e=this.state.titleParts,t=e.highlightedTitle,o=e.title,n=e.icon;return a.default.createElement(X,r.__assign({},this.props,{icon:n,title:t,ariaTitle:o,location:"Paper"}))},t})(a.default.Component),G=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.resultObject,t=a.default.createElement(l.IconContent,{name:"folder-small",className:"search-bar__dropdown-item-icon"}),o=e.highlight_spans&&e.highlight_spans.length>0?_.highlightReactFromHighlightSpans(e.name,e.highlight_spans):a.default.createElement("span",null,"folder.name");return a.default.createElement(X,r.__assign({},this.props,{icon:t,title:o,ariaTitle:e.name,location:"Paper"}))},t})(a.default.Component),V=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props.resultObject,t=m.filename(e.fq_path),o=m.parent_dir(e.fq_path),n="Dropbox",s=o.split("/");s.shift(),e.is_unmounted&&s.length>0&&(n=s.shift());var i=s[s.length-1];s.length>=2&&(n+="/..."),i&&i.length&&(n+="/"+i);var l,c=r.__assign({isDeleted:e.is_unmounted},e);return l=e.highlight_spans?_.highlightReactFromHighlightSpans(t,e.highlight_spans):_.highlightMatchReact(t,e.filename_highlights),a.default.createElement(X,r.__assign({},this.props,{icon:a.default.createElement(E.FileOrFolderIcon,{className:"search-bar__dropdown-item-icon",file:c}),title:l,ariaTitle:t,location:n,isUnmounted:e.is_unmounted,parentFolderUrl:d.browse_uri_for_fq_path(this.props.user,o).toString()}))},t})(a.default.Component);t.SearchBarDropdownSuggestion=A;var W=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onMouseDown=function(e){e.stopPropagation(),e.preventDefault(),t.props.onClick&&T.shouldHandleClick(e)&&t.props.onClick(t.props.data,t.props.row)},t._onContextMenuCapture=function(){t.props.onContextMenuCapture&&t.props.onContextMenuCapture(t.props.data,t.props.row)},t._onMouseEnter=function(){return t.props.onHighlightDropdownItem(t.props.row)},t}return r.__extends(t,e),t._onClick=function(e){T.shouldHandleClick(e)&&(e.stopPropagation(),e.preventDefault())},t.prototype.render=function(){var e=this.props,n=e.ariaLabel,s=e.highlightRanges,i=e.highlightedRow,l=e.href,c=e.icon,p=e.indexOffset,h=e.noTopBorder,d=e.row,u=e.titleText,m=d===i,f=_.highlightReactFromHighlightSpans(u,s),g=d-p,w=r.__assign({},this.props.classes,{"search-bar__dropdown-item--is-highlighted":m,"search-bar__dropdown-item--border-top":!h&&0===g});return a.default.createElement(K,{className:o.default(w),id:"search-dropdown-item"+d,onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,onClick:t._onClick,"aria-selected":m,"aria-label":n},c,a.default.createElement("a",{href:l,onContextMenuCapture:this._onContextMenuCapture},a.default.createElement("div",{className:"search-bar__row-name"},f)))},t.defaultProps={noTopBorder:!1},t})(a.default.Component),X=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onMouseDown=function(e){e.stopPropagation(),e.preventDefault(),T.shouldHandleClick(e)&&t.props.onSearchResultOpen(t.props.resultObject)},t._onPathLinkClick=function(e){var r=t.props.searchBarExperiments;e.stopPropagation(),e.preventDefault(),r.expSearchSuccessBanner&&"/h"===R.get_pathname()&&N.setSearchSuccessBannerVisibleFromHome(),T.shouldHandleClick(e)&&t.props.onResultObjectPathClick(t.props.resultObject)},t._onMouseEnter=function(){return t.props.onHighlightDropdownItem(t.props.row)},t._onContextMenuCapture=function(){var e=t.props,r=e.onContextMenuCapture,o=e.resultObject;r&&r(o)},t._getSearchBarDropdownResultVariant=function(){var e,r=t.props,o=r.isUnmounted,n=r.location,s=r.resultObject,i=r.user,l=r.title,c=r.parentFolderUrl;e=o?D.reactFormat(P._("not added yet, in <locationSpan>%(location)s</locationSpan>",{comment:"Describes the mountable directory of a file in a list of search results."}),{location:n,locationSpan:a.default.createElement("span",{key:"location",title:n})}):D.reactFormat(P._("<locationSpan>in %(location)s</locationSpan>",{comment:"Describes the parent directory of a file in a list of search results."}),{location:n,locationSpan:a.default.createElement("span",{key:"location",title:n})});var p=T.resultObjectToUrl(s,i),h=a.default.createElement(b.StarContainer,{item:s,user:i,key:"dropdownStar",className:"search-bar__search-result-star",isReadOnly:!0});return a.default.createElement("div",null,a.default.createElement(H.SearchBarDropdownPreview,{result:s,visible:t.props.row===t.props.highlightedRow,user:i,searchSessionId:t.props.searchSessionId,position:t.ref?window.innerHeight-t.ref.getBoundingClientRect().bottom:void 0}),a.default.createElement("a",{href:p,onContextMenuCapture:t._onContextMenuCapture},a.default.createElement("div",{className:"search-bar__search-result-name-star-group"},a.default.createElement("div",{className:"search-bar__search-result-name"},l),h)),a.default.createElement("div",{className:"search-bar__search-result-desc"},c?a.default.createElement("a",{href:c,onMouseDown:t._onPathLinkClick,onContextMenuCapture:t._onContextMenuCapture,className:"search-bar__search-result-desc-link"},e):a.default.createElement("span",null,e)))},t.setRef=function(e){t.ref=e},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.highlightedRow,r=e.indexOffset,n=e.row,s=e.resultCount,i=e.icon,l=e.ariaTitle,c=e.location,p=n===t,h=n-r,d={"search-bar__dropdown-item":!0,"search-bar__result":!0,"search-bar__dropdown-item--is-highlighted":p,"search-bar__dropdown-item--border-top":0===h},u=P._("Search Result %(index)s of %(result)s: %(aria_title)s in %(location)s").format({index:h+1,result:s,aria_title:l,location:c});return a.default.createElement(K,{className:o.default(d),id:"search-dropdown-item"+n,onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,"aria-selected":p,ref:this.setRef,"aria-label":u},a.default.createElement("div",{className:"mc-media-cell-icon search-bar__dropdown-item-cell-icon"},i),this._getSearchBarDropdownResultVariant())},t})(a.default.Component),Y=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onMouseDown=function(e){e.stopPropagation(),e.preventDefault(),T.shouldHandleClick(e)&&t.props.onDesktopTraySearchNotificationClick&&(t.props.onDesktopTraySearchNotificationClick(),t.props.onDesktopTraySearchNotificationDismiss&&t.props.onDesktopTraySearchNotificationDismiss())},t._onMouseEnter=function(){return t.props.onHighlightDropdownItem(t._listIndex)},t._onDismiss=function(e){e.preventDefault(),e.stopPropagation(),t.props.onDesktopTraySearchNotificationDismiss&&t.props.onDesktopTraySearchNotificationDismiss()},t._renderTitle=function(){return O.mac?D.reactFormat(P._("Search for your Dropbox stuff from the desktop. Click in your screen’s top-right corner to start."),{span:a.default.createElement("span",{key:"message"})}):D.reactFormat(P._("Search for your Dropbox stuff from the desktop. Click the Dropbox icon in the taskbar to start."),{span:a.default.createElement("span",{key:"message"})})},t._renderLearnMore=function(){return D.reactFormat(P._("Learn more."))},t}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.highlightedRow,r=e.row;this._listIndex=r;var n=this._listIndex===t,s={"search-bar__dropdown-item":!0,"search-bar__dropdown-item--border-top":!0,"search-bar__dropdown-item--is-highlighted":n,"search-bar__dropdown-desktop-tray-search-notification":!0,"search-bar__full_search_suggestion":!0};return a.default.createElement(K,{className:o.default(s),id:"search-dropdown-desktop-tray-search-notification",onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,"aria-selected":n,"aria-label":P._("Desktop tray search notification")},a.default.createElement("div",{className:"mc-media-cell-icon search-bar__dropdown-item-cell-icon"},a.default.createElement(w.Badge,{color:w.BadgeColor.SQUASH,variant:w.BadgeVariant.NEW})),a.default.createElement("div",{className:"search-bar__header-text"},this._renderTitle(),a.default.createElement("span",null," "),a.default.createElement("span",{className:"search-bar__dropdown-desktop-tray-search-notification--learn-more"},this._renderLearnMore())),a.default.createElement(c.IconForm,{name:"cancel",className:"search-bar__dropdown-desktop-tray-search-notification--dismiss",onMouseDown:this._onDismiss,"aria-label":P._("Dismiss")}))},t})(a.default.Component),K=function(e){return a.default.createElement("li",r.__assign({role:"option","aria-label":e["aria-label"],"aria-selected":e["aria-selected"],tabIndex:0},e))}});
//# sourceMappingURL=dropdown.min.js-vflJnbi3C.map