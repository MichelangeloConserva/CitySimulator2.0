define(["require","exports","tslib","esignature/data/actions","esignature/data/selectors","esignature/public/utils","esignature_prototype/data/selectors","react","external/react-redux","modules/clean/filepath","modules/clean/react/css_timing","modules/clean/file_store/utils","spectrum/file_icon","modules/clean/react/title_bar/base","modules/clean/react/file_viewer/title_bar/controls","modules/clean/react/file_viewer/title_bar/title","modules/clean/react/file_viewer/title_bar/title_breadcrumb","modules/constants/python","modules/core/i18n","external/classnames"],function(e,i,t,s,o,r,n,l,a,d,u,c,f,p,m,g,h,S,_,M){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),l=t.__importDefault(l),S=t.__importStar(S),M=t.__importDefault(M);var F=(function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.isSharedFile=function(){return!!i.props.sharedLinkInfo},i.isMountedFile=function(){return!i.isSharedFile()},i.closeButtonTitle=function(){if(i.isMountedFile()){var e=void 0;if(i.props.isVersionHistoryMode)e=_._("Version history");else if(i.props.fileViewOrigin===S.FileViewOriginType.RECENTS)e=_._("Recents");else if(i.props.fileViewOrigin===S.FileViewOriginType.HOME)e=_._("Home");else{if(i.props.fileViewOrigin===S.FileViewOriginType.PHOTOS||i.props.fileViewAction===S.FileViewActionType.SEARCH)return _._("Close");var t=i.props.file;c.isBrowseFile(t)&&t.fq_path&&(e=d.filename(d.parent_dir(t.fq_path)))}if(e)return _._("Back to %(folder)s").format({folder:e})}return _._("Close")},i}return t.__extends(i,e),i.prototype.componentDidMount=function(){var e=this.props.onMount;e&&e()},i.prototype.render=function(){var e=this.props,i=e.canClose,t=e.canRestoreRevision,s=e.closeUrl,o=e.file,n=e.fileSubpath,a=e.hidePageChrome,d=e.isSeenStatesEnabled,u=e.isVersionHistoryMode,S=e.isViewingFileSubpath,_=e.maxFilenameEmLength,F=e.onClose,b=e.onRestoreRevision,y=e.sharedLinkInfo,C=e.sharePermission,v=e.shareToken,w=e.sizeClass,V=e.user,T=e.isSigningMode,E=e.isSendForSignatureMode,R=e.areAllFieldsCompleted,k=e.formMode,I=e.disableFormModes,A=r.esignatureInUse(k),B=y?y.ownerTeamLogo:void 0,O=a?l.default.createElement("div",{className:"file-icon"},l.default.createElement(f.FileIcon,{path:c.getFilename(o)})):null,H=!(!C||0!==C.canViewMetadataRoles.length);return l.default.createElement(p.TitleBarBase,{canClose:i&&!a,className:M.default({"react-title-bar--dark":A,"esignature-prototype-title-bar":E||T,"esignature-prototype-title-bar-complete":R}),closeTitle:this.closeButtonTitle(),customLogoUrl:B,file:o,isSigningMode:T,isSendForSignatureMode:E,areAllFieldsCompleted:R,closeUrl:s,onClose:A?I:F,overrideIcon:O,shouldShowIcon:!S,sizeClass:w,title:R?void 0:S?l.default.createElement(h.TitleBreadcrumb,{file:o,fileSubpath:n,sizeClass:w}):l.default.createElement(g.Title,{file:o,maxFilenameEmLength:_,sharedLinkInfo:y,shouldDisplayStarred:!a,shouldDisplayMetadata:!a,sizeClass:w,user:V}),controls:[a||T||E||A?null:l.default.createElement(m.SeenStates,{key:"seen-states",file:o,isSeenStatesEnabled:d,isVersionHistoryMode:u,isViewingFileSubpath:S,isViewMetadataDisabled:H,sharedLinkInfo:y,user:V,sizeClass:w}),a?null:l.default.createElement(m.FileActions,{key:"file-actions",canRestoreRevision:t,file:o,isSharedFile:this.isSharedFile(),isVersionHistoryMode:u,onRestoreRevision:b,sharedLinkInfo:y,sharePermission:C,shareToken:v,shouldDisplayActionButtons:!S,sizeClass:w,user:V,isSigningMode:T,isSendForSignatureMode:E,formMode:k})]})},i.defaultProps={canClose:!1,canRestoreRevision:!1,isSeenStatesEnabled:!0,isVersionHistoryMode:!1,isSendForSignatureMode:!1,isSigningMode:!1},i})(l.default.Component);i._TitleBar=F;var b=function(e){return{isSendForSignatureMode:n.getIsSendForSignatureMode(e),isSigningMode:n.getIsSigningMode(e),areAllFieldsCompleted:n.getAreAllFieldsCompleted(e),formMode:o.getFormMode(e)}},y=a.connect(b,{disableFormModes:s.disableFormModes})(F),C=u.requireCssWithComponent(y,["/static/css/react_title_bar-vflycFBPP.css"]);i.TitleBar=C});
//# sourceMappingURL=title_bar_component.min.js-vfl9-7jEO.map