define("esignature/public/gated_esignature_layer",["require","exports","tslib","react","modules/clean/react/async/loadable","esignature/public/utils"],function(e,t,n,o,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importDefault(o),t.GatedEsignatureLayer=function(e){return a.esignatureEnabled()?o.default.createElement(r,n.__assign({},e)):null};var r=i.Loadable({loader:function(){return new Promise(function(t,n){e(["esignature/components/esignature_layer"],t,n)}).then(n.__importStar).then(function(e){return e.EsignatureLayer})}})}),define("file-viewer/i18n",["require","exports"],function(e,t){"use strict";function n(e){return function(t){return t.id&&e[t.id]?e[t.id]:t.defaultMessage}}Object.defineProperty(t,"__esModule",{value:!0}),t.createFormatMessage=n}),define("file-viewer/preview_pdf/img_layer",["require","exports","tslib","react"],function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importStar(o);var i=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.el=null,t}return n.__extends(t,e),t.prototype.componentDidMount=function(){"function"==typeof this.props.onComponentDidMount&&this.props.onComponentDidMount(),this.el&&this.el.complete&&("function"==typeof this.props.onLoad&&(this.el.naturalHeight||this.el.naturalWidth)?this.props.onLoad():"function"==typeof this.props.onError&&this.props.onError())},t.prototype.render=function(){var e=this,t=this.props,n=t.className,i=t.onLoad,a=t.onError,r=t.alt,s=t.src;return o.createElement("div",{className:n},o.createElement("img",{ref:function(t){return e.el=t},alt:r,width:"100%",role:"tabpanel","aria-hidden":"true",src:s,onLoad:i,onError:a}))},t})(o.PureComponent);t.ImgLayer=i,i.defaultProps={src:"",alt:"",onLoad:function(){},onError:function(){}}}),define("file-viewer/preview_pdf/links_layer",["require","exports","tslib","react","file-viewer/preview_pdf/text_transform"],function(e,t,n,o,i){"use strict";function a(e){return!!e.ur}Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importStar(o);var r={textbox:"_3vFF3xH4Yd",textLayerInner:"_1KgDGecM-D",linksLayer:"_15JT0CLHfC",internalLink:"_3LdRo_g_9w",imgLayer:"_1Sbhj3cHk4"};t.LinksLayer=function(e){var t=e.formatMessage,n=e.links.map(function(n,r){var s=n.a,l=n.r,d=l[0],c=l[1],p=l[2],u=l[3];u<0&&(c+=u,u=-u),p<0&&(d+=p,p=-p);var g={position:"absolute",bottom:c,left:d,width:p,height:u};return a(s)?s.ur.startsWith("mailto:")?o.createElement("a",{key:r,style:g,href:s.ur,"aria-label":t({id:"uh_2T",defaultMessage:"External Link"})}):o.createElement("a",{key:r,style:g,href:i.normalizeUrl(s.ur),target:"_blank",rel:"noreferrer noopener","aria-label":t({id:"uh_2T",defaultMessage:"External Link"})}):o.createElement("div",{key:r,className:e.css.internalLink,style:g,"aria-label":t({id:"PLDnD",defaultMessage:"Internal Link"}),onClick:function(t){return e.onInternalLinkClicked(s.pn,t)}})});return o.createElement("div",{className:e.css.linksLayer,style:{transform:"scale("+e.clientScaleFactor+")"}},n)},t.LinksLayer.defaultProps={formatMessage:function(e){return e.defaultMessage},css:r,links:[],width:0,height:0,clientScaleFactor:1,onInternalLinkClicked:function(){}}}),define("file-viewer/preview_pdf/text_transform",["require","exports","modules/clean/react/previews/pdf_viewer/text/unicode","modules/clean/react/previews/pdf_viewer/text/bidi"],function(e,t,n,o){"use strict";function i(e){for(var t=n.getNormalizedUnicodes(),i="",a=0;a<e.length;a++){var s=e.charAt(a);void 0!==t[s]&&(s=t[s]),s=n.reverseIfRtl(s),"\t"===s&&(s=" "),i+=s}var l=o.bidi(i,-1,!1);return{dir:l.dir,str:r(l.str)}}function a(e){return"http"===e.substr(0,4)?e:"http://"+e}function r(e){return e.split(l).map(function(e,t,n){if(l.test(e))return{type:0,text:e.replace("\t"," ")};var o;return s.test(e)?{text:e,type:1}:(o=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/))&&o[2]&&o[4]?{href:a(e),text:e,type:2}:{type:0,text:e}}).reduce(function(e,t){var n=e[e.length-1];return n&&0===n.type&&0===t.type?n.text+=t.text:e.push(t),e},[])}Object.defineProperty(t,"__esModule",{value:!0});var s=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,63}/,l=/(\s+)/;(function(e){e.ltr="ltr",e.rtl="rtl",e.ttb="ttb"})(t.TextDir||(t.TextDir={})),t.transform=i,(function(e){e[e.text=0]="text",e[e.email=1]="email",e[e.link=2]="link"})(t.TextNodeType||(t.TextNodeType={})),t.normalizeUrl=a}),define("file-viewer/strings",["require","exports","modules/core/i18n"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strings={"1D-MZ":{id:"1D-MZ",defaultMessage:n._("Can’t show link. Something’s wrong with this file.",{comment:"Shown instead of description if there is an error"})},iTxna:{id:"iTxna",defaultMessage:n._("Open in new tab",{comment:"Label text for open button"})},uh_2T:{id:"uh_2T",defaultMessage:n._("External Link",{comment:"Label for external anchor link"})},PLDnD:{id:"PLDnD",defaultMessage:n._("Internal Link",{comment:"Label for internal anchor link"})}}}),define("modules/clean/frame_messenger/frame_messenger_client",["require","exports","tslib","modules/clean/frame_messenger/frame_messenger_base"],function(e,t,n,o){"use strict";function i(e,t){return t.indexOf(e)>=0}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._trustedOriginForPosting=null,t._validActions=[],t._parentMessageQueue=[],t._onParentReady=null,t}return n.__extends(t,e),t.prototype.configureParentMessaging=function(e,t,n){void 0===n&&(n=null),this._trustedOriginForPosting=null,this._validActions=t,this._trustedMessageHandler=e,this._onParentReady=n},t.prototype.startListening=function(){e.prototype.startListening.call(this),this.requestParentOrigin()},t.prototype.postMessageToParent=function(e,t){void 0===t&&(t={});var n=this.packagePostMessage(e,t);null===this._trustedOriginForPosting?this._parentMessageQueue.push(n):this.getWindow().parent.postMessage(n,this._trustedOriginForPosting)},t.prototype.dispatchMessage=function(e,t){"parent-ready"===t.action&&this.updateParentOrigin(e.origin),i(t.action,this._validActions)&&null!==this._trustedMessageHandler&&this._trustedMessageHandler(t)},t.prototype.resetOriginsForPosting=function(){this._trustedOriginForPosting=null},t.prototype.updateParentOrigin=function(e){var t=this._trustedOriginForPosting;if(!this.isOriginAllowed(e))return!1;if(this._trustedOriginForPosting=e,this._parentMessageQueue.length>0){for(var n=0;n<this._parentMessageQueue.length;n++){var o=this._parentMessageQueue[n],i=JSON.parse(o);this.postMessageToParent(i.action,i.parameters)}this._parentMessageQueue=[]}return null!=this._trustedOriginForPosting&&null==t&&null!==this._onParentReady&&this._onParentReady(),!0},t.prototype.requestParentOrigin=function(){var e=this;this.getWindow().parent.postMessage('{"action": "child-requesting-parent-origin"}',"*");var n=function(){null===e._trustedOriginForPosting&&e.requestParentOrigin()};this.getWindow().setTimeout(n,t._REQUEST_PARENT_ORIGIN_POLL_DELAY)},t._REQUEST_PARENT_ORIGIN_POLL_DELAY=100,t})(o.FrameMessengerBase);t.FrameMessengerClient=a}),define("modules/clean/react/file_viewer/frame_interface",["require","exports","tslib","modules/clean/react/file_viewer/interface","modules/clean/react/previews/frame_messenger_host"],function(e,t,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=["annotation-end-drag","annotation-enter","annotation-hidden","annotation-leave","annotation-placed","annotation-start-drag","annotation-ui-click","annotation-ui-enter","annotation-ui-leave","annotation-ui-over","mouse-up","on-keydown","page-change","page-rendered","scale-change","scroll","doc-metadata-load"],r=(function(e){function t(n){var o=e.call(this,n)||this;return o.handleMessageFromFrame=function(e){o.eventEmitter.emit(e.action,e.parameters)},t.frameMessengerFactory?o.frameMessenger=t.frameMessengerFactory():o.frameMessenger=new i.PreviewFrameMessengerHost,o.frameMessenger.configureChildMessaging('iframe[name="preview-content"]',o.handleMessageFromFrame,a),o.frameMessenger.startListening(),o}return n.__extends(t,e),t.prototype.dispatchEvent=function(e,t){this.frameMessenger.postMessageToChildren(e,t)},t.prototype.destroy=function(){this.frameMessenger.stopListening()},t.setFrameMessengerFactory=function(e){t.frameMessengerFactory=e},t})(o.FileViewerInterface);t.FileViewerFrameInterface=r}),define("modules/clean/react/file_viewer/interface",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(function(){function e(e){this.eventEmitter=e}return e.prototype.destroy=function(){},e})();t.FileViewerInterface=n}),define("modules/clean/react/file_viewer/sidebar_helpers",["require","exports","modules/clean/react/file_viewer/constants","modules/clean/react/file_viewer/data/actions","modules/clean/react/size_class/constants"],function(e,t,n,o,i){"use strict";function a(e,t,o){return t===i.SizeClass.Large&&!o&&(e===n.DocType.ppt||e===n.DocType.pdf)}Object.defineProperty(t,"__esModule",{value:!0}),t.mapDispatchToProps={onSidebarOpen:o.openSidebar,onSidebarClose:o.closeSidebar},t.isSidebarEnabled=a}),define("modules/clean/react/previews/pdf_viewer/annotation_creation_layer",["require","exports","tslib","external/keymaster","external/lodash","react","modules/clean/react/previews/pdf_viewer/event_emitter","modules/clean/react/previews/pdf_viewer/transform","modules/clean/annotations/annotation_controller"],function(e,t,n,o,i,a,r,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importDefault(o),i=n.__importStar(i),a=n.__importDefault(a),l=n.__importDefault(l);var d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={draftAnnotationVersion:0,postedAnnotationKey:"",draftAnnotationExists:!1},t.escKey=function(e){e.stopPropagation(),t.clearDraftAnnotationCommon()},t.onRefAnnotationController=function(e){t.annotationController=e},t.onPlaceDefaultAnnotation=function(){t.props.isFocusedPage&&t.clearDraftAnnotationCommon(!1,"",function(){t.annotationController.createRegion({top:0,left:0,bottom:t.scaledHeight,right:t.scaledWidth})})},t.handleHideAnnotation=function(e){e&&e.excludePage===t.props.pageNumber||t.clearDraftAnnotationCommon()},t.clearDraftAnnotationWithSignal=function(){t.clearDraftAnnotationCommon(!0,"",function(){t.props.frameMessenger.postMessageToParent("annotation-hidden")})},t.clearDraftAnnotationCommon=function(e,o,i){void 0===e&&(e=!0),void 0===o&&(o="");var a={draftAnnotationVersion:t.state.draftAnnotationVersion+1,postedAnnotationKey:o},r=e?n.__assign({},a,{draftAnnotationExists:!1}):a;t.setState(r,i)},t.onResize=i.debounce(t.clearDraftAnnotationCommon,1e3,{leading:!0,trailing:!1}),t.onUpdateAnnotations=function(e){var n=e.annotations.filter(function(e){return"POSTING"===e.commentActivity.status});if(n.length>0){var o=n[0].commentActivity.activity_key;o!==t.state.postedAnnotationKey&&t.clearDraftAnnotationCommon(o)}},t.onAnnotationHiddenCallback=function(){t.setState({draftAnnotationExists:!1}),r.eventEmitter.emit("annotation-hidden"),t.props.frameMessenger.postMessageToParent("annotation-hidden")},t.onAnnotationPlacedCallback=function(e){t.setState({draftAnnotationExists:!0});var n={annotation:t.finalizeAnnotation(e)};r.eventEmitter.emit("annotation-placed",n),t.props.frameMessenger.postMessageToParent("annotation-placed",n)},t.onAnnotationStartDragCallback=function(e){t.props.frameMessenger.postMessageToParent("annotation-start-drag",{annotation:t.finalizeAnnotation(e)})},t.onAnnotationEndDragCallback=function(e){t.props.frameMessenger.postMessageToParent("annotation-end-drag",{annotation:t.finalizeAnnotation(e)})},t.onAnnotationScrollCallback=function(e){e&&t.props.frameMessenger.postMessageToParent("scroll",{annotation:t.finalizeAnnotation(e)})},t.onAnnotationScaleChangeCallback=function(e){t.props.frameMessenger.postMessageToParent("scale-change",{annotation:t.finalizeAnnotation(e)})},t.onAnnotationEnterCallback=function(e){t.props.frameMessenger.postMessageToParent("annotation-enter",{annotation:t.finalizeAnnotation(e)})},t.onAnnotationRegionStart=function(){t.setState({draftAnnotationExists:!0})},t.onAnnotationLeaveCallback=function(e){t.props.frameMessenger.postMessageToParent("annotation-leave",{annotation:t.finalizeAnnotation(e)})},t}return n.__extends(t,e),t.prototype.componentDidMount=function(){r.eventEmitter.on("resize",this.onResize),r.eventEmitter.on("update-annotations",this.onUpdateAnnotations),r.eventEmitter.on("place-default-annotation",this.onPlaceDefaultAnnotation),r.eventEmitter.on("hide-annotation",this.handleHideAnnotation),r.eventEmitter.on("zoom-in",this.clearDraftAnnotationWithSignal),r.eventEmitter.on("zoom-out",this.clearDraftAnnotationWithSignal),o.default("esc","fileviewer",this.escKey)},t.prototype.componentWillUnmount=function(){r.eventEmitter.off("resize",this.onResize),r.eventEmitter.off("update-annotations",this.onUpdateAnnotations),r.eventEmitter.off("place-default-annotation",this.onPlaceDefaultAnnotation),r.eventEmitter.off("hide-annotation",this.handleHideAnnotation),r.eventEmitter.off("zoom-in",this.clearDraftAnnotationWithSignal),r.eventEmitter.off("zoom-out",this.clearDraftAnnotationWithSignal),o.default.unbind("esc","fileviewer",this.escKey)},Object.defineProperty(t.prototype,"scaledWidth",{get:function(){var e=this.props,t=e.width,n=e.scaleFactor;return t*(void 0===n?1:n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaledHeight",{get:function(){var e=this.props,t=e.height,n=e.scaleFactor;return t*(void 0===n?1:n)},enumerable:!0,configurable:!0}),t.prototype.finalizeAnnotation=function(e){return e.pdf_coordinates=s.transformViewportCoordinates(this.props.pageNumber,this.props.parentOffset.left,this.props.parentOffset.top,this.props.width,this.props.height,this.props.scaleFactor,e.viewportCoordinates),e.pdf_page={rotate:0,view:{}},e},t.prototype.render=function(){return a.default.createElement("div",{"data-draft-annotation-exists":this.state.draftAnnotationExists,className:"db-annotation-creation-layer"},a.default.createElement(l.default,n.__assign({ref:this.onRefAnnotationController},i.pick(this.props,"disableTinyAnnotationRegions","isAnnotationCreationEnabled","isAnnotationHighlightEnabled","isAnnotationRegionEnabled"),{parentContainerOffset:this.props.parentOffset,creationLayerWidth:this.scaledWidth,creationLayerHeight:this.scaledHeight,controllerEventHandlers:this.props.delegate,onAnnotationHiddenCallback:this.onAnnotationHiddenCallback,onAnnotationRegionStart:this.onAnnotationRegionStart,onAnnotationPlacedCallback:this.onAnnotationPlacedCallback,onAnnotationStartDragCallback:this.onAnnotationStartDragCallback,onAnnotationEndDragCallback:this.onAnnotationEndDragCallback,onAnnotationScrollCallback:this.onAnnotationScrollCallback,onAnnotationScaleChangeCallback:this.onAnnotationScaleChangeCallback,onAnnotationEnterCallback:this.onAnnotationEnterCallback,onAnnotationLeaveCallback:this.onAnnotationLeaveCallback,draftAnnotationVersion:this.state.draftAnnotationVersion})))},t.defaultProps={scaleFactor:1},t})(a.default.Component);t.AnnotationCreationLayer=d}),define("modules/clean/react/previews/pdf_viewer/annotation_view_layer",["require","exports","tslib","jquery","react","external/classnames","external/react-dom","external/lodash","modules/clean/annotations/annotation","modules/clean/annotations/annotation_highlight_ui","modules/clean/annotations/annotation_region_ui","modules/clean/react/previews/pdf_viewer/transform","modules/clean/react/previews/pdf_viewer/event_emitter","modules/clean/react/css","modules/clean/react/comments2/position_utils"],function(e,t,n,o,i,a,r,s,l,d,c,p,u,g,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importDefault(o),i=n.__importDefault(i),a=n.__importDefault(a),r=n.__importStar(r),s=n.__importStar(s),d=n.__importDefault(d),c=n.__importDefault(c);var m=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderedAnnotations={},t.state={},t.onClick=function(e){t.props.frameMessenger.postMessageToParent("annotation-ui-click",{rankedActivityKeys:t.getRankedActivityKeysFromMouseEvent(e)})},t.onAnnotationClickCallback=function(e){t.props.frameMessenger.postMessageToParent("annotation-ui-click",{annotation:e.annotation,commentActivity:e.commentActivity})},t.onAnnotationEnterCallback=function(e){t.props.frameMessenger.postMessageToParent("annotation-ui-enter",{annotation:e.annotation,commentActivity:e.commentActivity})},t.onAnnotationLeaveCallback=function(e,n){if(t.props.useOverlappingHover)return void t.updateHoverOnMouseEvent(n);t.props.frameMessenger.postMessageToParent("annotation-ui-leave",{annotation:e.annotation,commentActivity:e.commentActivity})},t.clearCachedAnnotationClientRects=function(){t.getBoundingClientRectForActivityKey.cache.clear()},t.getBoundingClientRectForActivityKey=s.memoize(function(e){var n=t.renderedAnnotations[e];if(!n)throw new Error("no annotation for activityKey: "+e);return f.getBoundingClientRectOfRects(Array.from(n.children).map(function(e){return e.getBoundingClientRect()}))}),t.updateHoverOnMouseEvent=function(e){e.persist(),t.updateHoverOnMouseEventThrottled(e)},t.updateHoverOnMouseEventThrottled=s.throttle(function(e){var n=t.getRankedActivityKeysFromMouseEvent(e);if(!n.length)return void t.props.frameMessenger.postMessageToParent("annotation-ui-leave",{});var o=n[0];t.props.frameMessenger.postMessageToParent("annotation-ui-enter",{commentActivity:{activity_key:o}})},150),t.onScroll=function(){t.clearCachedAnnotationClientRects()},t.onFocusAnnotation=function(e){var n=e.id;t.setState({focusedAnnotationId:n})},t.onHoverAnnotation=function(e){var n=e.id;t.setState({emphasizedAnnotationId:n})},t.onHighlightAnnotation=function(e){var n=e.activity_key,i=t.renderedAnnotations[n];if(i){var a=!1;if(!t.isElementVisible(n)){a=!0;var r=o.default(".page-container"),s=o.default(i.firstChild);r.animate({scrollTop:r.scrollTop()+s.offset().top-300+"px"},300)}i.classList.remove("start-highlight-animation"),i.classList.remove("start-highlight-animation--delay"),requestAnimationFrame(function(){i.classList.add("start-highlight-animation"),a&&i.classList.add("start-highlight-animation--delay")})}},t}return n.__extends(t,e),t.prototype.componentDidMount=function(){u.eventEmitter.on("highlight-annotation",this.onHighlightAnnotation),u.eventEmitter.on("focus-annotation",this.onFocusAnnotation),u.eventEmitter.on("hover-annotation",this.onHoverAnnotation),u.eventEmitter.on("scroll",this.onScroll),u.eventEmitter.on("zoom-in",this.clearCachedAnnotationClientRects),u.eventEmitter.on("zoom-out",this.clearCachedAnnotationClientRects),window.addEventListener("resize",this.clearCachedAnnotationClientRects),this.addEventListeners(this.props.pageEl)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.pageEl,o=t.useOverlappingHover;e.pageEl===n&&o===e.useOverlappingHover||(this.removeEventListeners(e.pageEl),this.addEventListeners(n)),this.props.annotations.length!==e.annotations.length&&this.clearCachedAnnotationClientRects()},t.prototype.componentWillUnmount=function(){u.eventEmitter.off("highlight-annotation",this.onHighlightAnnotation),u.eventEmitter.off("focus-annotation",this.onFocusAnnotation),u.eventEmitter.off("hover-annotation",this.onHoverAnnotation),u.eventEmitter.off("scroll",this.onScroll),u.eventEmitter.off("zoom-in",this.clearCachedAnnotationClientRects),u.eventEmitter.off("zoom-out",this.clearCachedAnnotationClientRects),window.removeEventListener("resize",this.clearCachedAnnotationClientRects),this.removeEventListeners(this.props.pageEl),this.renderedAnnotations={}},t.prototype.addEventListeners=function(e){this.props.useOverlappingHover&&e&&(e.addEventListener("mousemove",this.updateHoverOnMouseEventThrottled),e.addEventListener("click",this.onClick))},t.prototype.removeEventListeners=function(e){e&&(e.removeEventListener("mousemove",this.updateHoverOnMouseEventThrottled),e.removeEventListener("click",this.onClick))},t.prototype.isElementVisible=function(e){var t=this.renderedAnnotations[e];if(!t)return!1;var n=o.default(".page-container"),i=o.default(t.firstChild),a=i.offset().top;return 0<a&&a<n.height()},t.prototype.getRankedActivityKeysFromMouseEvent=function(e){var t=this,n=s.mapValues(this.renderedAnnotations,function(e,n){return t.getBoundingClientRectForActivityKey(n)});return f.getRankedElementsForMousePosition(e,n,200)},t.prototype.render=function(){var e=this,t=null;this.props.annotations&&(t=this.props.annotations.map(function(t,o){var a=l.Annotation.createAnnotationFromDict(t.annotation);a.viewportCoordinates=p.transformPdfCoordinates(0,e.props.height,t.annotation.pdf_coordinates);var s=t.commentActivity.activity_key,u=e.props.useOverlappingHover?{}:{onAnnotationEnterCallback:e.onAnnotationEnterCallback,onAnnotationClickCallback:e.onAnnotationClickCallback},g=n.__assign({key:s,annotation:a,isEmphasized:e.state.focusedAnnotationId===s||e.state.emphasizedAnnotationId===s,scaleFactor:e.props.scaleFactor||1,commentActivity:t.commentActivity,options:t.options,ref:function(n){n&&(e.renderedAnnotations[t.commentActivity.activity_key]=r.findDOMNode(n))},onAnnotationLeaveCallback:e.onAnnotationLeaveCallback},u);return a.type===l.AnnotationTypes.HIGHLIGHT?i.default.createElement(d.default,n.__assign({},g)):a.type===l.AnnotationTypes.REGION?i.default.createElement(c.default,n.__assign({},g)):null}));var o=a.default({"db-annotation-layer":!0,"db-annotation-view-layer":!0,"annotation-is-emphasized":!!this.state.emphasizedAnnotationId||!!this.state.focusedAnnotationId});return i.default.createElement("div",{className:o},t)},t.defaultProps={scaleFactor:1},t})(i.default.PureComponent),h=["/static/css/comments_annotations-vflGmnixA.css"],v=g.requireCssWithComponent(m,h);t.AnnotationViewLayer=v}),define("modules/clean/react/previews/pdf_viewer/continuous_page",["require","exports","tslib","esignature_prototype/utils","external/classnames","react","external/lodash","modules/core/browser_detection","modules/clean/react/previews/pdf_viewer/utils","modules/clean/react/previews/pdf_viewer/zoom","modules/clean/react/previews/pdf_viewer/event_emitter","modules/clean/react/previews/pdf_viewer/page"],function(e,t,n,o,i,a,r,s,l,d,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=n.__importDefault(i),a=n.__importDefault(a),r=n.__importStar(r),s=n.__importStar(s);var u=(function(e){function t(t){var n=e.call(this,t)||this;n.pageContainerRef=function(e){return n.pageContainerDOM=e},n.debouncedUpdateTextLayerPageIndex=n.props.updateTextLayerPageIndex?r.debounce(n.props.updateTextLayerPageIndex,200):null,n.onScrollTopChange=function(e){if(void 0===e&&(e=function(e){}),n.props.metadata){c.eventEmitter.emit("scroll"),n.props.annotationProps&&n.props.annotationProps.frameMessenger.postMessageToParent("scroll");for(var t=n.pageContainerDOM.scrollTop+n.pageContainerDOM.clientHeight/2,o=0,i=n.state.clientScaleFactor,a=0,r=n.props.metadata.dimensions;a<r.length;a++){var s=r[a],l=(s[0],s[1]),d=s[2],p=(l*i+16)*d;if(!(t>p)){o+=Math.floor((t+1)/(l*i+16));break}t-=p,o+=d}o!==n.props.currentPageIndex?n.props.onPageNumberUpdated(o,function(){return e(o)}):e(o)}},n.throttledOnScrollTopChange=r.throttle(n.onScrollTopChange,100),n.debouncedOnScrollTopChange=r.debounce(n.onScrollTopChange,200),n.maxScrollSpeed=100,n.onInternalLinkClick=function(e,t){t.preventDefault(),n.props.jumpToPage(e)},n.onScroll=function(){var e=n.checkScrollSpeed();if(Math.abs(e)>n.maxScrollSpeed)return void n.debouncedOnScrollTopChange();n.throttledOnScrollTopChange(),n.debouncedUpdateTextLayerPageIndex&&n.debouncedUpdateTextLayerPageIndex()},n.lastPos=null,n.checkScrollSpeed=function(){var e=0,t=n.pageContainerDOM.scrollTop;return null!==n.lastPos&&(e=t-n.lastPos),n.lastPos=t,e},n.scrollDown=function(){n.setScrollTop(n.pageContainerDOM.scrollTop+60)},n.scrollUp=function(){n.setScrollTop(n.pageContainerDOM.scrollTop-60)},n.zoomIn=function(){var e=Math.min(1.1*n.state.clientScaleFactor,10);n.setState({clientScaleFactor:e,fittingMode:d.FittingMode.NONE})},n.zoomOut=function(){var e=Math.max(n.state.clientScaleFactor/1.1,.1);n.setState({clientScaleFactor:e,fittingMode:d.FittingMode.NONE})};var o=d.FittingMode.FIT_TO_WIDTH,i=t.height&&t.width?d.computeClientScaleFactor(o,t.metadata.dimensions,t.height,t.width-32):1;return n.state={clientScaleFactor:i,fittingMode:o},n.isMobileOrTablet=s.is_mobile_or_tablet(),n.backwardBatchSize=n.isMobileOrTablet?1:3,n.forwardBatchSize=n.isMobileOrTablet?2:4,n}return n.__extends(t,e),t.prototype.setScrollTop=function(e,t){void 0===t&&(t=function(e){}),this.pageContainerDOM.scrollTop=e,this.onScrollTopChange(t),this.props.updateTextLayerPageIndex()},t.prototype.getStartPage=function(e){return Math.max(0,e-this.backwardBatchSize)},t.prototype.getEndPage=function(e){return Math.min(this.props.metadata.page_count,e+this.forwardBatchSize)},t.prototype.displayPage=function(e,t){if(void 0===t&&(t=function(e){}),!(e<0||e>=this.props.metadata.page_count)){for(var n=0,o=this.state.clientScaleFactor,i=0,a=this.props.metadata.dimensions;i<a.length;i++){var r=a[i],s=(r[0],r[1]),l=r[2];if(!(e>=l)){n+=(16+s*o)*e;break}n+=(16+s*o)*l,e-=l}this.setScrollTop(n,t)}},t.prototype.componentDidMount=function(){c.eventEmitter.on("zoom-in",this.zoomIn),c.eventEmitter.on("zoom-out",this.zoomOut)},t.prototype.componentWillReceiveProps=function(e){this.props.height===e.height&&this.props.width===e.width||!this.props.annotationProps||l.resetAnnotationState(this.props.annotationProps.frameMessenger,this.pageContainerDOM)},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.state.fittingMode!==d.FittingMode.NONE&&(e.height!==this.props.height||e.width!==this.props.width)){var i=d.computeClientScaleFactor(this.state.fittingMode,this.props.metadata.dimensions,this.props.height,this.props.width-32);this.setState({clientScaleFactor:i})}if(this.pageContainerDOM&&this.state.clientScaleFactor&&t.clientScaleFactor&&this.state.clientScaleFactor!==t.clientScaleFactor){var a=this.pageContainerDOM.scrollTop,r=this.pageContainerDOM.scrollLeft,s=16*(this.props.currentPageIndex+1),l=t.clientScaleFactor,p=this.state.clientScaleFactor/l;a>s&&(this.pageContainerDOM.scrollTop=(a-s)*p+s),r>16&&(this.pageContainerDOM.scrollLeft=(r-16)*p+16),this.maxScrollSpeed+=l/this.state.clientScaleFactor}if(e.currentPageIndex!==this.props.currentPageIndex&&this.props.shouldMoveToPage===!0&&this.displayPage(this.props.currentPageIndex,function(e){c.eventEmitter.emit("page-set-to",e,n.props.currentPageIndex),c.eventEmitter.emit("page-set")}),e.isFullscreen!==this.props.isFullscreen){var u=e.isFullscreen?d.FittingMode.FIT_TO_WIDTH:d.FittingMode.FIT_PAGE;this.setState({fittingMode:u})}this.props.focusedField&&e.focusedField&&e.focusedField.id!==this.props.focusedField.id&&(this.displayPage(this.props.focusedField.rect.page),this.pageContainerDOM.scrollTop+=o.calculateScrollTopForField(this.props.focusedField,this.props.pages[this.props.currentPageIndex].dimension[1],this.state.clientScaleFactor))},t.prototype.componentWillUnmount=function(){c.eventEmitter.off("zoom-in",this.zoomIn),c.eventEmitter.off("zoom-out",this.zoomOut)},t.prototype.render=function(){var e=this,t=this.props,n=t.annotationProps,o=t.onImageError,d=t.onPageRenderComplete,c=t.onPageImageLoad,u=[],g={},f={},m=this.getStartPage(this.props.currentPageIndex),h=this.getEndPage(this.props.currentPageIndex);u=r.range(m,h).map(function(t){return a.default.createElement(p.Page,{key:t,nextFieldId:e.props.nextFieldId,fields:e.props.getFieldsForPage?e.props.getFieldsForPage(t):[],pageData:e.props.pages[t],imageUrlTmpl:e.props.imageUrlTmpl,useCanned:e.props.useCanned,clientScaleFactor:e.state.clientScaleFactor,loadImageOnly:e.isMobileOrTablet,annotationProps:l.annotationsAtPage(n,t),isFocusedPage:t===e.props.currentPageIndex,onRenderComplete:d,onImageLoad:c,onImageError:o,signatureImage:e.props.signatureImage,createSignature:e.props.createSignature,signField:e.props.signField,isSendForSignatureMode:e.props.isSendForSignatureMode,isSigningMode:e.props.isSigningMode,isFieldCreationMode:e.props.isFieldCreationMode,fieldCreationType:e.props.fieldCreationType,isCreatingFieldForRecipient:e.props.isCreatingFieldForRecipient,exitFieldCreationMode:e.props.exitFieldCreationMode,createField:e.props.createField,updateField:e.props.updateField,cancelField:e.props.cancelField,enterFieldText:e.props.enterFieldText,selectFieldDate:e.props.selectFieldDate,focusField:e.props.focusField,focusedFieldId:e.props.focusedField?e.props.focusedField.id:void 0,isMounted:e.props.isMounted,onInternalLinkClicked:e.onInternalLinkClick,comments2AnnotationsEnabled:e.props.comments2AnnotationsEnabled,onImageLayerMounted:e.props.onImageLayerMounted})});var v=this.props.pages.map(function(e){return e.dimension}),_=m>0?l.getTotalSize(v.slice(0,m),this.state.clientScaleFactor,16)[1]+16:0;return g={height:l.getTotalSize(v,this.state.clientScaleFactor,16)[1],margin:"auto"},f={top:_},a.default.createElement("div",{className:i.default("viewer-container__sizer","page-container","pdf-viewer__pages",{"ios-enable-inertial-scroll":s.iOS}),onScroll:this.onScroll,ref:this.pageContainerRef},a.default.createElement("div",{style:g},a.default.createElement("div",{className:"page-container-inner",style:f},u)))},t})(a.default.PureComponent);t.ContinuousPage=u}),define("modules/clean/react/previews/pdf_viewer/doc_viewer",["require","exports","tslib","external/classnames","external/lodash","react","modules/core/browser","modules/clean/react/previews/pdf_viewer/continuous_page","spectrum/dimensions","modules/clean/react/file_viewer/full_screen_helpers","modules/clean/react/previews/pdf_viewer/event_emitter","modules/clean/react/previews/pdf_viewer/keyboard_bindings","modules/clean/previews/util","modules/clean/react/file_viewer/sidebar_helpers","modules/clean/react/keyboard_binding/keyboard_binding_connector","modules/clean/react/async/loadable","modules/clean/react/previews/loading_indicator","modules/clean/react/previews/pdf_viewer/placeholder_image","modules/clean/react/previews/pdf_viewer/sidebar","modules/clean/react/previews/pdf_viewer/urls","modules/clean/react/previews/pdf_viewer/sidebar","modules/clean/react/previews/pdf_viewer/single_page","spectrum/snackbar","modules/clean/web_timing_logger","modules/clean/react/keyboard_binding/keyboard_binding","modules/core/i18n","modules/clean/react/file_viewer/constants","modules/clean/react/previews/constants","modules/clean/react/previews/pdf_viewer/utils","modules/clean/react/previews/pdf_viewer/zoom","esignature_prototype/data/actions","esignature_prototype/data/selectors","external/react-redux","esignature_prototype/logger/esignature_preview_logger"],function(e,t,n,o,i,a,r,s,l,d,c,p,u,g,f,m,h,v,_,b,E,w,P,y,A,M,L,S,F,C,T,x,N,I){"use strict";var D=this;Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importDefault(o),i=n.__importStar(i),a=n.__importDefault(a),r=n.__importStar(r);var O=m.Loadable({loader:function(){return n.__awaiter(D,void 0,void 0,function(){var t;return n.__generator(this,function(o){switch(o.label){case 0:return[4,y.waitForTTI()];case 1:return o.sent(),[4,new Promise(function(t,n){e(["modules/clean/react/previews/pdf_viewer/print_modal"],t,n)}).then(n.__importStar)];case 2:return t=o.sent().PrintModal,[2,t]}})})}}),k=(function(e){function t(t){var n=e.call(this,t)||this;return n.iframeRef=function(e){e&&e.contentWindow&&(e.contentWindow.addEventListener("load",n.onResize),e.contentWindow.addEventListener("resize",n.onResize))},n.containerRef=function(e){return n.containerDOM=e},n.continuousPageRef=function(e){return n.continuousPage=e},n.singlePageRef=function(e){return n.singlePage=e},n.docType=u.isPptExtension(n.props.fileExtension)?L.DocType.ppt:L.DocType.pdf,n.onResize=function(){n.props.metadata&&n.props.annotationProps&&F.resetAnnotationState(n.props.annotationProps.frameMessenger,n.containerDOM)},n.enterFullscreen=function(){
n.props.isFullscreen||d.enterFullScreen(L.UserActionContext.Keyboard)},n.onToolbarMounted=function(){"function"==typeof n.props.onToolbarMounted&&n.props.onToolbarMounted(n.state.currentPageIndex)},n.setPage=function(e,t){void 0===t&&(t=function(){}),n.props.metadata&&(e<0||e>=n.props.metadata.page_count||("function"==typeof n.props.onPageChange&&n.props.onPageChange(e),n.setState({currentPageIndex:e},t)))},n.jumpToPage=function(e,t){void 0===t&&(t=function(){}),n.setState({shouldMoveToPage:!0}),n.setPage(e,t)},n.shouldNotMoveToPage=function(){n.setState({shouldMoveToPage:!1})},n.setTextLayerPageIndex=function(){n.setState({textLayerPageIndex:n.state.currentPageIndex})},n.onPageRenderComplete=function(e,t){n.props.onPageRenderComplete&&n.props.onPageRenderComplete(e,t,e===n.state.currentPageIndex),n.setState({pageRendered:!0})},n.onPageImageLoad=function(e,t){n.props.onPageImageLoad&&n.props.onPageImageLoad(e,t,e===n.state.currentPageIndex)},n.onFirstPageError=function(){n.setState({firstPageFailed:!0})},n.onError=function(e){n.setState({error:e})},n.onImageError=function(){n.setState({error:M._("Some pages failed to load")})},n.onReload=function(){r.reload(!0)},n.onDismissError=function(){n.setState({error:void 0})},n.pageDown=function(){n.jumpToPage(n.state.currentPageIndex+1)},n.pageUp=function(){n.jumpToPage(n.state.currentPageIndex-1)},n.scrollDown=function(){n.continuousPage||n.pageDown(),n.continuousPage.scrollDown()},n.scrollUp=function(){n.continuousPage||n.pageUp(),n.continuousPage.scrollUp()},n.zoomIn=function(){n.continuousPage&&n.continuousPage.zoomIn(),n.singlePage&&n.singlePage.zoomIn()},n.zoomOut=function(){n.continuousPage&&n.continuousPage.zoomOut(),n.singlePage&&n.singlePage.zoomOut()},n.print=function(){c.eventEmitter.emit("print",{context:L.UserActionContext.Keyboard})},n.onPageUp=A.withPreventDefault(n.pageUp),n.onPageDown=A.withPreventDefault(n.pageDown),n.onScrollUp=A.withPreventDefault(n.scrollUp),n.onScrollDown=A.withPreventDefault(n.scrollDown),n.onEnterFullscreen=A.withPreventDefault(n.enterFullscreen),n.onZoomIn=A.withPreventDefault(n.zoomIn),n.onZoomOut=A.withPreventDefault(n.zoomOut),n.onPrintKeyPressed=A.withPreventDefault(n.print),n.docFullScreenKeyboardBindings=n.docType===L.DocType.pdf?p.getContinuousPageKeyboardBindings(!0,n.onScrollUp,n.onScrollDown,n.onPageUp,n.onPageDown,n.onEnterFullscreen,n.onZoomIn,n.onZoomOut,n.onPrintKeyPressed):p.getSinglePageKeyboardBindings(!0,n.onPageUp,n.onPageDown,n.onEnterFullscreen,n.onZoomIn,n.onZoomOut,n.onPrintKeyPressed),n.docSidebarFocusedKeyboardBindings=n.docType===L.DocType.pdf?p.getContinuousPageKeyboardBindings(!1,n.pageUp,n.onPageDown,n.onPageUp,n.onPageDown,n.onEnterFullscreen,n.onZoomIn,n.onZoomOut,n.onPrintKeyPressed):p.getSinglePageKeyboardBindings(!1,n.onPageUp,n.onPageDown,n.onEnterFullscreen,n.onZoomIn,n.onZoomOut,n.onPrintKeyPressed),n.docKeyboardBindings=n.docType===L.DocType.pdf?p.getContinuousPageKeyboardBindings(!1,n.onScrollUp,n.onScrollDown,n.onPageUp,n.onPageDown,n.onEnterFullscreen,n.onZoomIn,n.onZoomOut,n.onPrintKeyPressed):p.getSinglePageKeyboardBindings(!1,n.onPageUp,n.onPageDown,n.onEnterFullscreen,n.onZoomIn,n.onZoomOut,n.onPrintKeyPressed),n.getDocKeyboardBindings=function(e,t){return e?n.docFullScreenKeyboardBindings:t?n.docSidebarFocusedKeyboardBindings:n.docKeyboardBindings},n.handleSidebarClick=function(e){n.jumpToPage(e),n.focusSidebar()},n.focusSidebar=function(){n.setState({isSidebarFocused:!0})},n.unfocusSidebar=function(){n.setState({isSidebarFocused:!1})},n.createField=I.trackFieldAction(I.EventType.created,n.props.filePreviewSession,n.props.createField),n.cancelField=I.trackFieldIdAction(I.EventType.deleted,n.props.filePreviewSession,n.props.cancelField),n.updateField=I.trackFieldAction(I.EventType.updated,n.props.filePreviewSession,n.props.updateField),n.focusField=I.trackFieldIdAction(I.EventType.focused,n.props.filePreviewSession,n.props.focusField),n.exitFieldCreationMode=I.trackFieldIdAction(I.EventType.exited,n.props.filePreviewSession,n.props.exitFieldCreationMode),n.signField=I.trackFieldIdAction(I.EventType.filledOut,n.props.filePreviewSession,n.props.signField),n.selectFieldDate=I.trackFieldIdAction(I.EventType.filledOut,n.props.filePreviewSession,n.props.selectFieldDate),n.enterFieldText=I.trackFieldIdAction(I.EventType.filledOut,n.props.filePreviewSession,n.props.enterFieldText),n.state={fittingMode:n.props.isFullscreen?C.fullscreenFittingMode():u.isPptExtension(t.fileExtension)?C.FittingMode.FIT_PAGE:C.FittingMode.FIT_TO_WIDTH,currentPageIndex:0,shouldMoveToPage:!1,textLayerPageIndex:0,isSidebarFocused:!1},n}return n.__extends(t,e),t.prototype.isSidebarOpen=function(e,t){void 0===t&&(t=this.props);var n=t.isSidebarOpen,o=t.sizeClass,i=t.isFullscreen;return g.isSidebarEnabled(e,o,!!i)&&(n||{})[e]},t.prototype.componentDidMount=function(){c.eventEmitter.on("page-down",this.pageDown),c.eventEmitter.on("page-up",this.pageUp),c.eventEmitter.on("set-current-page",this.jumpToPage),c.eventEmitter.on("page-set",this.shouldNotMoveToPage),c.eventEmitter.on("error",this.onError),c.eventEmitter.on("toolbar-mounted",this.onToolbarMounted);var e=this.props,t=e.metadata,n=e.startPage;t&&n&&n>=0&&n<t.page_count&&this.jumpToPage(n)},t.prototype.componentWillUnmount=function(){c.eventEmitter.off("page-down",this.pageDown),c.eventEmitter.off("page-up",this.pageUp),c.eventEmitter.off("set-current-page",this.jumpToPage),c.eventEmitter.off("page-set",this.shouldNotMoveToPage),c.eventEmitter.off("error",this.onError),c.eventEmitter.off("toolbar-mounted",this.onToolbarMounted)},t.prototype.componentWillReceiveProps=function(e){var t=this.state.fittingMode;this.props.isFullscreen!==e.isFullscreen&&(t=e.isFullscreen?C.fullscreenFittingMode():u.isPptExtension(e.fileExtension)?C.FittingMode.FIT_PAGE:C.FittingMode.FIT_TO_WIDTH,this.setState({fittingMode:t})),this.props.fileExtension!==e.fileExtension&&(this.docType=u.isPptExtension(e.fileExtension)?L.DocType.ppt:L.DocType.pdf)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.metadata,o=t.startPage;!e.metadata&&n&&o&&o>=0&&o<n.page_count&&this.jumpToPage(o)},t.prototype.renderErrorSnackbar=function(){if(!this.state.error)return null;var e={"pdf-snackbar":!0,"pdf-snackbar__toolbar-visible":this.props.isToolbarVisible};return a.default.createElement(P.Snackbar,{className:o.default(e),title:this.state.error,variant:"fail",disablePositioningAndBackdrop:!0},a.default.createElement(P.SnackbarAction,{onClick:this.onReload},"Reload"),a.default.createElement(P.SnackbarAction,{onClick:this.onDismissError},"Close"))},t.prototype.renderViewer=function(e,t){var o=this.props.links||{},r=this.props,l=r.annotationProps,d=r.comments2AnnotationsEnabled,c=r.isFullscreen,p=r.metadata,u=r.text,g=r.imageUrlTmpl,f=r.useCanned;if(p&&u&&p.page_count>0){var m={height:e,width:t,comments2AnnotationsEnabled:d,currentPageIndex:this.state.currentPageIndex,imageUrlTmpl:g,useCanned:f,annotationProps:l,metadata:p,onImageError:this.onImageError,isFullscreen:c,onPageImageLoad:this.onPageImageLoad,onPageRenderComplete:this.onPageRenderComplete,onPageNumberUpdated:this.setPage,onImageLayerMounted:this.props.onImageLayerMounted},h=F.expandDimensions(p.dimensions),v=i.range(0,p.page_count).map(function(e){return{pageIndex:e,dimension:h[e],textboxes:u[e],links:o[e]||[],thumbnailUrl:b.imageUrl(g,e,Math.ceil(200*_.SIDEBAR_THUMBNAIL_WIDTH/h[e][0]),f)}});return this.docType===L.DocType.ppt&&w.deviceSupported()?a.default.createElement(w.SinglePage,n.__assign({},m,{pages:v,ref:this.singlePageRef})):a.default.createElement(s.ContinuousPage,n.__assign({},m,{pages:v,nextFieldId:this.props.nextFieldId,shouldMoveToPage:this.state.shouldMoveToPage,textLayerPage:this.state.textLayerPageIndex,updateTextLayerPageIndex:this.setTextLayerPageIndex,getFieldsForPage:this.props.getFieldsForPage,signatureImage:this.props.signatureImage,createSignature:this.props.createSignature,signField:this.signField,isSendForSignatureMode:this.props.isSendForSignatureMode,isSigningMode:this.props.isSigningMode,isFieldCreationMode:this.props.isFieldCreationMode,isCreatingFieldForRecipient:this.props.isCreatingFieldForRecipient,exitFieldCreationMode:this.exitFieldCreationMode,createField:this.createField,updateField:this.updateField,cancelField:this.cancelField,enterFieldText:this.enterFieldText,selectFieldDate:this.selectFieldDate,focusField:this.focusField,focusedField:this.props.focusedField,comments2AnnotationsEnabled:this.props.comments2AnnotationsEnabled,isMounted:this.props.filePreviewSession&&this.props.filePreviewSession.sourceContext===S.PreviewSourceContext.Browse,jumpToPage:this.jumpToPage,ref:this.continuousPageRef}))}return null},t.prototype.renderSidebar=function(){var e=this,t=this.isSidebarOpen(this.docType),n=this.props.links||{},o=this.props,r=o.getNumFieldsPerPage,s=o.metadata,l=o.text;if(s&&l){var d=F.expandDimensions(s.dimensions),c=i.range(0,s.page_count).map(function(t){return{pageIndex:t,dimension:d[t],textboxes:l[t],links:n[t]||[],thumbnailUrl:b.imageUrl(e.props.imageUrlTmpl,t,Math.ceil(200*_.SIDEBAR_THUMBNAIL_WIDTH/d[t][0]),e.props.useCanned)}});return a.default.createElement(E.Sidebar,{className:t?"pdf-viewer__sidebar open":"pdf-viewer__sidebar",currentPageIndex:this.state.currentPageIndex,pages:c,getNumFieldsPerPage:r,isFocused:this.state.isSidebarFocused,onClick:this.handleSidebarClick,onFocus:this.focusSidebar,onBlur:this.unfocusSidebar})}return null},t.prototype.renderCloseFullscreenButton=function(){return this.props.isFullscreen?a.default.createElement("div",{className:"close-x"},a.default.createElement("button",{onClick:this.props.onExitFullscreen,className:"close-x-button","aria-label":M._("Close")},"✕")):null},t.prototype.renderPlaceholder=function(){var e=this.props.placeholderImageUrl;return this.state.pageRendered||!e||this.state.firstPageFailed?null:a.default.createElement(v.PlaceholderImage,{url:e,addLeftMargin:u.isPptExtension(this.props.fileExtension),onError:this.onFirstPageError})},t.prototype.render=function(){var e=this,t=this.renderSidebar(),n=this.renderCloseFullscreenButton(),i={"viewer-container":!0,"sidebar-visible":this.isSidebarOpen(this.docType)},r=this.renderPlaceholder(),s=this.state.pageRendered?null:a.default.createElement(h.LoadingIndicator,{className:"loading-indicator"}),d=this.props.metadata&&this.props.printProps?a.default.createElement(O,{imageUrlTmpl:this.props.imageUrlTmpl,useCanned:this.props.useCanned,metadata:this.props.metadata,printProps:this.props.printProps}):null,c=a.default.createElement("iframe",{"aria-hidden":"true",ref:this.iframeRef,style:{position:"absolute",left:0,bottom:0,top:0,width:"100%",zIndex:-1e3,opacity:0}});return a.default.createElement("div",{className:o.default(i)},s,r,c,n,a.default.createElement("div",{className:o.default("pdf-viewer",{fullscreen:this.props.isFullscreen}),style:{visibility:this.state.pageRendered?"visible":"hidden"},ref:this.containerRef},a.default.createElement(f.KeyboardBindingConnector,{keyboardBindings:this.getDocKeyboardBindings(!!this.props.isFullscreen,this.state.isSidebarFocused)}),t,a.default.createElement(l.Dimensions,{className:"flex-preview-container"},function(t){var n=t.width,o=t.height;return e.renderViewer(o,n)})),this.renderErrorSnackbar(),d)},t})(a.default.PureComponent);t._DocViewer=k;var R=function(e){return{nextFieldId:x.getNextFieldId(e),getFieldsForPage:function(t){return x.getFieldsForPage(e,t)},getNumFieldsPerPage:function(t){return x.getNumFieldsPerPage(e,t)},signatureImage:x.getSignatureImage(e),isSendForSignatureMode:x.getIsSendForSignatureMode(e),isSigningMode:x.getIsSigningMode(e),isFieldCreationMode:x.getIsFieldCreationMode(e),fieldCreationType:x.getFieldCreationType(e),isCreatingFieldForRecipient:x.getIsCreatingFieldForRecipient(e),focusedField:x.getLastFocusedField(e)}},B={createSignature:T.createSignature,signField:T.signField,enterFieldText:T.enterFieldText,selectFieldDate:T.selectFieldDate,exitFieldCreationMode:T.exitFieldCreationMode,createField:T.createField,updateField:T.updateField,cancelField:T.cancelField,focusField:T.focusField},U=N.connect(R,B)(k);t.DocViewer=U}),define("modules/clean/react/previews/pdf_viewer/event_emitter",["require","exports","tslib","external/eventemitter3"],function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importDefault(o),t.eventEmitter=new o.default}),define("modules/clean/react/previews/pdf_viewer/font",["require","exports"],function(e,t){"use strict";function n(e){var t=e.n.lastIndexOf(",");return{fontFamily:'"'+(t>-1?e.n.substr(0,t):e.n)+'", '+(1&e.f?"monospace":"serif"),isBold:(e.f&1<<18)>0,isItalic:(64&e.f)>0}}Object.defineProperty(t,"__esModule",{value:!0});t.renderFont=n}),define("modules/clean/react/previews/pdf_viewer/frame_messenger_shims",["require","exports","tslib","external/eventemitter3","modules/clean/frame_messenger/frame_messenger_client","modules/clean/frame_messenger/frame_messenger_host"],function(e,t,n,o,i,a){"use strict";function r(){return{parentEmitter:new o.default,childEmitter:new o.default}}Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importDefault(o);t.makeChannel=r;var s=(function(e){function t(t){var n=e.call(this,[])||this;return n.eventListener=function(e){n.validActions.indexOf(e.action)>-1&&n.handler(e)},n.channel=t,n}return n.__extends(t,e),t.prototype.configureChildMessaging=function(e,t,n){this.handler=t,this.validActions=n},t.prototype.startListening=function(){this.channel.childEmitter.on("message",this.eventListener)},t.prototype.stopListening=function(){this.channel.childEmitter.off("message",this.eventListener)},t.prototype.postMessageToChildren=function(e,t){void 0===t&&(t={}),this.channel.parentEmitter.emit("message",{action:e,parameters:t})},t})(a.FrameMessengerHost);t.FrameMessengerHostShim=s;var l=(function(e){function t(t){var n=e.call(this,[])||this;return n.eventListener=function(e){n.validActions.indexOf(e.action)>-1&&n.handler(e)},n.channel=t,n}return n.__extends(t,e),t.prototype.configureParentMessaging=function(e,t,n){void 0===n&&(n=null),this.validActions=t,this.handler=e},t.prototype.postMessageToParent=function(e,t){void 0===t&&(t={}),this.channel.childEmitter.emit("message",{action:e,parameters:t})},t.prototype.startListening=function(){this.channel.parentEmitter.on("message",this.eventListener)},t.prototype.stopListening=function(){this.channel.parentEmitter.off("message",this.eventListener)},t})(i.FrameMessengerClient);t.FrameMessengerClientShim=l}),define("modules/clean/react/previews/pdf_viewer/keyboard_bindings",["require","exports","modules/clean/react/keyboard_binding/keyboard_binding","modules/clean/keycode"],function(e,t,n,o){"use strict";function i(e,i,a,r,s,l,d){var c=n.hydrateKeyboardBinding({keyboardEventCriteria:{which:o.KeyCode.F},callback:r});return t.getPageUpPageDownKeyboardBindings(i,a).concat(t.getUpDownKeyboardBindings(i,a),t.getLeftRightKeyboardBindings(i,a),[c],n.getEqualsKeyBindings(s),n.getMinusKeyBindings(l),n.getPrintKeyBindings(d))}function a(e,i,a,r,s,l,d,c,p){var u=e?t.getUpDownKeyboardBindings(r,s):t.getUpDownKeyboardBindings(i,a),g=n.hydrateKeyboardBinding({keyboardEventCriteria:{altKey:!0,which:o.KeyCode.UP},callback:r}),f=n.hydrateKeyboardBinding({keyboardEventCriteria:{altKey:!0,which:o.KeyCode.DOWN},callback:s}),m=e?t.getLeftRightKeyboardBindings(r,s).slice():[],h=n.hydrateKeyboardBinding({keyboardEventCriteria:{which:o.KeyCode.F},callback:l});return u.concat([g,f],t.getPageUpPageDownKeyboardBindings(r,s),m,[h],n.getEqualsKeyBindings(d),n.getMinusKeyBindings(c),n.getPrintKeyBindings(p))}Object.defineProperty(t,"__esModule",{value:!0}),t.getLeftRightKeyboardBindings=function(e,t){return[n.hydrateKeyboardBinding({keyboardEventCriteria:{which:o.KeyCode.LEFT},callback:e}),n.hydrateKeyboardBinding({keyboardEventCriteria:{which:o.KeyCode.RIGHT},callback:t})]},t.getUpDownKeyboardBindings=function(e,t){return[n.hydrateKeyboardBinding({keyboardEventCriteria:{which:o.KeyCode.UP},callback:e}),n.hydrateKeyboardBinding({keyboardEventCriteria:{which:o.KeyCode.DOWN},callback:t})]},t.getPageUpPageDownKeyboardBindings=function(e,t){return[n.hydrateKeyboardBinding({keyboardEventCriteria:{which:o.KeyCode.PAGE_UP},callback:e}),n.hydrateKeyboardBinding({keyboardEventCriteria:{which:o.KeyCode.PAGE_DOWN},callback:t})]},t.getSinglePageKeyboardBindings=i,t.getContinuousPageKeyboardBindings=a}),define("modules/clean/react/previews/pdf_viewer/page",["require","exports","tslib","esignature/public/gated_esignature_layer","esignature_prototype/components/esignature_field_creation_layer","esignature_prototype/components/esignature_field_view_layer","external/classnames","react","external/react-dom","modules/clean/react/async/loadable","modules/clean/react/previews/pdf_viewer/annotation_creation_layer","modules/clean/react/previews/pdf_viewer/event_emitter","file-viewer/preview_pdf/links_layer","modules/clean/react/previews/pdf_viewer/annotation_view_layer","modules/clean/react/previews/pdf_viewer/urls","modules/clean/react/previews/pdf_viewer/timing","modules/clean/react/previews/pdf_viewer/zoom","modules/clean/web_timing_logger","modules/clean/referrer_cleansing_redirect","file-viewer/preview_pdf/text_transform","file-viewer/strings","file-viewer/preview_pdf/img_layer","file-viewer/i18n"],function(e,t,n,o,i,a,r,s,l,d,c,p,u,g,f,m,h,v,_,b,E,w,P){"use strict";function y(e){return void 0===e&&(e=[]),e.map(function(e){return e.a&&e.a.ur?n.__assign({},e,{a:n.__assign({},e.a,{ur:_.get_redirect_uri(b.normalizeUrl(e.a.ur)).toString()})}):e})}var A=this;Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),s=n.__importDefault(s),l=n.__importStar(l),_=n.__importStar(_);var M=P.createFormatMessage(E.strings),L=d.Loadable({loader:function(){return n.__awaiter(A,void 0,void 0,function(){var t;return n.__generator(this,function(o){switch(o.label){case 0:return[4,v.waitForTTI()];case 1:return o.sent(),[4,new Promise(function(t,n){e(["file-viewer/preview_pdf/text_layer"],t,n)}).then(n.__importStar)];case 2:return t=o.sent().TextLayer,[2,t]}})})}});t.Comments2AnnotationOverlay=d.Loadable({loader:function(){return new Promise(function(t,n){e(["modules/clean/react/comments2/components/annotation_overlay"],t,n)}).then(n.__importStar).then(function(e){return e.AnnotationOverlay})}});var S=(function(){function e(){this.imageLoad=new m.TimingStat,this.pageRender=new m.TimingStat}return e})(),F=(function(e){function d(t){var n=e.call(this,t)||this;return n.timingStats=new S,n.imageLoaded=!1,n.textRendered=!1,n.onPageRef=function(e){return n.pageEl=e},n.onMouseDown=function(e){e.persist(),n.updateOffset(),n.annotationCreationDelegate.onMouseDownCallback(e)},n.onMouseMove=function(e){e.persist(),n.annotationCreationDelegate.onMouseMoveCallback(e)},n.onMouseUp=function(e){e.persist(),n.annotationCreationDelegate.onMouseUpCallback(e)},n.onMouseEnter=function(e){e.persist(),n.annotationCreationDelegate.onMouseEnterCallback(e)},n.updateOffset=function(){var e=l.findDOMNode(n),t=e.getBoundingClientRect(),o=document.body,i=document.documentElement,a=window.pageYOffset||i.scrollTop||o.scrollTop,r=window.pageXOffset||i.scrollLeft||o.scrollLeft,s=i.clientTop||o.clientTop||0,d=i.clientLeft||o.clientLeft||0,c=t.top+a-s,p=t.left+r-d,u=t.right-t.left,g=t.bottom-t.top;n.setState({offset:{top:c,left:p,bottom:c+g,right:p+u}})},n.onScroll=function(){n.updateOffset(),n.annotationCreationDelegate.onScrollCallback()},n.onImageLoaded=function(){n.imageLoaded||(n.imageLoaded=!0,n.timingStats.imageLoad.timeEnd(),n.props.onImageLoad&&n.props.onImageLoad(n.props.pageData.pageIndex,n.timingStats.imageLoad),n.onTimingEventCompleted())},n.onImageError=function(){n.props.onImageError&&n.props.onImageError(n.props.pageData.pageIndex)},n.onTextRendered=function(){n.textRendered||(n.textRendered=!0,n.onTimingEventCompleted())},n.shouldMarkTimingEventCompleted=function(){return n.imageLoaded&&(n.props.loadImageOnly||n.textRendered)},n.onTimingEventCompleted=function(){n.shouldMarkTimingEventCompleted()&&(n.timingStats.pageRender.timeEnd(),n.props.onRenderComplete&&n.props.onRenderComplete(n.props.pageData.pageIndex,n.timingStats.pageRender)),n.updateOffset()},n.onInternalLinkClick=function(e,t){n.props.onInternalLinkClicked&&n.props.onInternalLinkClicked(e,t)},n.state={},n.annotationCreationDelegate={onMouseDownCallback:function(e){},onMouseMoveCallback:function(e){},onMouseUpCallback:function(e){},onMouseEnterCallback:function(){},onScrollCallback:function(){}},n}return n.__extends(d,e),d.prototype.startTiming=function(){this.timingStats=new S,this.timingStats.imageLoad.time(),this.timingStats.pageRender.time()},d.prototype.componentWillMount=function(){this.startTiming()},d.prototype.componentDidMount=function(){p.eventEmitter.on("scroll",this.onScroll),this.updateOffset()},d.prototype.componentWillUnmount=function(){p.eventEmitter.off("scroll",this.onScroll)},d.prototype.componentWillUpdate=function(e,t){this.props.pageData.pageIndex!==e.pageData.pageIndex&&(this.imageLoaded=!1,this.textRendered=!1,this.startTiming())},d.prototype.render=function(){var e=null,n=null,l=null,d=null,p=this.props.pageData.pageIndex+1,m="pageContainer"+p,v="pageImage"+p,_=h.calculatedFetchedScaleFactor(this.props.clientScaleFactor,{originalWidth:this.props.pageData.dimension[0],originalHeight:this.props.pageData.dimension[1]}),b=s.default.createElement(w.ImgLayer,{className:"page-image-wrapper",key:v,src:f.imageUrl(this.props.imageUrlTmpl,this.props.pageData.pageIndex,100*_,this.props.useCanned),onLoad:this.onImageLoaded,onError:this.onImageError,onComponentDidMount:this.props.onImageLayerMounted});this.props.loadImageOnly||(e=s.default.createElement(L,{width:this.props.pageData.dimension[0],height:this.props.pageData.dimension[1],textboxes:this.props.pageData.textboxes||[],clientScaleFactor:this.props.clientScaleFactor,onRender:this.onTextRendered}),n=s.default.createElement(u.LinksLayer,{width:this.props.pageData.dimension[0],height:this.props.pageData.dimension[1],links:y(this.props.pageData.links||[]),formatMessage:M,clientScaleFactor:this.props.clientScaleFactor,onInternalLinkClicked:this.onInternalLinkClick}));var E=this.props,P=E.annotationProps,A=E.isSendForSignatureMode,S=E.isSigningMode,F=!1;!P||A||S||(l=s.default.createElement(g.AnnotationViewLayer,{annotations:P.annotations||[],page:p,width:this.props.pageData.dimension[0],height:this.props.pageData.dimension[1],scaleFactor:this.props.clientScaleFactor,frameMessenger:P.frameMessenger,useOverlappingHover:this.props.comments2AnnotationsEnabled,pageEl:this.pageEl}),F=P.isAnnotationCreationEnabled,F&&(d=s.default.createElement(c.AnnotationCreationLayer,{pageNumber:p,width:this.props.pageData.dimension[0],height:this.props.pageData.dimension[1],scaleFactor:this.props.clientScaleFactor,parentOffset:this.state.offset,delegate:this.annotationCreationDelegate,frameMessenger:P.frameMessenger,isAnnotationCreationEnabled:F,isAnnotationHighlightEnabled:P.isAnnotationHighlightEnabled,isAnnotationRegionEnabled:P.isAnnotationRegionEnabled,disableTinyAnnotationRegions:this.props.comments2AnnotationsEnabled,isFocusedPage:this.props.isFocusedPage})));var C=s.default.createElement("div",{className:"c-loader"}),T={width:this.props.pageData.dimension[0]*this.props.clientScaleFactor,height:this.props.pageData.dimension[1]*this.props.clientScaleFactor},x=F&&P&&P.isAnnotationRegionEnabled,N=r.default("page",{"comments2-annotation-enabled":this.props.comments2AnnotationsEnabled,"comments2-annotation-regions-enabled":x});return s.default.createElement("div",{id:m,className:N,ref:this.onPageRef,"data-page-number":p,style:T,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onMouseEnter:this.onMouseEnter},C,d,l,b,e,n,s.default.createElement(o.GatedEsignatureLayer,{pageNumber:this.props.pageData.pageIndex,width:this.props.pageData.dimension[0],height:this.props.pageData.dimension[1],scaleFactor:this.props.clientScaleFactor,offset:this.state.offset}),this.props.isSigningMode?s.default.createElement(a.EsignaturePrototypeFieldViewLayer,{fields:this.props.fields,width:this.props.pageData.dimension[0],height:this.props.pageData.dimension[1],scaleFactor:this.props.clientScaleFactor,signatureImage:this.props.signatureImage,createSignature:this.props.createSignature,signField:this.props.signField,enterFieldText:this.props.enterFieldText,selectFieldDate:this.props.selectFieldDate,focusField:this.props.focusField,focusedFieldId:this.props.focusedFieldId,isMounted:this.props.isMounted}):null,this.props.isSendForSignatureMode?s.default.createElement(i.EsignaturePrototypeFieldCreationLayer,{nextFieldId:this.props.nextFieldId,fields:this.props.fields,width:this.props.pageData.dimension[0],height:this.props.pageData.dimension[1],scaleFactor:this.props.clientScaleFactor,offset:this.state.offset,pageNumber:this.props.pageData.pageIndex,isFieldCreationMode:this.props.isFieldCreationMode,fieldCreationType:this.props.fieldCreationType,isCreatingFieldForRecipient:this.props.isCreatingFieldForRecipient,exitFieldCreationMode:this.props.exitFieldCreationMode,createField:this.props.createField,updateField:this.props.updateField,cancelField:this.props.cancelField}):null,F&&this.props.comments2AnnotationsEnabled&&s.default.createElement(t.Comments2AnnotationOverlay,{actAsAbsoluteContainer:!1,containerEl:this.pageEl,pageIndex:this.props.pageData.pageIndex,isAnnotationRegionEnabled:x,renderAsEmpty:!1}))},d})(s.default.PureComponent);t.Page=F}),define("modules/clean/react/previews/pdf_viewer/password_modal",["require","exports","tslib","external/classnames","react","modules/clean/react/input","spectrum/modal","modules/core/i18n"],function(e,t,n,o,i,a,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importDefault(o),i=n.__importDefault(i),a=n.__importStar(a);var l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={password:""},t.onChange=function(e){t.setState({password:e.target.value})},t.onClickSubmit=function(){t.props.onSubmit(t.state.password)},t.onFormSubmit=function(e){e.preventDefault(),t.onClickSubmit()},t}return n.__extends(t,e),t.prototype.componentDidMount=function(){"function"==typeof this.props.onComponentDidMount&&this.props.onComponentDidMount()},t.prototype.getMessage=function(){return this.props.enteredWrongPassword?s._("The password you entered is incorrect, please try again."):s._("Enter the password to open this file.")},t.prototype.render=function(){var e=this.props,t=e.enteredWrongPassword,n=e.onDismiss,l=this.state.password,d=o.default("db-modal-message",{"wrong-password":t});return i.default.createElement(r.UtilityModal,{ariaLabel:"password-modal",className:"password-modal",title:s._("This file is password protected"),primaryAction:s._("Submit"),secondaryAction:s._("Cancel"),onPrimaryAction:this.onClickSubmit,onSecondaryAction:n,open:!0,overlayClassName:"file-viewer-modal-overlay"},i.default.createElement("form",{method:"post",onSubmit:this.onFormSubmit},i.default.createElement("div",{className:d},this.getMessage(),i.default.createElement(a.password,{value:l,placeholder:s._("Password"),onChange:this.onChange}),i.default.createElement("input",{type:"submit",style:{display:"none"}}))))},t.defaultProps={enteredWrongPassword:!1},t})(i.default.PureComponent);t.PasswordModal=l}),define("modules/clean/react/previews/pdf_viewer/sidebar",["require","exports","tslib","react","external/react-dom","external/classnames","spectrum/culled_list","modules/core/i18n","modules/clean/react/previews/pdf_viewer/utils","spectrum_signatures_prototype/field_marker"],function(e,t,n,o,i,a,r,s,l,d){"use strict";function c(e){return e.map(function(e){return p(e.dimension)+2*t.SIDEBAR_THUMBNAIL_BORDER+t.SIDEBAR_PAGE_NUMBER_FONT_HEIGHT+t.SIDEBAR_PAGE_NUMBER_MARGIN_BOTTOM})}function p(e){return l.scaleDimension(e,{maxWidth:t.SIDEBAR_THUMBNAIL_WIDTH})[1]}function u(e,t,n){var o=e.scrollTop,i=e.clientHeight,a=o+i,r=t.slice(0,n).reduce(function(e,t){return e+t},0);(r<o||r+t[n]>a)&&(e.scrollTop=r)}function g(e){var n=e.page,i=e.isSelected,r=e.topOffset,c=e.onClick,p=e.numEsignatureFields,u=l.scaleDimension(n.dimension,{maxWidth:t.SIDEBAR_THUMBNAIL_WIDTH}),g=u[0],m=u[1],h=n.pageIndex,v=n.thumbnailUrl;return o.default.createElement("li",{className:a.default("sidebar__list-item","list-item",{"sidebar__list-item--selected":i}),style:{transform:"translateY("+r+"px)"}},o.default.createElement("a",{href:"#",onClick:c(h),tabIndex:-1},o.default.createElement(f,{style:{width:g+"px",height:m+"px"},className:"list-item__thumbnail",src:v,alt:s._("Page %(page_num)s").format({page_num:h+1}),role:"tab",loader:o.default.createElement("div",{className:"c-loader"})}),o.default.createElement("span",{className:"list-item__number"},h+1),p>0?o.default.createElement(d.FieldMarker,{displayNumber:p,style:{right:"20px",top:"-5px"}}):null))}Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importDefault(o),i=n.__importStar(i),a=n.__importDefault(a),t.SIDEBAR_WIDTH=184,t.SIDEBAR_THUMBNAIL_BORDER=4,t.SIDEBAR_PAGE_NUMBER_FONT_HEIGHT=16,t.SIDEBAR_PAGE_NUMBER_MARGIN_BOTTOM=16,t.SIDEBAR_THUMBNAIL_WIDTH=120;var f=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isLoaded:!1},t.onLoad=function(e){var n=t.props.onLoad;n&&n(e),t.setState({isLoaded:!0})},t.onError=function(e){var n=t.props.onError;n&&n(e),t.setState({isLoaded:!1})},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.loader,i=e.className,r=e.style,s=n.__rest(e,["loader","className","style"]);return o.default.createElement("div",{className:i,style:r},o.default.createElement("img",n.__assign({},s,{onLoad:this.onLoad,onError:this.onError,className:a.default({hidden:!this.state.isLoaded})})),this.state.isLoaded?null:t)},t})(o.default.PureComponent),m=(function(e){function t(t){var n=e.call(this,t)||this;return n.onClickItem=function(e){return function(t){n.props.onClick&&n.props.onClick(e)}},n.handleResize=function(){n.setState({height:n.container.getBoundingClientRect().height})},n.state={height:0,itemHeights:c(t.pages)},n}return n.__extends(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.handleResize),this.handleResize(),u(this.list,this.state.itemHeights,this.props.currentPageIndex),this.container.focus()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize)},t.prototype.componentWillReceiveProps=function(e){e.pages!==this.props.pages&&this.setState({itemHeights:c(e.pages)})},t.prototype.componentDidUpdate=function(e){var t=this.props.currentPageIndex;t!==e.currentPageIndex&&u(this.list,this.state.itemHeights,t)},t.prototype.render=function(){var e=this,t=this.props,n=t.className,s=t.currentPageIndex,l=t.getNumFieldsPerPage,d=t.isFocused,c=t.onBlur,p=t.onFocus,u=t.pages,f=this.state,m=f.height,h=f.itemHeights;return o.default.createElement("div",{className:a.default("sidebar",n,{"doc-preview-sidebar-focused":d}),ref:function(t){e.container=t},role:"tablist",tabIndex:0,onFocus:p,onBlur:c},o.default.createElement(r.CulledList,{className:"sidebar__list",items:u,listItemHeight:h,ref:function(t){e.list=i.findDOMNode(t)},renderRow:function(t,n,i){return o.default.createElement(g,{key:t.thumbnailUrl,page:t,isSelected:s===t.pageIndex,topOffset:i,onClick:e.onClickItem,numEsignatureFields:l?l(n):0})},shouldUseWindowAsScrollContainer:!1,viewportHeight:m,itemBuffer:5}))},t.defaultProps={currentPageIndex:0,pages:[]},t})(o.default.PureComponent);t.Sidebar=m}),define("modules/clean/react/previews/pdf_viewer/single_page",["require","exports","tslib","react","external/lodash","modules/core/browser_detection","modules/clean/react/previews/pdf_viewer/utils","modules/clean/react/previews/pdf_viewer/zoom","modules/clean/react/previews/pdf_viewer/page","modules/clean/react/previews/pdf_viewer/event_emitter"],function(e,t,n,o,i,a,r,s,l,d){"use strict";function c(){return!a.is_mobile_or_tablet()}Object.defineProperty(t,"__esModule",{
value:!0}),o=n.__importDefault(o),i=n.__importStar(i);t.deviceSupported=c;var p=(function(e){function t(t){var n=e.call(this,t)||this;return n.pageContainerRef=function(e){return n.pageContainerDOM=e},n.zoomIn=function(){if(!n.props.isFullscreen){var e=Math.min(1.1*n.state.clientScaleFactor,10);n.setState({clientScaleFactor:e})}},n.zoomOut=function(){if(!n.props.isFullscreen){var e=Math.max(n.state.clientScaleFactor/1.1,.1);n.setState({clientScaleFactor:e})}},n.pageDown=function(){n.props.onPageNumberUpdated(n.props.currentPageIndex+1,function(){})},n.pageUp=function(){n.props.onPageNumberUpdated(n.props.currentPageIndex-1,function(){})},n.debouncedPageDown=i.debounce(n.pageDown,40,{leading:!0,trailing:!1}),n.debouncedPageUp=i.debounce(n.pageUp,40,{leading:!0,trailing:!1}),n.handleWheel=function(e){var t=n.fitClientScaleFactor;n.state.clientScaleFactor.toFixed(2)<=t.toFixed(2)&&(e.deltaY>0?n.debouncedPageDown():e.deltaY<0&&n.debouncedPageUp())},n.state={clientScaleFactor:n.fitClientScaleFactor,fittingMode:s.FittingMode.FIT_PAGE},n}return n.__extends(t,e),Object.defineProperty(t.prototype,"fitClientScaleFactor",{get:function(){return s.computeClientScaleFactor(s.FittingMode.FIT_PAGE,this.props.metadata.dimensions,this.props.height,this.props.width-32)},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e,t){if(e.height!==this.props.height||e.width!==this.props.width){var n=s.computeClientScaleFactor(this.state.fittingMode,this.props.metadata.dimensions,this.props.height,this.props.width-32);this.setState({clientScaleFactor:n})}},t.prototype.componentDidMount=function(){d.eventEmitter.on("zoom-in",this.zoomIn),d.eventEmitter.on("zoom-out",this.zoomOut)},t.prototype.componentWillUnmount=function(){d.eventEmitter.off("zoom-in",this.zoomIn),d.eventEmitter.off("zoom-out",this.zoomOut)},t.prototype.render=function(){var e=this.props,t=e.annotationProps,n=e.comments2AnnotationsEnabled,i=e.currentPageIndex,a=e.useCanned,s=e.imageUrlTmpl,d=e.pages,c=e.onPageRenderComplete,p=e.onPageImageLoad,u=this.props.pages[i].dimension,g=r.getTotalSize([u],this.state.clientScaleFactor,16)[1],f={height:g,margin:"auto"},m={top:0};return o.default.createElement("div",{className:"viewer-container__sizer single-page",ref:this.pageContainerRef,onWheel:this.handleWheel},o.default.createElement("div",{style:f},o.default.createElement("div",{className:"page-container-inner",style:m},o.default.createElement(l.Page,{fields:[],key:i,pageData:d[i],imageUrlTmpl:s,isFocusedPage:!0,useCanned:a,clientScaleFactor:this.state.clientScaleFactor,onRenderComplete:c,onImageLoad:p,loadImageOnly:!1,annotationProps:r.annotationsAtPage(t,i),onImageError:this.props.onImageError,comments2AnnotationsEnabled:n,onImageLayerMounted:this.props.onImageLayerMounted}))))},t})(o.default.PureComponent);t.SinglePage=p}),define("modules/clean/react/previews/pdf_viewer/text/bidi",["require","exports"],function(e,t){"use strict";function n(e){return 0!==(1&e)}function o(e){return 0===(1&e)}function i(e,t,n){for(var o=t,i=e.length;o<i;++o)if(e[o]!==n)return o;return o}function a(e,t,n,o){for(var i=t;i<n;++i)e[i]=o}function r(e,t,n){for(var o=t,i=n-1;o<i;++o,--i){var a=e[o];e[o]=e[i],e[i]=a}}function s(e,t,n){return{str:e,dir:n?"ttb":t?"ltr":"rtl"}}function l(e,t,l){var g=!0,f=e.length;if(0===f||l)return s(e,g,l);p.length=f,u.length=f;var m,h,v=0;for(m=0;m<f;++m){p[m]=e.charAt(m);var _=e.charCodeAt(m),b="L";_<=255?b=d[_]:1424<=_&&_<=1524?b="R":1536<=_&&_<=1791?b=c[255&_]:1792<=_&&_<=2220&&(b="AL"),"R"!==b&&"AL"!==b&&"AN"!==b||v++,u[m]=b}if(0===v)return g=!0,s(e,g);t===-1&&(v/f<.3?(g=!0,t=0):(g=!1,t=1));var E=[];for(m=0;m<f;++m)E[m]=t;var w=n(t)?"R":"L",P=w,y=P,A=P;for(m=0;m<f;++m)"NSM"===u[m]?u[m]=A:A=u[m];A=P;var M;for(m=0;m<f;++m)M=u[m],"EN"===M?u[m]="AL"===A?"AN":"EN":"R"!==M&&"L"!==M&&"AL"!==M||(A=M);for(m=0;m<f;++m)M=u[m],"AL"===M&&(u[m]="R");for(m=1;m<f-1;++m)"ES"===u[m]&&"EN"===u[m-1]&&"EN"===u[m+1]&&(u[m]="EN"),"CS"!==u[m]||"EN"!==u[m-1]&&"AN"!==u[m-1]||u[m+1]!==u[m-1]||(u[m]=u[m-1]);for(m=0;m<f;++m)if("EN"===u[m]){var L;for(L=m-1;L>=0&&"ET"===u[L];--L)u[L]="EN";for(L=m+1;L<f&&"ET"===u[L];++L)u[L]="EN"}for(m=0;m<f;++m)M=u[m],"WS"!==M&&"ES"!==M&&"ET"!==M&&"CS"!==M||(u[m]="ON");for(A=P,m=0;m<f;++m)M=u[m],"EN"===M?u[m]="L"===A?"L":"EN":"R"!==M&&"L"!==M||(A=M);for(m=0;m<f;++m)if("ON"===u[m]){var S=i(u,m+1,"ON"),F=P;m>0&&(F=u[m-1]);var C=y;S+1<f&&(C=u[S+1]),"L"!==F&&(F="R"),"L"!==C&&(C="R"),F===C&&a(u,m,S,F),m=S-1}for(m=0;m<f;++m)"ON"===u[m]&&(u[m]=w);for(m=0;m<f;++m)M=u[m],o(E[m])?"R"===M?E[m]+=1:"AN"!==M&&"EN"!==M||(E[m]+=2):"L"!==M&&"AN"!==M&&"EN"!==M||(E[m]+=1);var T,x=-1,N=99;for(m=0,h=E.length;m<h;++m)T=E[m],x<T&&(x=T),N>T&&n(T)&&(N=T);for(T=x;T>=N;--T){var I=-1;for(m=0,h=E.length;m<h;++m)E[m]<T?I>=0&&(r(p,I,m),I=-1):I<0&&(I=m);I>=0&&r(p,I,E.length)}for(m=0,h=p.length;m<h;++m){var D=p[m];"<"!==D&&">"!==D||(p[m]="")}return s(p.join(""),g)}Object.defineProperty(t,"__esModule",{value:!0});var d=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],c=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"],p=[],u=[];t.bidi=l}),define("modules/clean/react/previews/pdf_viewer/text/unicode",["require","exports"],function(e,t){"use strict";function n(e){var t;return function(){return e&&(t=Object.create(null),e(t),e=null),t}}function o(e){var t=a[13];return e>=t.begin&&e<t.end||(t=a[11],e>=t.begin&&e<t.end)}function i(e){var t=e.length;if(t<=1||!o(e.charCodeAt(0)))return e;for(var n="",i=t-1;i>=0;i--)n+=e[i];return n}Object.defineProperty(t,"__esModule",{value:!0});var a=(n(function(e){e[63721]=169,e[63193]=169,e[63720]=174,e[63194]=174,e[63722]=8482,e[63195]=8482,e[63729]=9127,e[63730]=9128,e[63731]=9129,e[63740]=9131,e[63741]=9132,e[63742]=9133,e[63726]=9121,e[63727]=9122,e[63728]=9123,e[63737]=9124,e[63738]=9125,e[63739]=9126,e[63723]=9115,e[63724]=9116,e[63725]=9117,e[63734]=9118,e[63735]=9119,e[63736]=9120}),[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}]);t.getNormalizedUnicodes=n(function(e){e["¨"]=" ̈",e["¯"]=" ̄",e["´"]=" ́",e["µ"]="μ",e["¸"]=" ̧",e["Ĳ"]="IJ",e["ĳ"]="ij",e["Ŀ"]="L·",e["ŀ"]="l·",e["ŉ"]="ʼn",e["ſ"]="s",e["Ǆ"]="DŽ",e["ǅ"]="Dž",e["ǆ"]="dž",e["Ǉ"]="LJ",e["ǈ"]="Lj",e["ǉ"]="lj",e["Ǌ"]="NJ",e["ǋ"]="Nj",e["ǌ"]="nj",e["Ǳ"]="DZ",e["ǲ"]="Dz",e["ǳ"]="dz",e["˘"]=" ̆",e["˙"]=" ̇",e["˚"]=" ̊",e["˛"]=" ̨",e["˜"]=" ̃",e["˝"]=" ̋",e["ͺ"]=" ͅ",e["΄"]=" ́",e["ϐ"]="β",e["ϑ"]="θ",e["ϒ"]="Υ",e["ϕ"]="φ",e["ϖ"]="π",e["ϰ"]="κ",e["ϱ"]="ρ",e["ϲ"]="ς",e["ϴ"]="Θ",e["ϵ"]="ε",e["Ϲ"]="Σ",e["և"]="եւ",e["ٵ"]="اٴ",e["ٶ"]="وٴ",e["ٷ"]="ۇٴ",e["ٸ"]="يٴ",e["ำ"]="ํา",e["ຳ"]="ໍາ",e["ໜ"]="ຫນ",e["ໝ"]="ຫມ",e["ཷ"]="ྲཱྀ",e["ཹ"]="ླཱྀ",e["ẚ"]="aʾ",e["᾽"]=" ̓",e["᾿"]=" ̓",e["῀"]=" ͂",e["῾"]=" ̔",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e[" "]=" ",e["‗"]=" ̳",e["․"]=".",e["‥"]="..",e["…"]="...",e["″"]="′′",e["‴"]="′′′",e["‶"]="‵‵",e["‷"]="‵‵‵",e["‼"]="!!",e["‾"]=" ̅",e["⁇"]="??",e["⁈"]="?!",e["⁉"]="!?",e["⁗"]="′′′′",e[" "]=" ",e["₨"]="Rs",e["℀"]="a/c",e["℁"]="a/s",e["℃"]="°C",e["℅"]="c/o",e["℆"]="c/u",e["ℇ"]="Ɛ",e["℉"]="°F",e["№"]="No",e["℡"]="TEL",e["ℵ"]="א",e["ℶ"]="ב",e["ℷ"]="ג",e["ℸ"]="ד",e["℻"]="FAX",e["Ⅰ"]="I",e["Ⅱ"]="II",e["Ⅲ"]="III",e["Ⅳ"]="IV",e["Ⅴ"]="V",e["Ⅵ"]="VI",e["Ⅶ"]="VII",e["Ⅷ"]="VIII",e["Ⅸ"]="IX",e["Ⅹ"]="X",e["Ⅺ"]="XI",e["Ⅻ"]="XII",e["Ⅼ"]="L",e["Ⅽ"]="C",e["Ⅾ"]="D",e["Ⅿ"]="M",e["ⅰ"]="i",e["ⅱ"]="ii",e["ⅲ"]="iii",e["ⅳ"]="iv",e["ⅴ"]="v",e["ⅵ"]="vi",e["ⅶ"]="vii",e["ⅷ"]="viii",e["ⅸ"]="ix",e["ⅹ"]="x",e["ⅺ"]="xi",e["ⅻ"]="xii",e["ⅼ"]="l",e["ⅽ"]="c",e["ⅾ"]="d",e["ⅿ"]="m",e["∬"]="∫∫",e["∭"]="∫∫∫",e["∯"]="∮∮",e["∰"]="∮∮∮",e["⑴"]="(1)",e["⑵"]="(2)",e["⑶"]="(3)",e["⑷"]="(4)",e["⑸"]="(5)",e["⑹"]="(6)",e["⑺"]="(7)",e["⑻"]="(8)",e["⑼"]="(9)",e["⑽"]="(10)",e["⑾"]="(11)",e["⑿"]="(12)",e["⒀"]="(13)",e["⒁"]="(14)",e["⒂"]="(15)",e["⒃"]="(16)",e["⒄"]="(17)",e["⒅"]="(18)",e["⒆"]="(19)",e["⒇"]="(20)",e["⒈"]="1.",e["⒉"]="2.",e["⒊"]="3.",e["⒋"]="4.",e["⒌"]="5.",e["⒍"]="6.",e["⒎"]="7.",e["⒏"]="8.",e["⒐"]="9.",e["⒑"]="10.",e["⒒"]="11.",e["⒓"]="12.",e["⒔"]="13.",e["⒕"]="14.",e["⒖"]="15.",e["⒗"]="16.",e["⒘"]="17.",e["⒙"]="18.",e["⒚"]="19.",e["⒛"]="20.",e["⒜"]="(a)",e["⒝"]="(b)",e["⒞"]="(c)",e["⒟"]="(d)",e["⒠"]="(e)",e["⒡"]="(f)",e["⒢"]="(g)",e["⒣"]="(h)",e["⒤"]="(i)",e["⒥"]="(j)",e["⒦"]="(k)",e["⒧"]="(l)",e["⒨"]="(m)",e["⒩"]="(n)",e["⒪"]="(o)",e["⒫"]="(p)",e["⒬"]="(q)",e["⒭"]="(r)",e["⒮"]="(s)",e["⒯"]="(t)",e["⒰"]="(u)",e["⒱"]="(v)",e["⒲"]="(w)",e["⒳"]="(x)",e["⒴"]="(y)",e["⒵"]="(z)",e["⨌"]="∫∫∫∫",e["⩴"]="::=";e["⩵"]="==",e["⩶"]="===",e["⺟"]="母",e["⻳"]="龟",e["⼀"]="一",e["⼁"]="丨",e["⼂"]="丶",e["⼃"]="丿",e["⼄"]="乙",e["⼅"]="亅",e["⼆"]="二",e["⼇"]="亠",e["⼈"]="人",e["⼉"]="儿",e["⼊"]="入",e["⼋"]="八",e["⼌"]="冂",e["⼍"]="冖",e["⼎"]="冫",e["⼏"]="几",e["⼐"]="凵",e["⼑"]="刀",e["⼒"]="力",e["⼓"]="勹",e["⼔"]="匕",e["⼕"]="匚",e["⼖"]="匸",e["⼗"]="十",e["⼘"]="卜",e["⼙"]="卩",e["⼚"]="厂",e["⼛"]="厶",e["⼜"]="又",e["⼝"]="口",e["⼞"]="囗",e["⼟"]="土",e["⼠"]="士",e["⼡"]="夂",e["⼢"]="夊",e["⼣"]="夕",e["⼤"]="大",e["⼥"]="女",e["⼦"]="子",e["⼧"]="宀",e["⼨"]="寸",e["⼩"]="小",e["⼪"]="尢",e["⼫"]="尸",e["⼬"]="屮",e["⼭"]="山",e["⼮"]="巛",e["⼯"]="工",e["⼰"]="己",e["⼱"]="巾",e["⼲"]="干",e["⼳"]="幺",e["⼴"]="广",e["⼵"]="廴",e["⼶"]="廾",e["⼷"]="弋",e["⼸"]="弓",e["⼹"]="彐",e["⼺"]="彡",e["⼻"]="彳",e["⼼"]="心",e["⼽"]="戈",e["⼾"]="戶",e["⼿"]="手",e["⽀"]="支",e["⽁"]="攴",e["⽂"]="文",e["⽃"]="斗",e["⽄"]="斤",e["⽅"]="方",e["⽆"]="无",e["⽇"]="日",e["⽈"]="曰",e["⽉"]="月",e["⽊"]="木",e["⽋"]="欠",e["⽌"]="止",e["⽍"]="歹",e["⽎"]="殳",e["⽏"]="毋",e["⽐"]="比",e["⽑"]="毛",e["⽒"]="氏",e["⽓"]="气",e["⽔"]="水",e["⽕"]="火",e["⽖"]="爪",e["⽗"]="父",e["⽘"]="爻",e["⽙"]="爿",e["⽚"]="片",e["⽛"]="牙",e["⽜"]="牛",e["⽝"]="犬",e["⽞"]="玄",e["⽟"]="玉",e["⽠"]="瓜",e["⽡"]="瓦",e["⽢"]="甘",e["⽣"]="生",e["⽤"]="用",e["⽥"]="田",e["⽦"]="疋",e["⽧"]="疒",e["⽨"]="癶",e["⽩"]="白",e["⽪"]="皮",e["⽫"]="皿",e["⽬"]="目",e["⽭"]="矛",e["⽮"]="矢",e["⽯"]="石",e["⽰"]="示",e["⽱"]="禸",e["⽲"]="禾",e["⽳"]="穴",e["⽴"]="立",e["⽵"]="竹",e["⽶"]="米",e["⽷"]="糸",e["⽸"]="缶",e["⽹"]="网",e["⽺"]="羊",e["⽻"]="羽",e["⽼"]="老",e["⽽"]="而",e["⽾"]="耒",e["⽿"]="耳",e["⾀"]="聿",e["⾁"]="肉",e["⾂"]="臣",e["⾃"]="自",e["⾄"]="至",e["⾅"]="臼",e["⾆"]="舌",e["⾇"]="舛",e["⾈"]="舟",e["⾉"]="艮",e["⾊"]="色",e["⾋"]="艸",e["⾌"]="虍",e["⾍"]="虫",e["⾎"]="血",e["⾏"]="行",e["⾐"]="衣",e["⾑"]="襾",e["⾒"]="見",e["⾓"]="角",e["⾔"]="言",e["⾕"]="谷",e["⾖"]="豆",e["⾗"]="豕",e["⾘"]="豸",e["⾙"]="貝",e["⾚"]="赤",e["⾛"]="走",e["⾜"]="足",e["⾝"]="身",e["⾞"]="車",e["⾟"]="辛",e["⾠"]="辰",e["⾡"]="辵",e["⾢"]="邑",e["⾣"]="酉",e["⾤"]="釆",e["⾥"]="里",e["⾦"]="金",e["⾧"]="長",e["⾨"]="門",e["⾩"]="阜",e["⾪"]="隶",e["⾫"]="隹",e["⾬"]="雨",e["⾭"]="靑",e["⾮"]="非",e["⾯"]="面",e["⾰"]="革",e["⾱"]="韋",e["⾲"]="韭",e["⾳"]="音",e["⾴"]="頁",e["⾵"]="風",e["⾶"]="飛",e["⾷"]="食",e["⾸"]="首",e["⾹"]="香",e["⾺"]="馬",e["⾻"]="骨",e["⾼"]="高",e["⾽"]="髟",e["⾾"]="鬥",e["⾿"]="鬯",e["⿀"]="鬲",e["⿁"]="鬼",e["⿂"]="魚",e["⿃"]="鳥";e["⿄"]="鹵",e["⿅"]="鹿",e["⿆"]="麥",e["⿇"]="麻",e["⿈"]="黃",e["⿉"]="黍",e["⿊"]="黑",e["⿋"]="黹",e["⿌"]="黽",e["⿍"]="鼎",e["⿎"]="鼓",e["⿏"]="鼠",e["⿐"]="鼻",e["⿑"]="齊",e["⿒"]="齒",e["⿓"]="龍",e["⿔"]="龜",e["⿕"]="龠",e["〶"]="〒",e["〸"]="十",e["〹"]="卄",e["〺"]="卅",e["゛"]=" ゙",e["゜"]=" ゚",e["ㄱ"]="ᄀ",e["ㄲ"]="ᄁ",e["ㄳ"]="ᆪ",e["ㄴ"]="ᄂ",e["ㄵ"]="ᆬ",e["ㄶ"]="ᆭ",e["ㄷ"]="ᄃ",e["ㄸ"]="ᄄ",e["ㄹ"]="ᄅ",e["ㄺ"]="ᆰ",e["ㄻ"]="ᆱ",e["ㄼ"]="ᆲ",e["ㄽ"]="ᆳ",e["ㄾ"]="ᆴ",e["ㄿ"]="ᆵ",e["ㅀ"]="ᄚ",e["ㅁ"]="ᄆ",e["ㅂ"]="ᄇ",e["ㅃ"]="ᄈ",e["ㅄ"]="ᄡ",e["ㅅ"]="ᄉ",e["ㅆ"]="ᄊ",e["ㅇ"]="ᄋ",e["ㅈ"]="ᄌ",e["ㅉ"]="ᄍ",e["ㅊ"]="ᄎ",e["ㅋ"]="ᄏ",e["ㅌ"]="ᄐ",e["ㅍ"]="ᄑ",e["ㅎ"]="ᄒ",e["ㅏ"]="ᅡ",e["ㅐ"]="ᅢ",e["ㅑ"]="ᅣ",e["ㅒ"]="ᅤ",e["ㅓ"]="ᅥ",e["ㅔ"]="ᅦ",e["ㅕ"]="ᅧ",e["ㅖ"]="ᅨ",e["ㅗ"]="ᅩ",e["ㅘ"]="ᅪ",e["ㅙ"]="ᅫ",e["ㅚ"]="ᅬ",e["ㅛ"]="ᅭ",e["ㅜ"]="ᅮ",e["ㅝ"]="ᅯ",e["ㅞ"]="ᅰ",e["ㅟ"]="ᅱ",e["ㅠ"]="ᅲ",e["ㅡ"]="ᅳ",e["ㅢ"]="ᅴ",e["ㅣ"]="ᅵ",e["ㅤ"]="ᅠ",e["ㅥ"]="ᄔ",e["ㅦ"]="ᄕ",e["ㅧ"]="ᇇ",e["ㅨ"]="ᇈ",e["ㅩ"]="ᇌ",e["ㅪ"]="ᇎ",e["ㅫ"]="ᇓ",e["ㅬ"]="ᇗ",e["ㅭ"]="ᇙ",e["ㅮ"]="ᄜ",e["ㅯ"]="ᇝ",e["ㅰ"]="ᇟ",e["ㅱ"]="ᄝ",e["ㅲ"]="ᄞ",e["ㅳ"]="ᄠ",e["ㅴ"]="ᄢ",e["ㅵ"]="ᄣ",e["ㅶ"]="ᄧ",e["ㅷ"]="ᄩ",e["ㅸ"]="ᄫ",e["ㅹ"]="ᄬ",e["ㅺ"]="ᄭ",e["ㅻ"]="ᄮ",e["ㅼ"]="ᄯ",e["ㅽ"]="ᄲ",e["ㅾ"]="ᄶ",e["ㅿ"]="ᅀ",e["ㆀ"]="ᅇ",e["ㆁ"]="ᅌ",e["ㆂ"]="ᇱ",e["ㆃ"]="ᇲ",e["ㆄ"]="ᅗ",e["ㆅ"]="ᅘ",e["ㆆ"]="ᅙ",e["ㆇ"]="ᆄ",e["ㆈ"]="ᆅ",e["ㆉ"]="ᆈ",e["ㆊ"]="ᆑ",e["ㆋ"]="ᆒ",e["ㆌ"]="ᆔ",e["ㆍ"]="ᆞ",e["ㆎ"]="ᆡ",e["㈀"]="(ᄀ)",e["㈁"]="(ᄂ)",e["㈂"]="(ᄃ)",e["㈃"]="(ᄅ)",e["㈄"]="(ᄆ)",e["㈅"]="(ᄇ)",e["㈆"]="(ᄉ)",e["㈇"]="(ᄋ)",e["㈈"]="(ᄌ)",e["㈉"]="(ᄎ)",e["㈊"]="(ᄏ)",e["㈋"]="(ᄐ)",e["㈌"]="(ᄑ)",e["㈍"]="(ᄒ)",e["㈎"]="(가)",e["㈏"]="(나)",e["㈐"]="(다)",e["㈑"]="(라)",e["㈒"]="(마)",e["㈓"]="(바)",e["㈔"]="(사)",e["㈕"]="(아)",e["㈖"]="(자)",e["㈗"]="(차)",e["㈘"]="(카)",e["㈙"]="(타)",e["㈚"]="(파)",e["㈛"]="(하)",e["㈜"]="(주)",e["㈝"]="(오전)",e["㈞"]="(오후)",e["㈠"]="(一)",e["㈡"]="(二)",e["㈢"]="(三)",e["㈣"]="(四)",e["㈤"]="(五)",e["㈥"]="(六)",e["㈦"]="(七)",e["㈧"]="(八)",e["㈨"]="(九)",e["㈩"]="(十)",e["㈪"]="(月)",e["㈫"]="(火)",e["㈬"]="(水)",e["㈭"]="(木)",e["㈮"]="(金)",e["㈯"]="(土)",e["㈰"]="(日)",e["㈱"]="(株)",e["㈲"]="(有)",e["㈳"]="(社)",e["㈴"]="(名)",e["㈵"]="(特)",e["㈶"]="(財)",e["㈷"]="(祝)",e["㈸"]="(労)",e["㈹"]="(代)",e["㈺"]="(呼)",e["㈻"]="(学)",e["㈼"]="(監)",e["㈽"]="(企)",e["㈾"]="(資)",e["㈿"]="(協)",e["㉀"]="(祭)",e["㉁"]="(休)",e["㉂"]="(自)",e["㉃"]="(至)",e["㋀"]="1月",e["㋁"]="2月",e["㋂"]="3月",e["㋃"]="4月",e["㋄"]="5月",e["㋅"]="6月",e["㋆"]="7月",e["㋇"]="8月",e["㋈"]="9月",e["㋉"]="10月",e["㋊"]="11月",e["㋋"]="12月",e["㍘"]="0点",e["㍙"]="1点",e["㍚"]="2点";e["㍛"]="3点",e["㍜"]="4点",e["㍝"]="5点",e["㍞"]="6点",e["㍟"]="7点",e["㍠"]="8点",e["㍡"]="9点",e["㍢"]="10点",e["㍣"]="11点",e["㍤"]="12点",e["㍥"]="13点",e["㍦"]="14点",e["㍧"]="15点",e["㍨"]="16点",e["㍩"]="17点",e["㍪"]="18点",e["㍫"]="19点",e["㍬"]="20点",e["㍭"]="21点",e["㍮"]="22点",e["㍯"]="23点",e["㍰"]="24点",e["㏠"]="1日",e["㏡"]="2日",e["㏢"]="3日",e["㏣"]="4日",e["㏤"]="5日",e["㏥"]="6日",e["㏦"]="7日",e["㏧"]="8日",e["㏨"]="9日",e["㏩"]="10日",e["㏪"]="11日",e["㏫"]="12日",e["㏬"]="13日",e["㏭"]="14日",e["㏮"]="15日",e["㏯"]="16日",e["㏰"]="17日",e["㏱"]="18日",e["㏲"]="19日",e["㏳"]="20日",e["㏴"]="21日",e["㏵"]="22日",e["㏶"]="23日",e["㏷"]="24日",e["㏸"]="25日",e["㏹"]="26日",e["㏺"]="27日",e["㏻"]="28日",e["㏼"]="29日",e["㏽"]="30日",e["㏾"]="31日",e["ﬀ"]="ff",e["ﬁ"]="fi",e["ﬂ"]="fl",e["ﬃ"]="ffi",e["ﬄ"]="ffl",e["ﬅ"]="ſt",e["ﬆ"]="st",e["ﬓ"]="մն",e["ﬔ"]="մե",e["ﬕ"]="մի",e["ﬖ"]="վն",e["ﬗ"]="մխ",e["ﭏ"]="אל",e["ﭐ"]="ٱ",e["ﭑ"]="ٱ",e["ﭒ"]="ٻ",e["ﭓ"]="ٻ",e["ﭔ"]="ٻ",e["ﭕ"]="ٻ",e["ﭖ"]="پ",e["ﭗ"]="پ",e["ﭘ"]="پ",e["ﭙ"]="پ",e["ﭚ"]="ڀ",e["ﭛ"]="ڀ",e["ﭜ"]="ڀ",e["ﭝ"]="ڀ",e["ﭞ"]="ٺ",e["ﭟ"]="ٺ",e["ﭠ"]="ٺ",e["ﭡ"]="ٺ",e["ﭢ"]="ٿ",e["ﭣ"]="ٿ",e["ﭤ"]="ٿ",e["ﭥ"]="ٿ",e["ﭦ"]="ٹ",e["ﭧ"]="ٹ",e["ﭨ"]="ٹ",e["ﭩ"]="ٹ",e["ﭪ"]="ڤ",e["ﭫ"]="ڤ",e["ﭬ"]="ڤ",e["ﭭ"]="ڤ",e["ﭮ"]="ڦ",e["ﭯ"]="ڦ",e["ﭰ"]="ڦ",e["ﭱ"]="ڦ",e["ﭲ"]="ڄ",e["ﭳ"]="ڄ",e["ﭴ"]="ڄ",e["ﭵ"]="ڄ",e["ﭶ"]="ڃ",e["ﭷ"]="ڃ",e["ﭸ"]="ڃ",e["ﭹ"]="ڃ",e["ﭺ"]="چ",e["ﭻ"]="چ",e["ﭼ"]="چ",e["ﭽ"]="چ",e["ﭾ"]="ڇ",e["ﭿ"]="ڇ",e["ﮀ"]="ڇ",e["ﮁ"]="ڇ",e["ﮂ"]="ڍ",e["ﮃ"]="ڍ",e["ﮄ"]="ڌ",e["ﮅ"]="ڌ",e["ﮆ"]="ڎ",e["ﮇ"]="ڎ",e["ﮈ"]="ڈ",e["ﮉ"]="ڈ",e["ﮊ"]="ژ",e["ﮋ"]="ژ",e["ﮌ"]="ڑ",e["ﮍ"]="ڑ",e["ﮎ"]="ک",e["ﮏ"]="ک",e["ﮐ"]="ک",e["ﮑ"]="ک",e["ﮒ"]="گ",e["ﮓ"]="گ",e["ﮔ"]="گ",e["ﮕ"]="گ",e["ﮖ"]="ڳ",e["ﮗ"]="ڳ",e["ﮘ"]="ڳ",e["ﮙ"]="ڳ",e["ﮚ"]="ڱ",e["ﮛ"]="ڱ",e["ﮜ"]="ڱ",e["ﮝ"]="ڱ",e["ﮞ"]="ں",e["ﮟ"]="ں",e["ﮠ"]="ڻ",e["ﮡ"]="ڻ",e["ﮢ"]="ڻ",e["ﮣ"]="ڻ",e["ﮤ"]="ۀ",e["ﮥ"]="ۀ",e["ﮦ"]="ہ",e["ﮧ"]="ہ",e["ﮨ"]="ہ",e["ﮩ"]="ہ",e["ﮪ"]="ھ",e["ﮫ"]="ھ",e["ﮬ"]="ھ",e["ﮭ"]="ھ",e["ﮮ"]="ے",e["ﮯ"]="ے",e["ﮰ"]="ۓ",e["ﮱ"]="ۓ",e["ﯓ"]="ڭ",e["ﯔ"]="ڭ",e["ﯕ"]="ڭ",e["ﯖ"]="ڭ",e["ﯗ"]="ۇ",e["ﯘ"]="ۇ",e["ﯙ"]="ۆ",e["ﯚ"]="ۆ",e["ﯛ"]="ۈ",e["ﯜ"]="ۈ",e["ﯝ"]="ٷ",e["ﯞ"]="ۋ",e["ﯟ"]="ۋ",e["ﯠ"]="ۅ",e["ﯡ"]="ۅ",e["ﯢ"]="ۉ",e["ﯣ"]="ۉ",e["ﯤ"]="ې",e["ﯥ"]="ې",e["ﯦ"]="ې",e["ﯧ"]="ې",e["ﯨ"]="ى",e["ﯩ"]="ى",e["ﯪ"]="ئا",e["ﯫ"]="ئا",e["ﯬ"]="ئە",e["ﯭ"]="ئە",e["ﯮ"]="ئو",e["ﯯ"]="ئو",e["ﯰ"]="ئۇ",e["ﯱ"]="ئۇ",e["ﯲ"]="ئۆ",e["ﯳ"]="ئۆ",e["ﯴ"]="ئۈ",e["ﯵ"]="ئۈ",e["ﯶ"]="ئې";e["ﯷ"]="ئې",e["ﯸ"]="ئې",e["ﯹ"]="ئى",e["ﯺ"]="ئى",e["ﯻ"]="ئى",e["ﯼ"]="ی",e["ﯽ"]="ی",e["ﯾ"]="ی",e["ﯿ"]="ی",e["ﰀ"]="ئج",e["ﰁ"]="ئح",e["ﰂ"]="ئم",e["ﰃ"]="ئى",e["ﰄ"]="ئي",e["ﰅ"]="بج",e["ﰆ"]="بح",e["ﰇ"]="بخ",e["ﰈ"]="بم",e["ﰉ"]="بى",e["ﰊ"]="بي",e["ﰋ"]="تج",e["ﰌ"]="تح",e["ﰍ"]="تخ",e["ﰎ"]="تم",e["ﰏ"]="تى",e["ﰐ"]="تي",e["ﰑ"]="ثج",e["ﰒ"]="ثم",e["ﰓ"]="ثى",e["ﰔ"]="ثي",e["ﰕ"]="جح",e["ﰖ"]="جم",e["ﰗ"]="حج",e["ﰘ"]="حم",e["ﰙ"]="خج",e["ﰚ"]="خح",e["ﰛ"]="خم",e["ﰜ"]="سج",e["ﰝ"]="سح",e["ﰞ"]="سخ",e["ﰟ"]="سم",e["ﰠ"]="صح",e["ﰡ"]="صم",e["ﰢ"]="ضج",e["ﰣ"]="ضح",e["ﰤ"]="ضخ",e["ﰥ"]="ضم",e["ﰦ"]="طح",e["ﰧ"]="طم",e["ﰨ"]="ظم",e["ﰩ"]="عج",e["ﰪ"]="عم",e["ﰫ"]="غج",e["ﰬ"]="غم",e["ﰭ"]="فج",e["ﰮ"]="فح",e["ﰯ"]="فخ",e["ﰰ"]="فم",e["ﰱ"]="فى",e["ﰲ"]="في",e["ﰳ"]="قح",e["ﰴ"]="قم",e["ﰵ"]="قى",e["ﰶ"]="قي",e["ﰷ"]="كا",e["ﰸ"]="كج",e["ﰹ"]="كح",e["ﰺ"]="كخ",e["ﰻ"]="كل",e["ﰼ"]="كم",e["ﰽ"]="كى",e["ﰾ"]="كي",e["ﰿ"]="لج",e["ﱀ"]="لح",e["ﱁ"]="لخ",e["ﱂ"]="لم",e["ﱃ"]="لى",e["ﱄ"]="لي",e["ﱅ"]="مج",e["ﱆ"]="مح",e["ﱇ"]="مخ",e["ﱈ"]="مم",e["ﱉ"]="مى",e["ﱊ"]="مي",e["ﱋ"]="نج",e["ﱌ"]="نح",e["ﱍ"]="نخ",e["ﱎ"]="نم",e["ﱏ"]="نى",e["ﱐ"]="ني",e["ﱑ"]="هج",e["ﱒ"]="هم",e["ﱓ"]="هى",e["ﱔ"]="هي",e["ﱕ"]="يج",e["ﱖ"]="يح",e["ﱗ"]="يخ",e["ﱘ"]="يم",e["ﱙ"]="يى",e["ﱚ"]="يي",e["ﱛ"]="ذٰ",e["ﱜ"]="رٰ",e["ﱝ"]="ىٰ",e["ﱞ"]=" ٌّ",e["ﱟ"]=" ٍّ",e["ﱠ"]=" َّ",e["ﱡ"]=" ُّ",e["ﱢ"]=" ِّ",e["ﱣ"]=" ّٰ",e["ﱤ"]="ئر",e["ﱥ"]="ئز",e["ﱦ"]="ئم",e["ﱧ"]="ئن",e["ﱨ"]="ئى",e["ﱩ"]="ئي",e["ﱪ"]="بر",e["ﱫ"]="بز",e["ﱬ"]="بم",e["ﱭ"]="بن",e["ﱮ"]="بى",e["ﱯ"]="بي",e["ﱰ"]="تر",e["ﱱ"]="تز",e["ﱲ"]="تم",e["ﱳ"]="تن",e["ﱴ"]="تى",e["ﱵ"]="تي",e["ﱶ"]="ثر",e["ﱷ"]="ثز",e["ﱸ"]="ثم",e["ﱹ"]="ثن",e["ﱺ"]="ثى",e["ﱻ"]="ثي",e["ﱼ"]="فى",e["ﱽ"]="في",e["ﱾ"]="قى",e["ﱿ"]="قي",e["ﲀ"]="كا",e["ﲁ"]="كل",e["ﲂ"]="كم",e["ﲃ"]="كى",e["ﲄ"]="كي",e["ﲅ"]="لم",e["ﲆ"]="لى",e["ﲇ"]="لي",e["ﲈ"]="ما",e["ﲉ"]="مم",e["ﲊ"]="نر",e["ﲋ"]="نز",e["ﲌ"]="نم",e["ﲍ"]="نن",e["ﲎ"]="نى",e["ﲏ"]="ني",e["ﲐ"]="ىٰ",e["ﲑ"]="ير",e["ﲒ"]="يز",e["ﲓ"]="يم",e["ﲔ"]="ين",e["ﲕ"]="يى",e["ﲖ"]="يي",e["ﲗ"]="ئج",e["ﲘ"]="ئح",e["ﲙ"]="ئخ",e["ﲚ"]="ئم",e["ﲛ"]="ئه",e["ﲜ"]="بج",e["ﲝ"]="بح",e["ﲞ"]="بخ",e["ﲟ"]="بم",e["ﲠ"]="به",e["ﲡ"]="تج",e["ﲢ"]="تح",e["ﲣ"]="تخ",e["ﲤ"]="تم",e["ﲥ"]="ته",e["ﲦ"]="ثم",e["ﲧ"]="جح",e["ﲨ"]="جم",e["ﲩ"]="حج",e["ﲪ"]="حم",e["ﲫ"]="خج",e["ﲬ"]="خم",e["ﲭ"]="سج",e["ﲮ"]="سح",e["ﲯ"]="سخ",e["ﲰ"]="سم",e["ﲱ"]="صح",e["ﲲ"]="صخ",e["ﲳ"]="صم",e["ﲴ"]="ضج",e["ﲵ"]="ضح",e["ﲶ"]="ضخ",e["ﲷ"]="ضم",e["ﲸ"]="طح",e["ﲹ"]="ظم",e["ﲺ"]="عج",e["ﲻ"]="عم",e["ﲼ"]="غج",e["ﲽ"]="غم",e["ﲾ"]="فج";e["ﲿ"]="فح",e["ﳀ"]="فخ",e["ﳁ"]="فم",e["ﳂ"]="قح",e["ﳃ"]="قم",e["ﳄ"]="كج",e["ﳅ"]="كح",e["ﳆ"]="كخ",e["ﳇ"]="كل",e["ﳈ"]="كم",e["ﳉ"]="لج",e["ﳊ"]="لح",e["ﳋ"]="لخ",e["ﳌ"]="لم",e["ﳍ"]="له",e["ﳎ"]="مج",e["ﳏ"]="مح",e["ﳐ"]="مخ",e["ﳑ"]="مم",e["ﳒ"]="نج",e["ﳓ"]="نح",e["ﳔ"]="نخ",e["ﳕ"]="نم",e["ﳖ"]="نه",e["ﳗ"]="هج",e["ﳘ"]="هم",e["ﳙ"]="هٰ",e["ﳚ"]="يج",e["ﳛ"]="يح",e["ﳜ"]="يخ",e["ﳝ"]="يم",e["ﳞ"]="يه",e["ﳟ"]="ئم",e["ﳠ"]="ئه",e["ﳡ"]="بم",e["ﳢ"]="به",e["ﳣ"]="تم",e["ﳤ"]="ته",e["ﳥ"]="ثم",e["ﳦ"]="ثه",e["ﳧ"]="سم",e["ﳨ"]="سه",e["ﳩ"]="شم",e["ﳪ"]="شه",e["ﳫ"]="كل",e["ﳬ"]="كم",e["ﳭ"]="لم",e["ﳮ"]="نم",e["ﳯ"]="نه",e["ﳰ"]="يم",e["ﳱ"]="يه",e["ﳲ"]="ـَّ",e["ﳳ"]="ـُّ",e["ﳴ"]="ـِّ",e["ﳵ"]="طى",e["ﳶ"]="طي",e["ﳷ"]="عى",e["ﳸ"]="عي",e["ﳹ"]="غى",e["ﳺ"]="غي",e["ﳻ"]="سى",e["ﳼ"]="سي",e["ﳽ"]="شى",e["ﳾ"]="شي",e["ﳿ"]="حى",e["ﴀ"]="حي",e["ﴁ"]="جى",e["ﴂ"]="جي",e["ﴃ"]="خى",e["ﴄ"]="خي",e["ﴅ"]="صى",e["ﴆ"]="صي",e["ﴇ"]="ضى",e["ﴈ"]="ضي",e["ﴉ"]="شج",e["ﴊ"]="شح",e["ﴋ"]="شخ",e["ﴌ"]="شم",e["ﴍ"]="شر",e["ﴎ"]="سر",e["ﴏ"]="صر",e["ﴐ"]="ضر",e["ﴑ"]="طى",e["ﴒ"]="طي",e["ﴓ"]="عى",e["ﴔ"]="عي",e["ﴕ"]="غى",e["ﴖ"]="غي",e["ﴗ"]="سى",e["ﴘ"]="سي",e["ﴙ"]="شى",e["ﴚ"]="شي",e["ﴛ"]="حى",e["ﴜ"]="حي",e["ﴝ"]="جى",e["ﴞ"]="جي",e["ﴟ"]="خى",e["ﴠ"]="خي",e["ﴡ"]="صى",e["ﴢ"]="صي",e["ﴣ"]="ضى",e["ﴤ"]="ضي",e["ﴥ"]="شج",e["ﴦ"]="شح",e["ﴧ"]="شخ",e["ﴨ"]="شم",e["ﴩ"]="شر",e["ﴪ"]="سر",e["ﴫ"]="صر",e["ﴬ"]="ضر",e["ﴭ"]="شج",e["ﴮ"]="شح",e["ﴯ"]="شخ",e["ﴰ"]="شم",e["ﴱ"]="سه",e["ﴲ"]="شه",e["ﴳ"]="طم",e["ﴴ"]="سج",e["ﴵ"]="سح",e["ﴶ"]="سخ",e["ﴷ"]="شج",e["ﴸ"]="شح",e["ﴹ"]="شخ",e["ﴺ"]="طم",e["ﴻ"]="ظم",e["ﴼ"]="اً",e["ﴽ"]="اً",e["ﵐ"]="تجم",e["ﵑ"]="تحج",e["ﵒ"]="تحج",e["ﵓ"]="تحم",e["ﵔ"]="تخم",e["ﵕ"]="تمج",e["ﵖ"]="تمح",e["ﵗ"]="تمخ",e["ﵘ"]="جمح",e["ﵙ"]="جمح",e["ﵚ"]="حمي",e["ﵛ"]="حمى",e["ﵜ"]="سحج",e["ﵝ"]="سجح",e["ﵞ"]="سجى",e["ﵟ"]="سمح",e["ﵠ"]="سمح",e["ﵡ"]="سمج",e["ﵢ"]="سمم",e["ﵣ"]="سمم",e["ﵤ"]="صحح",e["ﵥ"]="صحح",e["ﵦ"]="صمم",e["ﵧ"]="شحم",e["ﵨ"]="شحم",e["ﵩ"]="شجي",e["ﵪ"]="شمخ",e["ﵫ"]="شمخ",e["ﵬ"]="شمم",e["ﵭ"]="شمم",e["ﵮ"]="ضحى",e["ﵯ"]="ضخم",e["ﵰ"]="ضخم",e["ﵱ"]="طمح",e["ﵲ"]="طمح",e["ﵳ"]="طمم",e["ﵴ"]="طمي",e["ﵵ"]="عجم",e["ﵶ"]="عمم",e["ﵷ"]="عمم",e["ﵸ"]="عمى",e["ﵹ"]="غمم",e["ﵺ"]="غمي",e["ﵻ"]="غمى",e["ﵼ"]="فخم",e["ﵽ"]="فخم",e["ﵾ"]="قمح",e["ﵿ"]="قمم",e["ﶀ"]="لحم",e["ﶁ"]="لحي",e["ﶂ"]="لحى",e["ﶃ"]="لجج",e["ﶄ"]="لجج",e["ﶅ"]="لخم",e["ﶆ"]="لخم",e["ﶇ"]="لمح",e["ﶈ"]="لمح",e["ﶉ"]="محج",e["ﶊ"]="محم",e["ﶋ"]="محي",e["ﶌ"]="مجح",e["ﶍ"]="مجم",e["ﶎ"]="مخج",e["ﶏ"]="مخم",e["ﶒ"]="مجخ",e["ﶓ"]="همج",e["ﶔ"]="همم",e["ﶕ"]="نحم",e["ﶖ"]="نحى",e["ﶗ"]="نجم",e["ﶘ"]="نجم",e["ﶙ"]="نجى",e["ﶚ"]="نمي";e["ﶛ"]="نمى",e["ﶜ"]="يمم",e["ﶝ"]="يمم",e["ﶞ"]="بخي",e["ﶟ"]="تجي",e["ﶠ"]="تجى",e["ﶡ"]="تخي",e["ﶢ"]="تخى",e["ﶣ"]="تمي",e["ﶤ"]="تمى",e["ﶥ"]="جمي",e["ﶦ"]="جحى",e["ﶧ"]="جمى",e["ﶨ"]="سخى",e["ﶩ"]="صحي",e["ﶪ"]="شحي",e["ﶫ"]="ضحي",e["ﶬ"]="لجي",e["ﶭ"]="لمي",e["ﶮ"]="يحي",e["ﶯ"]="يجي",e["ﶰ"]="يمي",e["ﶱ"]="ممي",e["ﶲ"]="قمي",e["ﶳ"]="نحي",e["ﶴ"]="قمح",e["ﶵ"]="لحم",e["ﶶ"]="عمي",e["ﶷ"]="كمي",e["ﶸ"]="نجح",e["ﶹ"]="مخي",e["ﶺ"]="لجم",e["ﶻ"]="كمم",e["ﶼ"]="لجم",e["ﶽ"]="نجح",e["ﶾ"]="جحي",e["ﶿ"]="حجي",e["ﷀ"]="مجي",e["ﷁ"]="فمي",e["ﷂ"]="بحي",e["ﷃ"]="كمم",e["ﷄ"]="عجم",e["ﷅ"]="صمم",e["ﷆ"]="سخي",e["ﷇ"]="نجي",e["﹉"]="‾",e["﹊"]="‾",e["﹋"]="‾",e["﹌"]="‾",e["﹍"]="_",e["﹎"]="_",e["﹏"]="_",e["ﺀ"]="ء",e["ﺁ"]="آ",e["ﺂ"]="آ",e["ﺃ"]="أ",e["ﺄ"]="أ",e["ﺅ"]="ؤ",e["ﺆ"]="ؤ",e["ﺇ"]="إ",e["ﺈ"]="إ",e["ﺉ"]="ئ",e["ﺊ"]="ئ",e["ﺋ"]="ئ",e["ﺌ"]="ئ",e["ﺍ"]="ا",e["ﺎ"]="ا",e["ﺏ"]="ب",e["ﺐ"]="ب",e["ﺑ"]="ب",e["ﺒ"]="ب",e["ﺓ"]="ة",e["ﺔ"]="ة",e["ﺕ"]="ت",e["ﺖ"]="ت",e["ﺗ"]="ت",e["ﺘ"]="ت",e["ﺙ"]="ث",e["ﺚ"]="ث",e["ﺛ"]="ث",e["ﺜ"]="ث",e["ﺝ"]="ج",e["ﺞ"]="ج",e["ﺟ"]="ج",e["ﺠ"]="ج",e["ﺡ"]="ح",e["ﺢ"]="ح",e["ﺣ"]="ح",e["ﺤ"]="ح",e["ﺥ"]="خ",e["ﺦ"]="خ",e["ﺧ"]="خ",e["ﺨ"]="خ",e["ﺩ"]="د",e["ﺪ"]="د",e["ﺫ"]="ذ",e["ﺬ"]="ذ",e["ﺭ"]="ر",e["ﺮ"]="ر",e["ﺯ"]="ز",e["ﺰ"]="ز",e["ﺱ"]="س",e["ﺲ"]="س",e["ﺳ"]="س",e["ﺴ"]="س",e["ﺵ"]="ش",e["ﺶ"]="ش",e["ﺷ"]="ش",e["ﺸ"]="ش",e["ﺹ"]="ص",e["ﺺ"]="ص",e["ﺻ"]="ص",e["ﺼ"]="ص",e["ﺽ"]="ض",e["ﺾ"]="ض",e["ﺿ"]="ض",e["ﻀ"]="ض",e["ﻁ"]="ط",e["ﻂ"]="ط",e["ﻃ"]="ط",e["ﻄ"]="ط",e["ﻅ"]="ظ",e["ﻆ"]="ظ",e["ﻇ"]="ظ",e["ﻈ"]="ظ",e["ﻉ"]="ع",e["ﻊ"]="ع",e["ﻋ"]="ع",e["ﻌ"]="ع",e["ﻍ"]="غ",e["ﻎ"]="غ",e["ﻏ"]="غ",e["ﻐ"]="غ",e["ﻑ"]="ف",e["ﻒ"]="ف",e["ﻓ"]="ف",e["ﻔ"]="ف",e["ﻕ"]="ق",e["ﻖ"]="ق",e["ﻗ"]="ق",e["ﻘ"]="ق",e["ﻙ"]="ك",e["ﻚ"]="ك",e["ﻛ"]="ك",e["ﻜ"]="ك",e["ﻝ"]="ل",e["ﻞ"]="ل",e["ﻟ"]="ل",e["ﻠ"]="ل",e["ﻡ"]="م",e["ﻢ"]="م",e["ﻣ"]="م",e["ﻤ"]="م",e["ﻥ"]="ن",e["ﻦ"]="ن",e["ﻧ"]="ن",e["ﻨ"]="ن",e["ﻩ"]="ه",e["ﻪ"]="ه",e["ﻫ"]="ه",e["ﻬ"]="ه",e["ﻭ"]="و",e["ﻮ"]="و",e["ﻯ"]="ى",e["ﻰ"]="ى",e["ﻱ"]="ي",e["ﻲ"]="ي",e["ﻳ"]="ي",e["ﻴ"]="ي",e["ﻵ"]="لآ",e["ﻶ"]="لآ",e["ﻷ"]="لأ",e["ﻸ"]="لأ",e["ﻹ"]="لإ",e["ﻺ"]="لإ",e["ﻻ"]="لا",e["ﻼ"]="لا"}),t.reverseIfRtl=i}),define("modules/clean/react/previews/pdf_viewer/timing",["require","exports"],function(e,t){"use strict";function n(){return i?window.performance.now():Date.now()}function o(){return new a}Object.defineProperty(t,"__esModule",{value:!0});(function(e){e[e.OVERALL=0]="OVERALL",e[e.REQUEST=1]="REQUEST",e[e.RENDER=2]="RENDER"})(t.TimingEventType||(t.TimingEventType={}));var i=!(!window.performance||!window.performance.now),a=(function(){function e(){}return e.prototype.time=function(){return this.start=n(),this},e.prototype.timeEnd=function(){return void 0===this.end&&(this.end=n()),this},e.prototype.duration=function(){return this.end-this.start},e})();t.TimingStat=a,t.makeTimer=o}),define("modules/clean/react/previews/pdf_viewer/transform",["require","exports","tslib","modules/clean/react/previews/pdf_viewer/font","file-viewer/preview_pdf/text_transform","modules/clean/referrer_cleansing_redirect","modules/core/exception"],function(e,t,n,o,i,a,r){"use strict";function s(e,t,n){return n.map(function(e){return e.coordinates.map(function(e){return{x:e.x,y:t-e.y}})})}function l(e,t,n,o,i,a,r){return r.map(function(r){return{coordinates:r.map(function(e){return{x:(e.x-t)/a,y:i-(e.y-n)/a}}),page:e,page_size:{width:o,height:i}}})}function d(e){try{var t=i.transform(e);return n.__assign({},t,{str:t.str.map(function(e){if(e.type===i.TextNodeType.link)try{return n.__assign({},e,{href:a.get_redirect_uri(e.text,!0).toString()})}catch(e){}return e})})}catch(e){r.reportException({err:new Error("PDF Text transformation failed"),tags:["pdfPreviews"],severity:r.SEVERITY.NONCRITICAL})}return{dir:i.TextDir.ltr,str:[]}}function c(e){return e&&e.pages?Object.keys(e.pages).reduce(function(t,n){return t[n]=(e.pages[n]||[]).map(function(e){var t=d(e.t);return{d:e.d,t:e.t,r:e.r,h:e.h,rawText:e.t,transformedText:t.str,dir:t.dir,font:o.renderFont(e.font)}}),t},{}):{}}Object.defineProperty(t,"__esModule",{value:!0}),a=n.__importStar(a),r=n.__importStar(r),t.transformPdfCoordinates=s,t.transformViewportCoordinates=l,t.transformPdfgenText=c}),define("modules/clean/react/previews/pdf_viewer/utils",["require","exports","tslib","modules/clean/react/previews/pdf_viewer/event_emitter"],function(e,t,n,o){"use strict";function i(e){if(p===e)return u;var t=[];return e.forEach(function(e){for(var n=e[0],o=e[1],i=e[2],a=0;a<i;a++)t.push([n,o])}),p=e,u=t,t}function a(e,t,n){return e.map(function(e){return[e[0]*t,e[1]*t]}).reduce(function(e,t){var o=e[0],i=e[1],a=t[0],r=t[1];return[Math.max(o,a),i+n+r]},[0,0])}function r(e,t){for(var n=i(e),o=[],a=0;a<n.length;a++){var r=n[a],s=r[0],l=r[1];o.push(t(a,s,l))}return o}function s(e){(new Image).src=e}function l(e,t){if(e.postMessageToParent("annotation-hidden"),o.eventEmitter.emit("resize"),t){var n=document,i=window.getSelection?window.getSelection():n.selection;if(i){var a=i.anchorNode,r=i.focusNode;t.contains(a)&&t.contains(r)&&(window.getSelection?window.getSelection().removeAllRanges():n.selection&&n.selection.empty())}}}function d(e,t){if(e)return n.__assign({},e,{annotations:e.annotations[t]||[]})}function c(e,t){void 0===t&&(t={});var n=e[0],o=e[1],i=t.maxWidth,a=t.maxHeight;if(void 0!==i&&void 0!==a){var r=Math.min(i/n,a/o);return[r*n,r*o]}return void 0!==i?[i,i/n*o]:void 0!==a?[a/o*n,a]:e}Object.defineProperty(t,"__esModule",{value:!0});var p,u;t.expandDimensions=i,t.getTotalSize=a,t.mapPages=r,t.prefetchImage=s,t.resetAnnotationState=l,t.annotationsAtPage=d,t.scaleDimension=c}),define("modules/clean/react/previews/pdf_viewer/zoom",["require","exports","modules/clean/previews/util","modules/core/browser_detection"],function(e,t,n,o){"use strict";function i(){return d.FIT_PAGE}function a(e){return n.isPptExtension(e)&&!o.is_mobile_or_tablet()?u.SINGLE_PAGE:u.CONTINUOUS}function r(e,t,n,o){var i=1;if(e===d.FIT_PAGE){for(var a=0,r=0,s=0,l=t;s<l.length;s++){var c=l[s],u=c[0],g=c[1];r=Math.max(u,r),a=Math.max(g,a)}i=Math.min(n/a,o/r)}else e===d.FIT_TO_WIDTH&&(i=o/t[0][0]);return Math.min(i,p)}function s(e,t){return 2048/Math.max(e,t)}function l(e,t){if(t){var n=t.originalHeight;if(s(t.originalWidth,n)>e)return 0}for(var o=0,i=c;o<i.length;o++){var a=i[o];if(a>=e)return a}return p}Object.defineProperty(t,"__esModule",{value:!0});var d,c=[1,2,4],p=Math.max.apply(Math,c);(function(e){e[e.NONE=0]="NONE",e[e.FIT_TO_WIDTH=1]="FIT_TO_WIDTH",e[e.FIT_PAGE=2]="FIT_PAGE"})(d=t.FittingMode||(t.FittingMode={}));var u;(function(e){e[e.CONTINUOUS=0]="CONTINUOUS",e[e.SINGLE_PAGE=1]="SINGLE_PAGE"})(u=t.ScrollMode||(t.ScrollMode={})),t.fullscreenFittingMode=i,t.defaultScrollMode=a,t.computeClientScaleFactor=r,
t.calculatedFetchedScaleFactor=l}),define("modules/clean/react/previews/preview_pdf",["require","exports","tslib","react","external/react-redux","modules/clean/previews/util","modules/clean/annotations/annotation","modules/clean/react/previews/constants","file-viewer/data/riviera_api","modules/clean/react/file_viewer/location_utils","modules/clean/react/previews/pdf_viewer/password_modal","modules/clean/react/file_viewer/constants","modules/clean/react/previews/pdf_viewer/doc_viewer","modules/clean/react/previews/pdf_viewer/event_emitter","modules/clean/react/file_viewer/data/actions","modules/clean/react/file_viewer/data/selectors","modules/clean/previews/data/selectors","modules/clean/previews/data/actions","external/lodash","modules/clean/react/previews/preview_toolbar_container","modules/clean/react/file_viewer/frame_interface","modules/clean/react/previews/pdf_viewer/frame_messenger_shims","modules/clean/web_timing_logger","modules/clean/react/previews/pdf_viewer/transform"],function(e,t,n,o,i,a,r,s,l,d,c,p,u,g,f,m,h,v,_,b,E,w,P,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importDefault(o),P=n.__importStar(P);var A=["pdf"],M=(function(e){function t(t){var o=e.call(this,t)||this;return o.downloadSucceedLogged=!1,o.renderSucceededLogged=!1,o.previewContainerElm=null,o.onRefPreview=function(e){return o.previewContainerElm=e},o.submitPassword=function(e){o._refreshBlob(e)},o.dismissPassword=function(){o.props.onError&&o.props.onError(s.ErrorType.PasswordProtectedError)},o.debouncedFetchDataForPage=_.debounce(o.fetchDataForPage,100),o._refreshBlob=function(e){var t=o.props,n=t.refreshBlobAction,i=t.revisionId,a=o.props,r=a.imageUrlTmpl,s=a.textUrlTmpl,l=a.refreshUrl;"function"==typeof n&&n(i,l||"",{image_url_tmpl:r,text_url_tmpl:s,refresh_url:l},e)},o.onToolbarMounted=function(e){o._frameMessengerClient.postMessageToParent("page-change",{current_page:e+1,pages_count:o.props.docMetadata&&o.props.docMetadata.metadata?o.props.docMetadata.metadata.page_count:0,doc_type:a.isPptExtension(o.props.fileExtension)?p.DocType.ppt:p.DocType.pdf})},o.onScrollToAnnotation=function(e){var t=function(n,o){o===e.page-1&&(g.eventEmitter.off("page-set-to",t),g.eventEmitter.emit("highlight-annotation",e.commentActivity))};g.eventEmitter.on("page-set-to",t),g.eventEmitter.emit("set-current-page",e.page-1)},o._onScrollToPage=function(e){o._frameMessengerClient.postMessageToParent("page-change",{current_page:e+1,pages_count:o.props.docMetadata&&o.props.docMetadata.metadata?o.props.docMetadata.metadata.page_count:0,doc_type:a.isPptExtension(o.props.fileExtension)?p.DocType.ppt:p.DocType.pdf});var t=50*Math.floor(e/50);t+50-e<15&&(t+=50),o.debouncedFetchDataForPage(t)},o.onFileFeedbackUIReady=function(){o._frameMessengerClient.postMessageToParent("page-rendered")},o.onUpdateAnnotations=function(e){var t=e.annotations.reduce(function(e,t){var n=t.annotation.pdf_coordinates[0].page,o=n-1;return e[o]=e[o]||[],e[o].push(t),e},[]);o.setState({annotations:t})},o.onRemoveAllAnnotations=function(){o.setState({annotations:[]})},o.onEnableAnnotationCreation=function(){o.setState({isAnnotationCreationEnabled:!0})},o.onDisableAnnotationCreation=function(){o.setState({isAnnotationCreationEnabled:!1})},o.onEnableRegionCreation=function(){var e=o.props.enableRegionCreation;e&&e()},o.onDisableRegionCreation=function(){var e=o.props.disableRegionCreation;e&&e()},o.onClearAnnotationSelection=function(){window.getSelection().removeAllRanges()},o.onMetadataLoad=function(e){o._frameMessengerClient.postMessageToParent("doc-metadata-load",{metadata:e})},o.onRequestDocMetadata=function(){var e=o.props.docMetadata;e&&e.metadata&&o._frameMessengerClient.postMessageToParent("doc-metadata-load",{metadata:e.metadata})},o.onAnnotationPlaced=function(e){o.setState({pendingAnnotation:n.__assign({},e,{commentActivity:{activity_key:"pending"},options:{isGhostAnnotation:!1,annotationNumber:-1,isAnnotationNumberingEnabled:!1}})})},o.onAnnotationHidden=function(){o.setState({pendingAnnotation:void 0})},o.onSelectionChange=_.throttle(function(){o.setState({selectionIsInViewer:o.isSelectionInViewer()})},150),o.onPageRenderComplete=function(e,t,n){o.downloadSucceedLogged||(o.downloadSucceedLogged=!0,o.logFilePreviewEvent(p.EventType.FilePreviewDownloadSucceeded)),o.renderSucceededLogged||(o.renderSucceededLogged=!0,o.markPrimaryEvent(),o.logFilePreviewEvent(p.EventType.FilePreviewRenderSucceeded),"function"==typeof o.props.setRenderStatusSuccess&&o.props.setRenderStatusSuccess(),o._frameMessengerClient.postMessageToParent("page-rendered"))},o.onPageImageLoad=function(e,t){o.markPrimaryEvent()},o.markPrimaryEvent=function(){P.mark_time_to_view(),P.mark_time_to_interactive(),o.props.filePreviewSession&&o.props.filePreviewSession.markPrimaryEvent()},o.handleImageLayerMounted=function(){o.logFilePreviewEvent(p.EventType.FilePreviewDownloadAttempted)},o.sendIdleMouse=_.debounce(function(){o._frameMessengerClient.postMessageToParent("idle-mouse")},1500),o.onMouseMove=_.throttle(function(){o._frameMessengerClient.postMessageToParent("active-mouse"),o.sendIdleMouse()},16),o.onToolbarShow=function(){o.setState({isToolbarVisible:!0})},o.onToolbarHide=function(){o.setState({isToolbarVisible:!1})},o.state={passwordRetryAttempt:0,isAnnotationHighlightEnabled:!0,showPasswordPrompt:!1,selectionIsInViewer:!1,transformedText:y.transformPdfgenText(t.docMetadata&&t.docMetadata.text)},o.logFilePreviewEvent(p.EventType.FilePreviewSupportConfirmed),t.docMetadata&&t.docMetadata.metadata&&o.logFilePreviewEvent(p.EventType.FilePreviewDownloadAttempted),o}return n.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this.frameMessengerChannel=w.makeChannel(),this.frameMessengerHost=new w.FrameMessengerHostShim(this.frameMessengerChannel),this._frameMessengerClient=new w.FrameMessengerClientShim(this.frameMessengerChannel),this._frameMessengerClient.configureParentMessaging(function(e){return g.eventEmitter.emit(e.action,e.parameters)},["open-file","page-up","page-down","set-current-page","file-feedback-ui-ready","update-annotations","focus-annotation","hover-annotation","enable-annotation-creation","disable-annotation-creation","enable-region-creation","disable-region-creation","zoom-in","zoom-out","print","remove-all-annotations","scroll-to-annotation","clear-annotation-selection","request-doc-metadata","place-default-annotation","hide-annotation"]),this._frameMessengerClient.startListening(),E.FileViewerFrameInterface.setFrameMessengerFactory(function(){return new w.FrameMessengerHostShim(e.frameMessengerChannel)}),this.props.invalidateFrameMessenger&&this.props.invalidateFrameMessenger(),this.logFilePreviewEvent(p.EventType.FilePreviewDownloadAttempted),"function"==typeof this.props.fetchDocMetadata&&this.props.fetchDocMetadata(this.props.revisionId,this.props.textUrlTmpl),this.refreshIntervalId=window.setInterval(function(){e._refreshBlob()},108e5),g.eventEmitter.on("file-feedback-ui-ready",this.onFileFeedbackUIReady),g.eventEmitter.on("scroll-to-annotation",this.onScrollToAnnotation),g.eventEmitter.on("update-annotations",this.onUpdateAnnotations),g.eventEmitter.on("remove-all-annotations",this.onRemoveAllAnnotations),g.eventEmitter.on("enable-annotation-creation",this.onEnableAnnotationCreation),g.eventEmitter.on("disable-annotation-creation",this.onDisableAnnotationCreation),g.eventEmitter.on("enable-region-creation",this.onEnableRegionCreation),g.eventEmitter.on("disable-region-creation",this.onDisableRegionCreation),g.eventEmitter.on("clear-annotation-selection",this.onClearAnnotationSelection),g.eventEmitter.on("request-doc-metadata",this.onRequestDocMetadata),g.eventEmitter.on("annotation-placed",this.onAnnotationPlaced),g.eventEmitter.on("annotation-hidden",this.onAnnotationHidden),document.addEventListener("selectionchange",this.onSelectionChange)},t.prototype.componentWillUnmount=function(){g.eventEmitter.off("file-feedback-ui-ready",this.onFileFeedbackUIReady),g.eventEmitter.off("scroll-to-annotation",this.onScrollToAnnotation),g.eventEmitter.off("update-annotations",this.onUpdateAnnotations),g.eventEmitter.off("remove-all-annotations",this.onRemoveAllAnnotations),g.eventEmitter.off("enable-annotation-creation",this.onEnableAnnotationCreation),g.eventEmitter.off("disable-annotation-creation",this.onDisableAnnotationCreation),g.eventEmitter.off("enable-region-creation",this.onEnableRegionCreation),g.eventEmitter.off("disable-region-creation",this.onDisableRegionCreation),g.eventEmitter.off("clear-annotation-selection",this.onClearAnnotationSelection),g.eventEmitter.off("request-doc-metadata",this.onRequestDocMetadata),g.eventEmitter.off("annotation-placed",this.onAnnotationPlaced),g.eventEmitter.off("annotation-hidden",this.onAnnotationHidden),document.removeEventListener("selectionchange",this.onSelectionChange),window.clearInterval(this.refreshIntervalId),d.updatePageQuery(null)},t.prototype.componentWillMount=function(){E.FileViewerFrameInterface.setFrameMessengerFactory(void 0)},t.prototype.logFilePreviewEvent=function(e,t){void 0===t&&(t={}),this.props.filePreviewSession&&this.props.filePreviewSession.recordEvent(e,t)},t.prototype.handleError=function(e,t){var n=this.props.onError;e===l.RivieraStatus.PasswordProtected?t&&A.includes(t)?this.setState({showPasswordPrompt:!0,passwordRetryAttempt:this.state.passwordRetryAttempt+1}):"function"==typeof n&&n(s.ErrorType.PasswordProtectedError,e):(this.logFilePreviewEvent(p.EventType.FilePreviewDownloadFailed,{rivieraStatusCode:e?e.toString():""}),"function"==typeof n&&n(s.ErrorType.LoadError,e))},t.prototype.handleMetadataLoad=function(e,t){e&&(this.onMetadataLoad(e.metadata),"function"==typeof t&&t(),this.setState({showPasswordPrompt:!1}))},t.prototype.componentWillReceiveProps=function(e){var t=e.docMetadata,n=e.revisionId,o=e.fileExtension,i=e.onLoad,a=e.textUrlTmpl,r=e.fetchDocMetadata,s=this.props,d=s.revisionId,c=s.docMetadata,u=s.textUrlTmpl;if(n!==d||a!==u)this.logFilePreviewEvent(p.EventType.FilePreviewSupportConfirmed),this.logFilePreviewEvent(p.EventType.FilePreviewDownloadAttempted),this.setState({passwordRetryAttempt:0,showPasswordPrompt:!1}),this.downloadSucceedLogged=!1,this.renderSucceededLogged=!1,"function"==typeof r&&r(n,a);else if(t&&t!==c){var g=t.error,f=t.metadata,m=t.text;!g||c&&g===c.error?f?(c&&f===c.metadata||(f.page_count?c&&c.metadata||this.handleMetadataLoad(t,i):this.handleError(l.RivieraStatus.Unknown)),c&&m===c.text||this.setState({transformedText:y.transformPdfgenText(m)})):this.handleError(l.RivieraStatus.Unknown,o):this.handleError(g.statusCode,o)}},Object.defineProperty(t.prototype,"startPage",{get:function(){if(this.props.location){var e=d.getPageQuery(this.props.location);if(e)return e-1}return 0},enumerable:!0,configurable:!0}),t.prototype.fetchDataForPage=function(e){if(e%50!==0)throw new Error("invalid page lower bound");var t=this.props,n=t.revisionId,o=t.textUrlTmpl,i=t.docMetadata,a=t.fetchDataForPageAction;if("function"==typeof a){if(i){var r=i.metadata,s=i.text;if(r&&r.page_count<=e)return;if(s&&s.pages&&s.pages[e])return}a(n,o,e,e+50)}},t.prototype.isSelectionInViewer=function(){var e=window.getSelection();if(!this.previewContainerElm)return!1;for(var t=0;t<e.rangeCount;++t)if(!this.previewContainerElm.contains(e.getRangeAt(t).commonAncestorContainer))return!1;return!0},t.prototype.getAnnotations=function(){var e=this.state,t=e.annotations,n=void 0===t?[]:t,o=e.pendingAnnotation;if(e.selectionIsInViewer||!o||o.annotation.type!==r.AnnotationTypes.HIGHLIGHT)return n;var i=_.clone(n),a=o.annotation.pdf_coordinates[0].page-1;return i[a]=(i[a]||[]).concat([o]),i},t.prototype.render=function(){var e=this.state,t=e.showPasswordPrompt,n=e.passwordRetryAttempt,i=e.isToolbarVisible,s=e.isAnnotationCreationEnabled,l=e.isAnnotationHighlightEnabled,d=e.pendingAnnotation,g=e.transformedText,f=this.props,m=f.docMetadata,h=f.isSidebarOpen,v=f.fileExtension,_=f.onCloseViewer,E=f.isFullscreen,w=f.shouldDisableAnnotations,P=f.isArchiveFile,y=f.sharePermission,A=f.sizeClass,M={annotations:this.getAnnotations(),isAnnotationCreationEnabled:!!s,isAnnotationRegionEnabled:!(!this.props.isAnnotationRegionEnabled||d&&d.annotation.type===r.AnnotationTypes.HIGHLIGHT),isAnnotationHighlightEnabled:!!l,frameMessenger:this._frameMessengerClient},L=m&&m.metadata&&m.metadata.page_count||0,S=a.isPptExtension(v)?p.DocType.ppt:p.DocType.pdf;return o.default.createElement("div",{ref:this.onRefPreview,className:"preview-content preview-pdf preview-pdf-ssr",onMouseMove:this.onMouseMove,onTouchStart:this.onMouseMove,onTouchMove:this.onMouseMove},t?o.default.createElement(c.PasswordModal,{onSubmit:this.submitPassword,onDismiss:this.dismissPassword,enteredWrongPassword:n>1,onComponentDidMount:this.markPrimaryEvent}):null,o.default.createElement(u.DocViewer,{onToolbarMounted:this.onToolbarMounted,onPageChange:this._onScrollToPage,annotationProps:M,fileExtension:this.props.fileExtension,isFullscreen:this.props.isFullscreen,isSidebarOpen:this.props.isSidebarOpen,isToolbarVisible:i,links:m?m.text.links:{},filePreviewSession:this.props.filePreviewSession,metadata:m?m.metadata:void 0,onExitFullscreen:this.props.onExitFullscreen,onPageImageLoad:this.onPageImageLoad,onPageRenderComplete:this.onPageRenderComplete,placeholderImageUrl:this.props.previewThumbnailUrl,printProps:this.props.printProps,sizeClass:A,text:g,imageUrlTmpl:this.props.imageUrlTmpl,useCanned:this.props.useCanned,startPage:this.startPage,comments2AnnotationsEnabled:this.props.comments2AnnotationsEnabled,onImageLayerMounted:this.handleImageLayerMounted}),m&&m.metadata&&m.metadata.page_count>0?o.default.createElement(b.PreviewToolbarContainer,{forceDisableRegionAnnotation:w,isSidebarOpen:h&&!!h[S],isFullscreen:E,previewToolbarProps:{afterFileViewerExit:_,docType:S,isArchiveFile:P,fileExtension:v,isFullscreen:E,sharePermission:y,pagesCount:L,shouldDisplayRegionCreationButton:!1,frameMessenger:this.frameMessengerHost,onToolbarShow:this.onToolbarShow,onToolbarHide:this.onToolbarHide,sizeClass:A}}):null)},t})(o.default.PureComponent);t._PreviewPDF=M;var L=i.connect(function(e,t){return{docMetadata:h.getDocMetadataByRevisionId(e,t.revisionId),isAnnotationRegionEnabled:m.getIsAnnotationRegionEnabled(e),isSidebarOpen:m.getIsSidebarOpen(e)}},{enableRegionCreation:f.enableRegionCreation,disableRegionCreation:f.disableRegionCreation,refreshBlobAction:v.refreshBlobAction,fetchDocMetadata:v.fetchDocMetadata,fetchDataForPageAction:v.fetchDataForPage})(M);t.PreviewPDF=L}),define("modules/clean/react/previews/preview_ppt",["require","exports","tslib","react","external/classnames","external/lodash","external/react-redux","modules/clean/react/file_viewer/constants","modules/clean/react/previews/pdf_viewer/sidebar","modules/clean/react/keyboard_binding/keyboard_binding_connector","modules/clean/react/previews/pdf_viewer/placeholder_image","modules/clean/react/previews/loading_indicator","modules/clean/react/previews/pdf_viewer/zoom","modules/clean/react/file_viewer/sidebar_helpers","modules/clean/react/keyboard_binding/keyboard_binding","modules/clean/react/file_viewer/data/selectors","modules/clean/react/previews/preview_toolbar_container","modules/clean/react/file_viewer/location_utils","modules/clean/react/previews/pdf_viewer/utils","modules/clean/react/previews/pdf_viewer/transform","modules/clean/react/previews/pdf_viewer/urls","modules/clean/react/previews/pdf_viewer/keyboard_bindings","modules/clean/react/previews/powerpoint/async_print_modal","modules/clean/react/previews/powerpoint/error_snackbar","modules/clean/react/previews/powerpoint/resize_listener","modules/clean/react/previews/powerpoint/close_button","modules/clean/react/previews/powerpoint/autoresize_page","modules/clean/react/previews/pdf_viewer/event_emitter","modules/clean/react/file_viewer/full_screen_helpers","modules/clean/react/previews/powerpoint/with_frame_messenger","modules/clean/react/previews/powerpoint/with_annotations","modules/clean/web_timing_logger","modules/clean/react/previews/powerpoint/with_document_metadata","modules/core/browser"],function(e,t,n,o,i,a,r,s,l,d,c,p,u,g,f,m,h,v,_,b,E,w,P,y,A,M,L,S,F,C,T,x,N,I){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importDefault(o),i=n.__importDefault(i),x=n.__importStar(x),I=n.__importStar(I);var D=["open-file","page-up","page-down","set-current-page","file-feedback-ui-ready","update-annotations","focus-annotation","hover-annotation","enable-annotation-creation","disable-annotation-creation","enable-region-creation","disable-region-creation","zoom-in","zoom-out","print","remove-all-annotations","scroll-to-annotation","clear-annotation-selection","request-doc-metadata","place-default-annotation","hide-annotation"],O=(function(e){function t(t){var n=e.call(this,t)||this;return n.downloadSucceedLogged=!1,n.renderSucceededLogged=!1,n.containerRef=function(e){return n.containerDOM=e},n.onFirstPageError=function(){n.setState({firstPageFailed:!0})},n.onResize=function(){var e=n.props,t=e.docMetadata,o=e.annotationProps;t&&o&&_.resetAnnotationState(o.frameMessenger,n.containerDOM)},n.sendIdleMouse=a.debounce(function(){n.props.frameMessengerClient.postMessageToParent("idle-mouse")},1500),n.onMouseMove=a.throttle(function(){n.props.frameMessengerClient.postMessageToParent("active-mouse"),n.sendIdleMouse()},16),n.reload=function(){I.reload(!0)},n.dismissError=function(){n.setState({error:void 0})},n.setPage=function(e,t){void 0===t&&(t=function(){});var o=n.props.docMetadata;o&&o.metadata&&(e<0||e>=o.metadata.page_count||(n.onPageChange(e),n.setState({pageIndex:e},t)))},n.onPageRenderComplete=function(e,t){n.setState({pageRendered:!0}),n.renderSucceededLogged||(n.renderSucceededLogged=!0,n.markPrimaryEvent(),n.logFilePreviewEvent(s.EventType.FilePreviewRenderSucceeded),"function"==typeof n.props.setRenderStatusSuccess&&n.props.setRenderStatusSuccess(),n.props.frameMessengerClient.postMessageToParent("page-rendered"))},n.onPageImageLoad=function(e,t){n.downloadSucceedLogged||(n.downloadSucceedLogged=!0,n.markPrimaryEvent(),n.logFilePreviewEvent(s.EventType.FilePreviewDownloadSucceeded))},n.onPageChange=function(e){n.props.frameMessengerClient.postMessageToParent("page-change",{current_page:e+1,pages_count:n.props.docMetadata&&n.props.docMetadata.metadata?n.props.docMetadata.metadata.page_count:0,doc_type:s.DocType.ppt})},n.markPrimaryEvent=function(){x.mark_time_to_view(),x.mark_time_to_interactive();var e=n.props.filePreviewSession;e&&e.markPrimaryEvent()},n.pageDown=function(){n.jumpToPage(n.state.pageIndex+1)},n.pageUp=function(){n.jumpToPage(n.state.pageIndex-1)},n.jumpToPage=function(e,t){void 0===t&&(t=function(){}),n.setState({shouldMoveToPage:!0}),n.setPage(e,t)},n.shouldNotMoveToPage=function(){n.setState({shouldMoveToPage:!1})},n.onError=function(e){n.setState({error:e})},n.onToolbarMounted=function(e){n.onPageChange(e)},n.onToolbarShow=function(){n.setState({isToolbarVisible:!0})},n.onToolbarHide=function(){n.setState({isToolbarVisible:!1})},n.setupToolbar=function(){S.eventEmitter.on("page-down",n.pageDown),S.eventEmitter.on("page-up",n.pageUp),S.eventEmitter.on("set-current-page",n.jumpToPage),S.eventEmitter.on("page-set",n.shouldNotMoveToPage),S.eventEmitter.on("error",n.onError),S.eventEmitter.on("toolbar-mounted",n.onToolbarMounted)},n.teardownToolbar=function(){S.eventEmitter.off("page-down",n.pageDown),S.eventEmitter.off("page-up",n.pageUp),S.eventEmitter.off("set-current-page",n.jumpToPage),S.eventEmitter.off("page-set",n.shouldNotMoveToPage),S.eventEmitter.off("error",n.onError),S.eventEmitter.off("toolbar-mounted",n.onToolbarMounted)},n.zoomIn=function(){n.props.frameMessengerHost.postMessageToChildren("zoom-in")},n.zoomOut=function(){n.props.frameMessengerHost.postMessageToChildren("zoom-out")},n.print=function(){S.eventEmitter.emit("print",{context:s.UserActionContext.Keyboard})},n.enterFullscreen=function(){n.props.isFullscreen||F.enterFullScreen(s.UserActionContext.Keyboard)},n.onPageUp=f.withPreventDefault(n.pageUp),n.onPageDown=f.withPreventDefault(n.pageDown),n.onEnterFullscreen=f.withPreventDefault(n.enterFullscreen),n.onZoomIn=f.withPreventDefault(n.zoomIn),n.onZoomOut=f.withPreventDefault(n.zoomOut),n.onPrintKeyPressed=f.withPreventDefault(n.print),n.handleSidebarClick=function(e){n.jumpToPage(e),n.focusSidebar()},n.focusSidebar=function(){n.setState({isSidebarFocused:!0})},n.unfocusSidebar=function(){n.setState({isSidebarFocused:!1})},n.getPages=function(){var e=n.props,t=e.docMetadata,o=e.imageUrlTmpl,i=e.useCanned,r=_.expandDimensions(t.metadata.dimensions),s=t?b.transformPdfgenText(t.text):void 0,d=t?t.text.links||{}:{},c=t.metadata.page_count;return a.range(0,c).map(function(e){return{pageIndex:e,dimension:r[e],textboxes:s?s[e]:[],links:d[e]||[],thumbnailUrl:E.imageUrl(o,e,Math.ceil(200*l.SIDEBAR_THUMBNAIL_WIDTH/r[e][0]),i)}})},n.state={pageIndex:0,fittingMode:u.FittingMode.FIT_PAGE,isSidebarFocused:!1,shouldMoveToPage:!1},n.logFilePreviewEvent(s.EventType.FilePreviewSupportConfirmed),n}return n.__extends(t,e),t.prototype.logFilePreviewEvent=function(e,t){void 0===t&&(t={});var n=this.props.filePreviewSession;n&&n.recordEvent(e,t)},t.prototype.componentDidMount=function(){this.logFilePreviewEvent(s.EventType.FilePreviewDownloadAttempted),this.setupToolbar();var e=this.props,t=e.docMetadata,n=e.startPage;t&&t.metadata&&n&&n>=0&&n<t.metadata.page_count&&this.jumpToPage(n)},t.prototype.componentWillUnmount=function(){this.teardownToolbar(),v.updatePageQuery(null)},t.prototype.render=function(){var e=this.props,t=e.docMetadata,a=e.annotationProps,r=e.fileExtension,u=e.frameMessengerHost,f=e.imageUrlTmpl,m=e.isArchiveFile,v=e.isFullscreen,_=e.isSidebarOpen,b=e.onCloseViewer,E=e.onExitFullscreen,S=e.placeholderImageUrl,F=e.printProps,C=e.sharePermission,T=e.shouldDisableAnnotations,x=e.sizeClass,N=e.useCanned;if(!t||!t.metadata)return null;var I=t.metadata,D=g.isSidebarEnabled(s.DocType.ppt,x,!!v)&&(_||{})[s.DocType.ppt],O=!this.state.pageRendered,k=!this.state.pageRendered&&S&&!this.state.firstPageFailed,R=v,B=!!this.state.error,U=!!F,z=I&&I.page_count>0,H=this.state.pageIndex,K=w.getSinglePageKeyboardBindings(v,this.onPageUp,this.onPageDown,this.onEnterFullscreen,this.onZoomIn,this.onZoomOut,this.onPrintKeyPressed),W=this.getPages();return o.default.createElement("div",{className:"preview-content preview-pdf preview-pdf-ssr",onMouseMove:this.onMouseMove,onTouchStart:this.onMouseMove,onTouchMove:this.onMouseMove},o.default.createElement("div",{className:i.default({"viewer-container":!0,"sidebar-visible":D})},O?o.default.createElement(p.LoadingIndicator,{className:"loading-indicator"}):null,k?o.default.createElement(c.PlaceholderImage,{url:S,addLeftMargin:!0,onError:this.onFirstPageError}):null,R?o.default.createElement(M.CloseButton,{onClick:E}):null,o.default.createElement(A.ResizeListener,{onChange:this.onResize}),o.default.createElement("div",{className:"pdf-viewer",style:{visibility:this.state.pageRendered?"visible":"hidden"},ref:this.containerRef},o.default.createElement(l.Sidebar,{className:i.default({"pdf-viewer__sidebar":!0,open:D}),currentPageIndex:H,pages:W,isFocused:this.state.isSidebarFocused,onClick:this.handleSidebarClick,onFocus:this.focusSidebar,onBlur:this.unfocusSidebar}),o.default.createElement(d.KeyboardBindingConnector,{keyboardBindings:K}),o.default.createElement(L.AutoresizePage,n.__assign({},this.props,{imageUrlTmpl:f,annotationProps:a,currentPageIndex:H,isSidebarOpen:!!_&&_[s.DocType.ppt],metadata:I,onPageNumberUpdated:this.setPage,onPageRenderComplete:this.onPageRenderComplete,onPageImageLoad:this.onPageImageLoad,pages:W}))),z?o.default.createElement(h.PreviewToolbarContainer,{forceDisableRegionAnnotation:T,isSidebarOpen:_&&!!_[s.DocType.ppt],isFullscreen:v,previewToolbarProps:{afterFileViewerExit:b,docType:s.DocType.ppt,isArchiveFile:m,fileExtension:r,isFullscreen:v,sharePermission:C,pagesCount:W.length,shouldDisplayRegionCreationButton:!1,frameMessenger:u,onToolbarShow:this.onToolbarShow,onToolbarHide:this.onToolbarHide,sizeClass:x}}):null,B?o.default.createElement(y.ErrorSnackbar,{error:this.state.error,isToolbarVisible:!!this.state.isToolbarVisible,onSubmit:this.reload,onCancel:this.dismissError}):null,U?o.default.createElement(P.AsyncPrintModal,{imageUrlTmpl:f,useCanned:N,metadata:I,printProps:F}):null))},t})(o.default.Component);t._PreviewPPT=O;var k=function(e,t){return{isSidebarOpen:m.getIsSidebarOpen(e)}},R=a.flow([T.withAnnotations,N.withDocumentMetadata,C.withFrameMessenger(D),r.connect(k,{})])(O);t.PreviewPPT=R});
//# sourceMappingURL=pkg-file_viewer_pdf.min.js-vflE_OC6j.map