define("modules/clean/avatar/list",["require","exports","tslib","external/classnames","react","external/react-dom-factories","external/prop-types","modules/clean/avatar/overflow_count_pill","modules/clean/avatar/size","modules/clean/react/css"],function(e,t,i,n,r,o,a,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=i.__importDefault(n),r=i.__importDefault(r),o=i.__importStar(o),a=i.__importStar(a),s=i.__importDefault(s);var _=r.default.createElement,c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._defaultRenderOverflowCount=function(e){var i=e.overflowCount;return _(s.default,{count:i,dimension:t.props.avatarDimension,key:"overflow_pill:"+i,onClick:t.props.onOverflowCountClick})},t.getClassName=function(){return n.default(["horizontal-avatar-list",t.props.className,t.props.animation?["animation","is-animated"]:null])},t}return i.__extends(t,e),t.prototype.render=function(){var e=this.props.avatars,t=this.props.maxVisible,i=0;if(this.props.undisplayableCount&&(i+=this.props.undisplayableCount),(this.props.undisplayableCount||e.length>t)&&(t--,i+=e.length-t,e=e.slice(0,t)),i){var r=null!=this.props.overflowCountRenderer?this.props.overflowCountRenderer:this._defaultRenderOverflowCount;e.push(r({overflowCount:i,avatarArgs:{avatarDimension:this.props.avatarDimension,onAvatarClick:this.props.onOverflowCountClick,titleButtonDirection:"south"}}))}return o.div({className:n.default({"c-facepile":!0})},[o.div({className:this.getClassName(),key:"facepile"},e)])},t.displayName="HorizontalAvatarList",t.propTypes={avatars:a.array.isRequired,avatarDimension:a.oneOf(l.VALID_AVATAR_DIMENSIONS).isRequired,maxVisible:a.number.isRequired,undisplayableCount:a.number.isRequired,onOverflowCountClick:a.func,overflowCountRenderer:a.func,animation:a.bool,className:a.string},t.defaultProps={className:""},t})(r.default.Component);t.default=u.requireCssWithComponent(c,["/static/css/avatar_list-vflqHc0nR.css"])}),define("modules/clean/avatar/shared_link_avatar",["require","exports","tslib","react","external/react-dom-factories","external/prop-types","modules/clean/avatar/size","modules/clean/avatar/style","modules/clean/css","modules/clean/static_urls","modules/core/i18n"],function(e,t,i,n,r,o,a,s,l,u,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=i.__importDefault(n),r=i.__importStar(r),o=i.__importStar(o),l=i.__importStar(l);var c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.componentDidMount=function(){return l.require_css("/static/css/scooter/scooter-scoped-vflWuydQl.css")},t.prototype.render=function(){var e=r.img({src:u.static_url("/static/images/avatar/shared-link-icon-vflHCU_m6.svg"),alt:this.props.alt||_._("Shared link"),width:12,className:"u-mar-horizontal-xs"}),t=["c-avatar--meta"];null!=this.props.optionalClass&&t.push(this.props.optionalClass),null!=this.props.onClick&&t.push("u-unbutton");var i=s.getClassName(this.props.dimension,t);return null!=this.props.onClick?r.button({className:i,onClick:this.props.onClick},e):r.div({className:i,onClick:this.props.onClick},e)},t.displayName="SharedLinkAvatar",t.propTypes={alt:o.string,dimension:o.oneOf(a.VALID_AVATAR_DIMENSIONS).isRequired,onClick:o.func,optionalClass:o.string},t})(n.default.Component);t.default=c}),define("modules/clean/base64",["require","exports"],function(e,t){"use strict";function i(e){var t=[],i=0,n=0,r=0,o=0,a=0;for(e+="";i<e.length;)r=e.charCodeAt(i),r<128?(t[n++]=String.fromCharCode(r),i++):r>191&&r<224?(o=e.charCodeAt(i+1),t[n++]=String.fromCharCode((31&r)<<6|63&o),i+=2):(o=e.charCodeAt(i+1),a=e.charCodeAt(i+2),t[n++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a),i+=3);return t.join("")}function n(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=void 0,n=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,_=0,c=0,d="",m=[];if(!e)return e;for(;;)if(i=e.charCodeAt(_++),n=e.charCodeAt(_++),r=e.charCodeAt(_++),u=i<<16|n<<8|r,o=u>>18&63,a=u>>12&63,s=u>>6&63,l=63&u,m[c++]=t.charAt(o)+t.charAt(a)+t.charAt(s)+t.charAt(l),!(_<e.length))break;d=m.join("");var f=e.length%3;return(f?d.slice(0,f-3):d)+"===".slice(f||3)}function r(e,t){var n=function(e){return e},r=t?n:i;if("function"==typeof window.atob)return r(window.atob(e));var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,s=0,l=[];if(!e)return e;for(e+="";;){var u=o.indexOf(e.charAt(a++)),_=o.indexOf(e.charAt(a++)),c=o.indexOf(e.charAt(a++)),d=o.indexOf(e.charAt(a++)),m=u<<18|_<<12|c<<6|d,f=m>>16&255,p=m>>8&255,v=255&m;if(l[s++]=64===c?String.fromCharCode(f):64===d?String.fromCharCode(f,p):String.fromCharCode(f,p,v),!(a<e.length))break}var g=l.join("");return g=r(g)}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=n,t.decode=r}),define("modules/clean/react/browse/action_logger",["require","exports","tslib","modules/clean/analytics","modules/clean/filepath","modules/clean/react/browse/logger_util","modules/clean/search/search_bar/data/store","modules/clean/search/search_bar/data/selectors","modules/clean/web_user_action_events","modules/clean/analytics","modules/clean/logging/hive/schemas/web-user-action","modules/clean/logging/telemetry"],function(e,t,i,n,r,o,a,s,l,u,_,c){"use strict";function d(e,n,a,s,l,u,c){var d={num_files_selected:s,num_folders_selected:l,source:n,view_type:u};if(o.isFile(c)){var m=c,f=m.request_id,p=m.ns_id,v=m.sjid,g=m.file_id,h=m.fq_path,w=m.bytes,b=m.ext;d=i.__assign({},d,{request_id:f,file_nsid:p,file_sjid:v,file_id:g,file_name:r.filename(h),file_path:h,file_size:w,file_extension:b})}else if(o.isPaper(c)){var m=c,f=m.request_id;d=i.__assign({},d,{request_id:f})}t.hiveLogger.log(new _.WebUserActionRow({user_id:e,event_name:a,source:n,view_type:u,request_id:d.request_id,file_nsid:d.file_nsid,file_sjid:d.file_sjid,file_id:d.file_id,file_name:d.file_name,file_path:d.file_path,file_size:d.file_size,file_extension:d.file_extension,extra:{num_files_selected:d.num_files_selected?d.num_files_selected.toString():null,num_folders_selected:d.num_folders_selected?d.num_folders_selected.toString():null}}))}function m(e){var i=e.uid,n=e.entity_type,r=e.view_type,o=e.file_nsid,a=e.file_sjid,s=e.file_id,u=e.file_name,c=e.file_path,d=e.file_size,m=e.file_extension,f=e.request_id;t.hiveLogger.log(new _.WebUserActionRow({user_id:i,event_name:l.WebUserActionLogEvent.SELECT_ROW,view_type:r,file_nsid:o,file_sjid:a,file_id:s,file_name:u,file_path:c,file_size:d,file_extension:m,request_id:f,extra:{entity_type:n}}))}function f(e){var i=e.uid,n=e.entity_type,r=e.source,o=e.view_type,a=e.file_nsid,s=e.file_sjid,u=e.file_id,c=e.file_name,d=e.file_path,m=e.file_size,f=e.file_extension,p=e.request_id;t.hiveLogger.log(new _.WebUserActionRow({user_id:i,event_name:l.WebUserActionLogEvent.OPEN_ROW,source:r,view_type:o,file_nsid:a,file_sjid:s,file_id:u,file_name:c,file_path:d,file_size:m,file_extension:f,request_id:p,extra:{entity_type:n}}))}function p(e){var i=e.uid,n=e.view_type;e.file_nsid,e.file_path,e.file_name;t.hiveLogger.log(new _.WebUserActionRow({user_id:i,event_name:l.WebUserActionLogEvent.CREATE_FOLDER,view_type:n}))}function v(){t.hiveLogger.log(new _.WebUserActionRow({event_name:l.WebUserActionLogEvent.CREATE_FOLDER_ERROR}))}function g(){t.hiveLogger.log(new _.WebUserActionRow({event_name:l.WebUserActionLogEvent.CREATE_FOLDER_CANCEL}))}function h(){t.hiveLogger.log(new _.WebUserActionRow({event_name:l.WebUserActionLogEvent.CREATE_FOLDER_PENDING}))}function w(){t.hiveLogger.log(new _.WebUserActionRow({event_name:l.WebUserActionLogEvent.CREATE_FOLDER_SUCCESS}))}function b(e){var i=e.uid,n=e.modal_session_id,r=e.file_nsid,o=e.file_sjid,a=e.file_id,s=e.file_name,u=e.file_path;t.hiveLogger.log(new _.WebUserActionRow({user_id:i,event_name:l.WebUserActionLogEvent.VIEW_SHARE_MODEL,file_nsid:r,file_sjid:o,file_id:a,file_name:s,file_path:u,extra:{modal_session_id:n}}))}function E(e){var i=e.uid,n=e.show_deleted_files,r=e.view_type;t.hiveLogger.log(new _.WebUserActionRow({user_id:i,event_name:l.WebUserActionLogEvent.TOGGLE_DELETED_FILES,view_type:r,extra:{show_deleted_files:n.toString()}}))}function A(e){var i=e.uid,n=e.sort_by,r=e.sort_direction,o=e.view_type;t.hiveLogger.log(new _.WebUserActionRow({user_id:i,event_name:l.WebUserActionLogEvent.SORT_RECORDS,view_type:o,extra:{sort_by:n,sort_direction:r}}))}function C(e){var i=e.uid,n=e.isSearchMode,r=e.viewType;t.hiveLogger.log(new _.WebUserActionRow({user_id:i,event_name:l.WebUserActionLogEvent.SWITCH_VIEW_TYPE,view_type:r})),n&&u.SearchClientActivityLogger.log("switch_view_type",i,{search_session_id:s.searchSessionId(a.getStoreForSearchBar().getState()),view_type:r})}function S(e){var i=e.uid,n=e.source,r=e.view_type,o=e.file_nsid,a=e.file_path,s=e.file_name,u=e.num_files_selected,c=e.num_folders_selected;t.hiveLogger.log(new _.WebUserActionRow({user_id:i,event_name:l.WebUserActionLogEvent.RESTORE,source:n,view_type:r,file_nsid:o,file_path:a,file_name:s,extra:{num_files_selected:u?u.toString():null,num_folders_selected:c?c.toString():null}}))}function O(e){var i=e.uid,n=e.event_name,r=e.selectedPath;t.hiveLogger.log(new _.WebUserActionRow({user_id:i,event_name:n,extra:r?{selectedPath:r}:{}}))}function L(e){var t=e.error_message,i=e.event_name,r=e.team_id,o=e.url;n.TeamsWebActionsLogger.log(i,{team_id:r,url:o,error_message:t})}function I(e){var t=e.uid,i=e.source,n=e.view_type,r=e.result,o=e.num_files_selected,a=e.num_folders_selected;d(t,i,l.WebUserActionLogEvent.MOVE,o,a,n,r)}function T(e){var t=e.uid,i=e.source,n=e.view_type,r=e.result,o=e.num_files_selected,a=e.num_folders_selected;d(t,i,l.WebUserActionLogEvent.OPEN_ADD_TO_COLLECTION_MODAL,o,a,n,r)}function y(e){var t=e.uid,i=e.source,n=e.view_type,r=e.result,o=e.num_files_selected,a=e.num_folders_selected;d(t,i,l.WebUserActionLogEvent.COPY,o,a,n,r)}function D(e){var t=e.uid,i=e.source,n=e.view_type,r=e.num_files_selected,o=e.num_folders_selected;d(t,i,l.WebUserActionLogEvent.VERSIONS,r,o,n)}function R(e){var t=e.uid,i=e.source,n=e.view_type,r=e.num_files_selected,o=e.num_folders_selected;d(t,i,l.WebUserActionLogEvent.OPEN_MOVE_MODAL,r,o,n)}function N(e){var t=e.uid,i=e.source,n=e.view_type,r=e.num_files_selected,o=e.num_folders_selected;d(t,i,l.WebUserActionLogEvent.RENAME,r,o,n)}function k(e){var t=e.uid,i=e.source,n=e.view_type,r=e.num_files_selected,o=e.num_folders_selected;d(t,i,l.WebUserActionLogEvent.ADD_COMMENT,r,o,n)}function P(e){var t=e.uid,i=e.source,n=e.view_type,r=e.num_files_selected,o=e.num_folders_selected;d(t,i,l.WebUserActionLogEvent.DOWNLOAD,r,o,n)}function M(e){var t=e.uid,i=e.source,n=e.view_type,r=e.num_files_selected,o=e.num_folders_selected;d(t,i,l.WebUserActionLogEvent.OPEN_COPY_MODAL,r,o,n)}function U(e){var t=e.uid,i=e.source,n=e.view_type,r=e.num_files_selected,o=e.num_folders_selected;d(t,i,l.WebUserActionLogEvent.DELETE,r,o,n)}function W(e){var t=e.uid,i=e.source,n=e.view_type,r=e.num_files_selected,o=e.num_folders_selected;d(t,i,l.WebUserActionLogEvent.PERMANENT_DELETE,r,o,n)}function x(e){var i=e.uid,n=e.file_name,r=e.upload_id,o=e.all_fsw_ids,a=e.filtered_fsw_ids;t.hiveLogger.log(new _.WebUserActionRow({user_id:i,event_name:l.WebUserActionLogEvent.FILE_UPLOAD_FSW_RETURNED,file_name:n,upload_id:r,all_fsw_ids:o,filtered_fsw_ids:a}))}function B(e){var i=e.uid,n=e.source,r=e.action,o=e.depth_folder_selected;t.hiveLogger.log(new _.WebUserActionRow({user_id:i,source:n,event_name:r,extra:{depth_folder_selected:o?o.toString():null}}))}Object.defineProperty(t,"__esModule",{value:!0}),r=i.__importStar(r),s=i.__importStar(s),c=i.__importStar(c);(function(e){e.MAESTRO_RIGHT_SIDEBAR="MAESTRO_RIGHT_SIDEBAR",e.MAESTRO_PHOTOS_RIGHT_SIDEBAR="MAESTRO_PHOTOS_RIGHT_SIDEBAR",e.LEGACY_HEADER_ACTIONS="LEGACY_HEADER_ACTIONS",e.DRAG="DRAG"})(t.BrowseLogEventSource||(t.BrowseLogEventSource={})),t.hiveLogger=new c.HiveLogger,t.logBrowseAction=d,t.logSelectRow=m,t.logOpenRow=f,t.logCreateFolder=p,t.logCreateFolderError=v,t.logCreateFolderCancel=g,t.logCreateFolderPending=h,t.logCreateFolderSuccess=w,t.logViewShareModal=b,t.logToggleDeletedFiles=E,t.logSortRecords=A,t.logSwitchViewType=C,t.logRestore=S,t.logFileOperationModalClick=O,t.logWebTeamsAction=L,t.logMoveFiles=I,t.logOpenAddToCollectionModal=T,t.logCopyFiles=y,t.logVersions=D,t.logOpenMoveModal=R,t.logRenameFiles=N,t.logAddComment=k,t.logDownload=P,t.logOpenCopyModal=M,t.logDeleteFiles=U,t.logPermanentDeleteFiles=W,t.logFileUploadFSWReturned=x,t.logFileCreateClick=B}),define("modules/clean/react/path_filter_button",["require","exports","tslib","react","spectrum/dropdown_button","modules/clean/react/title_bubble","modules/clean/em_string","modules/clean/filepath"],function(e,t,i,n,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=i.__importDefault(n),s=i.__importStar(s),t.PathFilterButton=function(e){var t=e.path,i=e.defaultText,l=e.dropdownClasses,u=e.disabled,_=e.onClick,c=t&&!s.paths_are_equal(t,"/")?a.Emstring.em_snippet(s.filename(t),10,.6):null,d=n.default.createElement(r.DropdownButton,{className:l,disabled:u,onClick:_},c||i);return c?n.default.createElement(o.TitleBubble,{content:t,position:o.TitleBubble.POSITIONS.BOTTOM},d):d}}),define("modules/clean/sharing/member_avatars",["require","exports","tslib","react","modules/clean/avatar/avatar_with_default","modules/clean/avatar/initials_avatar","modules/clean/avatar/photo_avatar","modules/clean/avatar/shared_link_avatar","modules/clean/avatar/viewer_avatar","modules/clean/avatar/list","modules/clean/react/title_bubble","modules/clean/datetime","modules/clean/em_string","modules/clean/react/tooltip","modules/clean/sharing/constants","modules/clean/sharing/link_description","modules/clean/static_urls","modules/clean/viewer","modules/core/i18n"],function(e,t,i,n,r,o,a,s,l,u,_,c,d,m,f,p,v,g,h){"use strict";function w(e){var t=e.overflowCount,i=e.avatarArgs,r=void 0===i?{}:i,a=h.ungettext("%(count)s more member","%(count)s more members",t).format({count:t}),s=t>=99?"99+":""+t,l=A(r),u=l.avatarDimension,c=l.onAvatarClick,d=l.titleButtonDirection;return n.default.createElement(_.TitleBubble,{key:"overflow_count",content:a,position:k(d)},n.default.createElement(o.InitialsAvatar,{alt:a,dimension:u,initials:s,color:"#7B8994",shape:"CIRCLE",onClick:c}))}function b(e){if(!e)return!1;var t=g.Viewer.get_viewer();if(t.is_paired){var i=t.get_user_ids(!0),n=e.map(function(e){return e.user_id});if(n.includes(i[0])&&n.includes(i[1]))return!0}return!1}function E(e,t,i){return function(n){e&&e(t,i),n.stopPropagation()}}function A(e){return i.__assign({},P,e)}function C(e){var t,a=e.arePairedUsersInSF,s=e.member,u=e.avatarArgs,c=void 0===u?{}:u,m=s.user_id,p=g.Viewer.get_viewer(),v=p.get_user_ids(!0).includes(m),h="";if(v&&a){var w=s.user_id,b=p.get_user_by_role("personal",!0),C=p.get_user_by_role("work",!0);b&&w===b.id?h="Personal":C&&w===C.id&&null!=p.team_name&&(h=p.team_name)}else h=s.display_name;h=d.Emstring.em_snippet(h,f.SNIPPET_SIZES.DISPLAY_NAME);var S=D(h,s.access_type,v,a),O=A(c),L=O.avatarDimension,I=O.onAvatarClick,T=O.titleButtonDirection,y=E(I,"member",s),R={alt:S,dimension:L,onPhotoClick:y,photoUrl:s.photo_url,defaultAvatar:n.default.createElement(o.InitialsAvatarWithColorDerivedFromName,{alt:S,dimension:L,name:s.display_name,initials:s.initials.toUpperCase(),shape:"CIRCLE",onClick:y})};return t=v?n.default.createElement(l.default,i.__assign({},R)):n.default.createElement(r.default,i.__assign({},R)),n.default.createElement(_.TitleBubble,{key:"user:"+s.user_id+":"+s.photo_url,content:S,position:k(T)},t)}function S(e){var t,i,r=e.group,s=e.avatarArgs,l=void 0===s?{}:s,u=A(l),c=u.avatarDimension,d=u.onAvatarClick,m=u.titleButtonDirection,f=E(d,"group",r);return r.is_automatic?(i=T(r.name,r.access_type),t=n.default.createElement(a.PhotoAvatar,{alt:i,dimension:c,photoUrl:v.static_url("/static/images/icons/team_32-vflk8mBzO.png"),shape:"SQUARE",onClick:f})):(i=y(r.name,r.access_type,r.num_users),t=n.default.createElement(o.InitialsAvatarWithColorDerivedFromName,{alt:i,dimension:c,name:r.name,shape:"SQUARE",initials:I(r.name),onClick:f})),n.default.createElement(_.TitleBubble,{key:"group:"+r.gid+":"+r.name,content:i,position:k(m)},t)}function O(e){var t=e.index,i=e.description,r=e.avatarArgs,o=void 0===r?{}:r,a=A(o),s=a.avatarDimension,l=a.onAvatarClick,u=a.titleButtonDirection;return n.default.createElement(_.TitleBubble,{key:"placeholder:"+t,content:i,position:k(u)},n.default.createElement("button",{className:"u-unbutton c-avatar--m",onClick:l?l:void 0},n.default.createElement("img",{alt:i,src:v.static_url("/static/images/icons/no_member-vflE0FYQV.svg"),width:s,height:s})))}function L(e){var t=e.invited_member,i=e.avatarArgs,r=void 0===i?{}:i,a=A(r),s=a.avatarDimension,l=a.onAvatarClick,u=a.titleButtonDirection,c=E(l,"invited",t),d=D(t.email_or_fbname,"pending",!1);return n.default.createElement(_.TitleBubble,{key:"invitation:"+t.invitation_id,content:d,position:k(u)},n.default.createElement(o.InitialsAvatar,{alt:d,dimension:s,color:"#aaa",initials:I(t.email_or_fbname),shape:"CIRCLE",onClick:c}))}function I(e){if(null==e||!(e.length>0))return"";var t=e.split(" "),i=t.map(function(e){return e.charAt(0).toLowerCase()});return i.length>2&&(i=i.splice(0,2)),i.join("")}function T(e,t){return("editor"===t?h._("%(team_group_name)s can edit"):h._("%(team_group_name)s can view")).format({team_group_name:d.Emstring.em_snippet(e,f.SNIPPET_SIZES.DISPLAY_NAME)})}function y(e,t,i){var n;return n="editor"===t?h.ungettext("%(num_users)s person in %(group_name)s can edit","%(num_users)s people in %(group_name)s can edit",i):h.ungettext("%(num_users)s person in %(group_name)s can view","%(num_users)s people in %(group_name)s can view",i),n.format({group_name:d.Emstring.em_snippet(e,f.SNIPPET_SIZES.DISPLAY_NAME),num_users:i})}function D(e,t,i,n){void 0===n&&(n=!1);var r,o={viewer:h._("You can view"),editor:h._("You can edit"),owner:h._("You’re the owner"),team:h._("You’re a member of this team folder"),default:h._("You")},a={viewer:h._("%(name)s can view"),editor:h._("%(name)s can edit"),owner:h._("%(name)s is the owner"),pending:h._("%(name)s hasn’t added this to their Dropbox yet"),team:h._("%(name)s is a member of this team folder"),default:h._("%(name)s"),"no access":h._("No access")},s={viewer:h._("You (%(name)s) can view"),editor:h._("You (%(name)s) can edit"),owner:h._("You (%(name)s) are the owner")};return r=i?n&&null!=e?s:o:a,r.hasOwnProperty(t)?r[t].format({name:d.Emstring.em_snippet(e,f.SNIPPET_SIZES.DISPLAY_NAME)}):""}function R(e,t,i,r,o){void 0===r&&(r=5);var a,s,l=e.length,u=t.length+i.length,_=function(e){return d.Emstring.em_snippet(e,17)};if(u>0){var c=N(t.map(function(e){return _(e.display_name)}).concat(i.map(function(e){return _(e.email_or_fbname)})),r);a=n.default.createElement(m.Tooltip,{key:"members_text",position:m.TooltipPosition.BOTTOM,tooltip_contents:c.join("\n"),tooltip_classname:o},h.ungettext("%(member_count)s member","%(member_count)s members",u).format({member_count:u}))}if(l>0){var c=N(e.map(function(e){return _(e.name)}),r);s=n.default.createElement(m.Tooltip,{key:"groups_text",position:m.TooltipPosition.BOTTOM,tooltip_contents:c.join("\n"),tooltip_classname:o},h.ungettext("%(group_count)s group","%(group_count)s groups",l).format({group_count:l}))}return a&&!s?a:s&&!a?s:s&&a?n.default.createElement("div",null,s,", ",a):void 0}function N(e,t){if(e.length>t){var i=e.slice(0,t-1),n=e.length-(t-1);return i.push(h.ungettext("and %(num)s more…","and %(num)s more…",n,{comment:"Number of additional members. Expected to be >= 2."}).format({num:n})),i}return e}function k(e){switch(e){case"north":return _.TitleBubble.POSITIONS.TOP;case"south":return _.TitleBubble.POSITIONS.BOTTOM;case"east":return _.TitleBubble.POSITIONS.RIGHT;case"west":return _.TitleBubble.POSITIONS.LEFT;default:return _.TitleBubble.POSITIONS.BOTTOM}}Object.defineProperty(t,"__esModule",{value:!0}),n=i.__importDefault(n),r=i.__importDefault(r),s=i.__importDefault(s),l=i.__importDefault(l),u=i.__importDefault(u);t.MemberAvatarsMixin={getInitialState:function(){return{paired_users_in_sf:!1}},componentWillMount:function(){var e=b(this.props.joinedMembers);this.setState({paired_users_in_sf:e})},componentWillReceiveProps:function(e){var t=b(e.joinedMembers);this.setState({paired_users_in_sf:t})},findOwnerAndMeInJoinedMembers:function(e){for(var t=null,i=null,n=0,r=e;n<r.length;n++){var o=r[n];if("owner"===o.access_type&&(t=o),o.user_id===this.props.user.id&&(i=o),t&&i)break}return[t,i]},addGroupsMembersInvitations:function(e,t,i,n,r){var o={avatarDimension:this.props.avatarDimension,onAvatarClick:this.props.onAvatarClick,titleButtonDirection:this.props.titleButtonDirection};null==r&&(r=[]);for(var a=0,s=t;a<s.length;a++){var l=s[a];e.push(S({group:l,avatarArgs:o}))}for(var u=0,_=i;u<_.length;u++){var c=_[u];r.includes(c.user_id)||e.push(C({arePairedUsersInSF:this.state.paired_users_in_sf,member:c,avatarArgs:o}))}for(var d=0,m=n;d<m.length;d++){var f=m[d];e.push(L({invited_member:f,avatarArgs:o}))}},renderAvatarList:function(e,t){return n.default.createElement(u.default,{avatars:e,avatarDimension:this.props.avatarDimension,maxVisible:this.props.maxVisibleAvatars,undisplayableCount:this.props.numUndisplayableUsersAndInvites||0,onOverflowCountClick:this.props.onOverflowCountClick,overflowCountRenderer:w,animation:this.props.animation,className:t||""})},renderSharedLink:function(e,t){var i=this,r=this.getDescriptionForSharedLinkInfo(e,t),o=n.default.createElement(s.default,{alt:r,dimension:this.props.avatarDimension,onClick:function(t){i.props.onSharedLinkClick(e),t.stopPropagation()}}),a="";return(null!=e?e.allow_download:void 0)===!1&&(a="sharing-icon-bubble-title u-font-center react-title-bubble--respect-line-break"),n.default.createElement(_.TitleBubble,{key:"shared_link",content:r,position:_.TitleBubble.POSITIONS.BOTTOM,className:a},o)},getDescriptionForSharedLinkInfo:function(e,t){var i;if(t)return p.formatSharedContentLinkDescription(t);var n=e.visibility_type,r=e.expires_posix,o=e.shared_folder_link_policy,a="";if(r){var s=(new Date).getTime()/1e3,l=r-s,u=Math.floor(l/86400);if(l<0)return h._("Link Disabled");i=new Date(1e3*r);var _=u>180;i=c.nice_date_with_month_name(i,_,!1,!0)}e.allow_download===!1&&(a=". "+h._("Downloads disabled.",{comment:'This follows a description of link visibility. For example: "Anyone with the link can view this file. Downloads disabled."'}));var d="MEMBERS_ONLY"===o;if(i){if(d)return h._("Folder members with the link can view until %(date)s").format({date:i})+a;if(n===f.SHMODEL_LINK_TOKEN_VISIBILITY.PUBLIC)return h._("People with the link can view until %(date)s").format({date:i})+a;if(n===f.SHMODEL_LINK_TOKEN_VISIBILITY.PASSWORD)return h._("People with the password can view until %(date)s").format({date:i})+a;if(n===f.SHMODEL_LINK_TOKEN_VISIBILITY.TEAM_ONLY)return h._("People at %(team_name)s can view until %(date)s").format({team_name:g.Viewer.get_viewer().team_name,date:i})+a;if(n===f.SHMODEL_LINK_TOKEN_VISIBILITY.ONLY_YOU)return h._("Only you can view until %(date)s").format({date:i})+a}else{if(d)return h._("Folder members with the link can view")+a;if(n===f.SHMODEL_LINK_TOKEN_VISIBILITY.PUBLIC)return h._("People with the link can view")+a;if(n===f.SHMODEL_LINK_TOKEN_VISIBILITY.PASSWORD)return h._("People with the password can view")+a;if(n===f.SHMODEL_LINK_TOKEN_VISIBILITY.TEAM_ONLY)return h._("People at %(team_name)s with the link can view").format({team_name:g.Viewer.get_viewer().team_name})+a;if(n===f.SHMODEL_LINK_TOKEN_VISIBILITY.ONLY_YOU)return h._("Only you can view")+a}throw Error("Unable to construct description!")}},t.renderOverflowCount=w;var P={avatarDimension:32,onAvatarClick:null,titleButtonDirection:"south"};t.renderJoinedMember=C,t.renderGroup=S,t.renderPlaceholderAvatar=O,t.renderInvitedPerson=L,t.buildGroupsAndMembersText=R,t.positionFromDirectionString=k});
//# sourceMappingURL=pkg-browse-uncommon.min.js-vflt97M8l.map