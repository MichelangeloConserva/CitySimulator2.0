define(["require","exports","tslib","external/react","external/lodash","external/classnames","modules/clean/react/comments2/position_utils"],function(t,e,o,n,i,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n=o.__importStar(n),i=o.__importStar(i),s=o.__importDefault(s);var u=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isMouseInContainer:!1,isMouseDown:!1},e.tooltipElm=null,e.onTooltipRef=function(t){return e.tooltipElm=t},e.onMouseMove=function(t){var o=e.props.containerEl;e.setState({pageRect:o?o.getBoundingClientRect():void 0,mousePosition:{top:t.clientY,left:t.clientX}})},e.onMouseUp=function(){return e.setState({isMouseDown:!1})},e.onMouseDown=function(){return e.setState({isMouseDown:!0})},e.onMouseEnter=function(){return e.setState({isMouseInContainer:!0})},e.onMouseLeave=function(){return e.setState({isMouseInContainer:!1})},e.eventMap={mousemove:e.onMouseMove,mousedown:e.onMouseDown,mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave},e}return o.__extends(e,t),e.prototype.componentDidMount=function(){this.addEventListeners(this.props.containerEl),this.setState({tooltipRect:this.tooltipElm.getBoundingClientRect()}),window.addEventListener("mouseup",this.onMouseUp)},e.prototype.componentDidUpdate=function(t){var e=this.props.containerEl,o=t.containerEl;o!==e&&(this.removeEventListeners(o),this.addEventListeners(e))},e.prototype.componentWillUnmount=function(){this.removeEventListeners(this.props.containerEl),window.removeEventListener("mouseup",this.onMouseUp)},e.prototype.removeEventListeners=function(t){t&&i.map(this.eventMap,function(e,o){t.removeEventListener(o,e)})},e.prototype.addEventListeners=function(t){t&&i.map(this.eventMap,function(e,o){t.addEventListener(o,e)})},e.prototype.getTooltipPosition=function(){var t=this.state,e=t.pageRect,n=t.tooltipRect,i=t.mousePosition,s=this.props.directionsInPriorityOrder;if(e&&n&&i){var u=o.__assign({},i,{right:i.left,bottom:i.top,height:0,width:0});return r.computePositionForElementInContainer(e,u,n,24,s)}},e.prototype.render=function(){var t=this.state,e=t.isMouseDown,o=t.isMouseInContainer,i=this.getTooltipPosition(),u=i&&"tooltip-direction-"+i.direction,p=s.default("comments2-mouse-tooltip",u,{"comments2-mouse-tooltip__is-visible":!e&&o&&i&&!this.props.disabled});return n.createElement("div",{ref:this.onTooltipRef,className:p,style:i&&r.convertPositionToCssStyle(i)},this.props.body)},e.displayName="MouseTooltip",e})(n.Component);e.MouseTooltip=u});
//# sourceMappingURL=mouse_tooltip.min.js-vflLxD1L-.map